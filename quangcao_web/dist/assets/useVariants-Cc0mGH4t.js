import{r as i,a1 as Gt,a2 as It,a3 as Ut,a4 as Jt,J as Nt,H as Wt,$ as At,w as V,ar as ft,a7 as Kt,a5 as Qt,_ as wt,as as _t,z as N,A as Pe,a8 as St,x as ar,a6 as Ht,D as ye,G as Zt,at as pt,au as ht,Y as Yt,X as Pt,av as mt,v as Xt,aw as en,ax as Vt,ah as rn,ay as tn,az as nn}from"./index-DOZzboUI.js";var gt=i.createContext(null);function an(e){var t=e.children,r=e.onBatchResize,n=i.useRef(0),a=i.useRef([]),o=i.useContext(gt),u=i.useCallback(function(l,v,c){n.current+=1;var C=n.current;a.current.push({size:l,element:v,data:c}),Promise.resolve().then(function(){C===n.current&&(r==null||r(a.current),a.current=[])}),o==null||o(l,v,c)},[r,o]);return i.createElement(gt.Provider,{value:u},t)}var $t=(function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(a,o){return a[0]===r?(n=o,!0):!1}),n}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),a=this.__entries__[n];return a&&a[1]},t.prototype.set=function(r,n){var a=e(this.__entries__,r);~a?this.__entries__[a][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,a=e(n,r);~a&&n.splice(a,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var a=0,o=this.__entries__;a<o.length;a++){var u=o[a];r.call(n,u[1],u[0])}},t})()})(),yt=typeof window<"u"&&typeof document<"u"&&window.document===document,qr=(function(){return typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),on=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(qr):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}})(),sn=2;function un(e,t){var r=!1,n=!1,a=0;function o(){r&&(r=!1,e()),n&&l()}function u(){on(o)}function l(){var v=Date.now();if(r){if(v-a<sn)return;n=!0}else r=!0,n=!1,setTimeout(u,t);a=v}return l}var ln=20,vn=["top","right","bottom","left","width","height","size","weight"],cn=typeof MutationObserver<"u",fn=(function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=un(this.refresh.bind(this),ln)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!yt||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),cn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!yt||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,a=vn.some(function(o){return!!~n.indexOf(o)});a&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e})(),Bt=(function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e}),ir=(function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||qr}),Ft=Gr(0,0,0,0);function Or(e){return parseFloat(e)||0}function Rt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,a){var o=e["border-"+a+"-width"];return n+Or(o)},0)}function dn(e){for(var t=["top","right","bottom","left"],r={},n=0,a=t;n<a.length;n++){var o=a[n],u=e["padding-"+o];r[o]=Or(u)}return r}function hn(e){var t=e.getBBox();return Gr(0,0,t.width,t.height)}function mn(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Ft;var n=ir(e).getComputedStyle(e),a=dn(n),o=a.left+a.right,u=a.top+a.bottom,l=Or(n.width),v=Or(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+o)!==t&&(l-=Rt(n,"left","right")+o),Math.round(v+u)!==r&&(v-=Rt(n,"top","bottom")+u)),!yn(e)){var c=Math.round(l+o)-t,C=Math.round(v+u)-r;Math.abs(c)!==1&&(l-=c),Math.abs(C)!==1&&(v-=C)}return Gr(a.left,a.top,l,v)}var gn=(function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof ir(e).SVGGraphicsElement}:function(e){return e instanceof ir(e).SVGElement&&typeof e.getBBox=="function"}})();function yn(e){return e===ir(e).document.documentElement}function bn(e){return yt?gn(e)?hn(e):mn(e):Ft}function wn(e){var t=e.x,r=e.y,n=e.width,a=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return Bt(u,{x:t,y:r,width:n,height:a,top:r,right:t+n,bottom:a+r,left:t}),u}function Gr(e,t,r,n){return{x:e,y:t,width:r,height:n}}var Cn=(function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Gr(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=bn(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e})(),Mn=(function(){function e(t,r){var n=wn(r);Bt(this,{target:t,contentRect:n})}return e})(),_n=(function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new $t,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof ir(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new Cn(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof ir(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new Mn(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e})(),jt=typeof WeakMap<"u"?new WeakMap:new $t,qt=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=fn.getInstance(),n=new _n(t,r,this);jt.set(this,n)}return e})();["observe","unobserve","disconnect"].forEach(function(e){qt.prototype[e]=function(){var t;return(t=jt.get(this))[e].apply(t,arguments)}});var Sn=(function(){return typeof qr.ResizeObserver<"u"?qr.ResizeObserver:qt})(),Be=new Map;function Pn(e){e.forEach(function(t){var r,n=t.target;(r=Be.get(n))===null||r===void 0||r.forEach(function(a){return a(n)})})}var Ot=new Sn(Pn);function Rn(e,t){Be.has(e)||(Be.set(e,new Set),Ot.observe(e)),Be.get(e).add(t)}function kn(e,t){Be.has(e)&&(Be.get(e).delete(t),Be.get(e).size||(Ot.unobserve(e),Be.delete(e)))}var En=(function(e){Gt(r,e);var t=It(r);function r(){return Ut(this,r),t.apply(this,arguments)}return Jt(r,[{key:"render",value:function(){return this.props.children}}]),r})(i.Component);function zn(e,t){var r=e.children,n=e.disabled,a=i.useRef(null),o=i.useRef(null),u=i.useContext(gt),l=typeof r=="function",v=l?r(a):r,c=i.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),C=!l&&i.isValidElement(v)&&Nt(v),m=C?Wt(v):null,M=At(m,a),d=function(){var y;return ft(a.current)||(a.current&&Kt(a.current)==="object"?ft((y=a.current)===null||y===void 0?void 0:y.nativeElement):null)||ft(o.current)};i.useImperativeHandle(t,function(){return d()});var S=i.useRef(e);S.current=e;var E=i.useCallback(function(g){var y=S.current,x=y.onResize,_=y.data,T=g.getBoundingClientRect(),A=T.width,h=T.height,I=g.offsetWidth,B=g.offsetHeight,ce=Math.floor(A),ae=Math.floor(h);if(c.current.width!==ce||c.current.height!==ae||c.current.offsetWidth!==I||c.current.offsetHeight!==B){var fe={width:ce,height:ae,offsetWidth:I,offsetHeight:B};c.current=fe;var ie=I===Math.round(A)?A:I,oe=B===Math.round(h)?h:B,U=V(V({},fe),{},{offsetWidth:ie,offsetHeight:oe});u==null||u(U,g,_),x&&Promise.resolve().then(function(){x(U,g)})}},[]);return i.useEffect(function(){var g=d();return g&&!n&&Rn(g,E),function(){return kn(g,E)}},[a.current,n]),i.createElement(En,{ref:o},C?i.cloneElement(v,{ref:M}):v)}var Dn=i.forwardRef(zn),xn="rc-observer-key";function Tn(e,t){var r=e.children,n=typeof r=="function"?[r]:Qt(r);return n.map(function(a,o){var u=(a==null?void 0:a.key)||"".concat(xn,"-").concat(o);return i.createElement(Dn,wt({},e,{key:u,ref:o===0?t:void 0}),a)})}var Ct=i.forwardRef(Tn);Ct.Collection=an;function dt(e){return e!==void 0}function Jn(e,t){var r=t||{},n=r.defaultValue,a=r.value,o=r.onChange,u=r.postState,l=_t(function(){return dt(a)?a:dt(n)?typeof n=="function"?n():n:typeof e=="function"?e():e}),v=N(l,2),c=v[0],C=v[1],m=a!==void 0?a:c,M=u?u(m):m,d=Pe(o),S=_t([m]),E=N(S,2),g=E[0],y=E[1];St(function(){var _=g[0];c!==_&&d(c,_)},[g]),St(function(){dt(a)||C(a)},[a]);var x=Pe(function(_,T){C(_,T),y([m],T)});return[M,x]}const Ln=(function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))});function Nn(e){var t=e.prefixCls,r=e.align,n=e.arrow,a=e.arrowPos,o=n||{},u=o.className,l=o.content,v=a.x,c=v===void 0?0:v,C=a.y,m=C===void 0?0:C,M=i.useRef();if(!r||!r.points)return null;var d={position:"absolute"};if(r.autoArrow!==!1){var S=r.points[0],E=r.points[1],g=S[0],y=S[1],x=E[0],_=E[1];g===x||!["t","b"].includes(g)?d.top=m:g==="t"?d.top=0:d.bottom=0,y===_||!["l","r"].includes(y)?d.left=c:y==="l"?d.left=0:d.right=0}return i.createElement("div",{ref:M,className:ar("".concat(t,"-arrow"),u),style:d},l)}function Wn(e){var t=e.prefixCls,r=e.open,n=e.zIndex,a=e.mask,o=e.motion;return a?i.createElement(Ht,wt({},o,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(u){var l=u.className;return i.createElement("div",{style:{zIndex:n},className:ar("".concat(t,"-mask"),l)})}):null}var An=i.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),Hn=i.forwardRef(function(e,t){var r=e.popup,n=e.className,a=e.prefixCls,o=e.style,u=e.target,l=e.onVisibleChanged,v=e.open,c=e.keepDom,C=e.fresh,m=e.onClick,M=e.mask,d=e.arrow,S=e.arrowPos,E=e.align,g=e.motion,y=e.maskMotion,x=e.forceRender,_=e.getPopupContainer,T=e.autoDestroy,A=e.portal,h=e.zIndex,I=e.onMouseEnter,B=e.onMouseLeave,ce=e.onPointerEnter,ae=e.onPointerDownCapture,fe=e.ready,ie=e.offsetX,oe=e.offsetY,U=e.offsetR,be=e.offsetB,W=e.onAlign,F=e.onPrepare,b=e.stretch,se=e.targetWidth,J=e.targetHeight,j=typeof r=="function"?r():r,w=v||c,Re=(_==null?void 0:_.length)>0,or=i.useState(!_||!Re),ke=N(or,2),p=ke[0],sr=ke[1];if(ye(function(){!p&&Re&&u&&sr(!0)},[p,Re,u]),!p)return null;var de="auto",K={left:"-1000vw",top:"-1000vh",right:de,bottom:de};if(fe||!v){var Fe,je=E.points,Ee=E.dynamicInset||((Fe=E._experimental)===null||Fe===void 0?void 0:Fe.dynamicInset),he=Ee&&je[0][1]==="r",Y=Ee&&je[0][0]==="b";he?(K.right=U,K.left=de):(K.left=ie,K.right=de),Y?(K.bottom=be,K.top=de):(K.top=oe,K.bottom=de)}var q={};return b&&(b.includes("height")&&J?q.height=J:b.includes("minHeight")&&J&&(q.minHeight=J),b.includes("width")&&se?q.width=se:b.includes("minWidth")&&se&&(q.minWidth=se)),v||(q.pointerEvents="none"),i.createElement(A,{open:x||w,getContainer:_&&function(){return _(u)},autoDestroy:T},i.createElement(Wn,{prefixCls:a,open:v,zIndex:h,mask:M,motion:y}),i.createElement(Ct,{onResize:W,disabled:!v},function(we){return i.createElement(Ht,wt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:x,leavedClassName:"".concat(a,"-hidden")},g,{onAppearPrepare:F,onEnterPrepare:F,visible:v,onVisibleChanged:function(De){var Q;g==null||(Q=g.onVisibleChanged)===null||Q===void 0||Q.call(g,De),l(De)}}),function(ze,De){var Q=ze.className,qe=ze.style,X=ar(a,Q,n);return i.createElement("div",{ref:Zt(we,t,De),className:X,style:V(V(V(V({"--arrow-x":"".concat(S.x||0,"px"),"--arrow-y":"".concat(S.y||0,"px")},K),q),qe),{},{boxSizing:"border-box",zIndex:h},o),onMouseEnter:I,onMouseLeave:B,onPointerEnter:ce,onClick:m,onPointerDownCapture:ae},d&&i.createElement(Nn,{prefixCls:a,arrow:d,arrowPos:S,align:E}),i.createElement(An,{cache:!v&&!C},j))})}))}),Vn=i.forwardRef(function(e,t){var r=e.children,n=e.getTriggerDOMNode,a=Nt(r),o=i.useCallback(function(l){pt(t,n?n(l):l)},[n]),u=At(o,Wt(r));return a?i.cloneElement(r,{ref:u}):r}),kt=i.createContext(null);function Et(e){return e?Array.isArray(e)?e:[e]:[]}function $n(e,t,r,n){return i.useMemo(function(){var a=Et(r??t),o=Et(n??t),u=new Set(a),l=new Set(o);return e&&(u.has("hover")&&(u.delete("hover"),u.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[u,l]},[e,t,r,n])}function Bn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Fn(e,t,r,n){for(var a=r.points,o=Object.keys(e),u=0;u<o.length;u+=1){var l,v=o[u];if(Bn((l=e[v])===null||l===void 0?void 0:l.points,a,n))return"".concat(t,"-placement-").concat(v)}return""}function zt(e,t,r,n){return t||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function wr(e){return e.ownerDocument.defaultView}function bt(e){for(var t=[],r=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];r;){var a=wr(r).getComputedStyle(r),o=a.overflowX,u=a.overflowY,l=a.overflow;[o,u,l].some(function(v){return n.includes(v)})&&t.push(r),r=r.parentElement}return t}function br(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function yr(e){return br(parseFloat(e),0)}function Dt(e,t){var r=V({},e);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=wr(n).getComputedStyle(n),o=a.overflow,u=a.overflowClipMargin,l=a.borderTopWidth,v=a.borderBottomWidth,c=a.borderLeftWidth,C=a.borderRightWidth,m=n.getBoundingClientRect(),M=n.offsetHeight,d=n.clientHeight,S=n.offsetWidth,E=n.clientWidth,g=yr(l),y=yr(v),x=yr(c),_=yr(C),T=br(Math.round(m.width/S*1e3)/1e3),A=br(Math.round(m.height/M*1e3)/1e3),h=(S-E-x-_)*T,I=(M-d-g-y)*A,B=g*A,ce=y*A,ae=x*T,fe=_*T,ie=0,oe=0;if(o==="clip"){var U=yr(u);ie=U*T,oe=U*A}var be=m.x+ae-ie,W=m.y+B-oe,F=be+m.width+2*ie-ae-fe-h,b=W+m.height+2*oe-B-ce-I;r.left=Math.max(r.left,be),r.top=Math.max(r.top,W),r.right=Math.min(r.right,F),r.bottom=Math.min(r.bottom,b)}}),r}function xt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function Tt(e,t){var r=t||[],n=N(r,2),a=n[0],o=n[1];return[xt(e.width,a),xt(e.height,o)]}function Lt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function nr(e,t){var r=t[0],n=t[1],a,o;return r==="t"?o=e.y:r==="b"?o=e.y+e.height:o=e.y+e.height/2,n==="l"?a=e.x:n==="r"?a=e.x+e.width:a=e.x+e.width/2,{x:a,y:o}}function $e(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,a){return a===t?r[n]||"c":n}).join("")}function jn(e,t,r,n,a,o,u){var l=i.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),v=N(l,2),c=v[0],C=v[1],m=i.useRef(0),M=i.useMemo(function(){return t?bt(t):[]},[t]),d=i.useRef({}),S=function(){d.current={}};e||S();var E=Pe(function(){if(t&&r&&e){let ne=function(mr,Se){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ur,gr=w.x+mr,Br=w.y+Se,ut=gr+Y,lt=Br+he,vt=Math.max(gr,Ve.left),s=Math.max(Br,Ve.top),f=Math.min(ut,Ve.right),k=Math.min(lt,Ve.bottom);return Math.max(0,(f-vt)*(k-s))},tr=function(){Le=w.y+z,Ne=Le+he,Je=w.x+R,_e=Je+Y};var x,_,T,A,h=t,I=h.ownerDocument,B=wr(h),ce=B.getComputedStyle(h),ae=ce.position,fe=h.style.left,ie=h.style.top,oe=h.style.right,U=h.style.bottom,be=h.style.overflow,W=V(V({},a[n]),o),F=I.createElement("div");(x=h.parentElement)===null||x===void 0||x.appendChild(F),F.style.left="".concat(h.offsetLeft,"px"),F.style.top="".concat(h.offsetTop,"px"),F.style.position=ae,F.style.height="".concat(h.offsetHeight,"px"),F.style.width="".concat(h.offsetWidth,"px"),h.style.left="0",h.style.top="0",h.style.right="auto",h.style.bottom="auto",h.style.overflow="hidden";var b;if(Array.isArray(r))b={x:r[0],y:r[1],width:0,height:0};else{var se,J,j=r.getBoundingClientRect();j.x=(se=j.x)!==null&&se!==void 0?se:j.left,j.y=(J=j.y)!==null&&J!==void 0?J:j.top,b={x:j.x,y:j.y,width:j.width,height:j.height}}var w=h.getBoundingClientRect(),Re=B.getComputedStyle(h),or=Re.height,ke=Re.width;w.x=(_=w.x)!==null&&_!==void 0?_:w.left,w.y=(T=w.y)!==null&&T!==void 0?T:w.top;var p=I.documentElement,sr=p.clientWidth,de=p.clientHeight,K=p.scrollWidth,Fe=p.scrollHeight,je=p.scrollTop,Ee=p.scrollLeft,he=w.height,Y=w.width,q=b.height,we=b.width,ze={left:0,top:0,right:sr,bottom:de},De={left:-Ee,top:-je,right:K-Ee,bottom:Fe-je},Q=W.htmlRegion,qe="visible",X="visibleFirst";Q!=="scroll"&&Q!==X&&(Q=qe);var Oe=Q===X,Ir=Dt(De,M),P=Dt(ze,M),ur=Q===qe?P:Ir,H=Oe?P:ur;h.style.left="auto",h.style.top="auto",h.style.right="0",h.style.bottom="0";var Cr=h.getBoundingClientRect();h.style.left=fe,h.style.top=ie,h.style.right=oe,h.style.bottom=U,h.style.overflow=be,(A=h.parentElement)===null||A===void 0||A.removeChild(F);var Ce=br(Math.round(Y/parseFloat(ke)*1e3)/1e3),xe=br(Math.round(he/parseFloat(or)*1e3)/1e3);if(Ce===0||xe===0||ht(r)&&!Yt(r))return;var Ur=W.offset,Mr=W.targetOffset,me=Tt(w,Ur),_r=N(me,2),ee=_r[0],ue=_r[1],Xe=Tt(b,Mr),Z=N(Xe,2),Te=Z[0],Jr=Z[1];b.x-=Te,b.y-=Jr;var Kr=W.points||[],Sr=N(Kr,2),Qr=Sr[0],Pr=Sr[1],Me=Lt(Pr),O=Lt(Qr),$=nr(b,Me),Rr=nr(w,O),re=V({},W),R=$.x-Rr.x+ee,z=$.y-Rr.y+ue,le=ne(R,z),Ge=ne(R,z,P),te=nr(b,["t","l"]),kr=nr(w,["t","l"]),lr=nr(b,["b","r"]),Ie=nr(w,["b","r"]),Ue=W.overflow||{},Zr=Ue.adjustX,Er=Ue.adjustY,er=Ue.shiftX,vr=Ue.shiftY,zr=function(Se){return typeof Se=="boolean"?Se:Se>=0},Le,Ne,Je,_e;tr();var Dr=zr(Er),G=O[0]===Me[0];if(Dr&&O[0]==="t"&&(Ne>H.bottom||d.current.bt)){var Ke=z;G?Ke-=he-q:Ke=te.y-Ie.y-ue;var xr=ne(R,Ke),pr=ne(R,Ke,P);xr>le||xr===le&&(!Oe||pr>=Ge)?(d.current.bt=!0,z=Ke,ue=-ue,re.points=[$e(O,0),$e(Me,0)]):d.current.bt=!1}if(Dr&&O[0]==="b"&&(Le<H.top||d.current.tb)){var Qe=z;G?Qe+=he-q:Qe=lr.y-kr.y-ue;var Tr=ne(R,Qe),Yr=ne(R,Qe,P);Tr>le||Tr===le&&(!Oe||Yr>=Ge)?(d.current.tb=!0,z=Qe,ue=-ue,re.points=[$e(O,0),$e(Me,0)]):d.current.tb=!1}var Lr=zr(Zr),Nr=O[1]===Me[1];if(Lr&&O[1]==="l"&&(_e>H.right||d.current.rl)){var Ze=R;Nr?Ze-=Y-we:Ze=te.x-Ie.x-ee;var pe=ne(Ze,z),cr=ne(Ze,z,P);pe>le||pe===le&&(!Oe||cr>=Ge)?(d.current.rl=!0,R=Ze,ee=-ee,re.points=[$e(O,1),$e(Me,1)]):d.current.rl=!1}if(Lr&&O[1]==="r"&&(Je<H.left||d.current.lr)){var Ye=R;Nr?Ye+=Y-we:Ye=lr.x-kr.x-ee;var fr=ne(Ye,z),rr=ne(Ye,z,P);fr>le||fr===le&&(!Oe||rr>=Ge)?(d.current.lr=!0,R=Ye,ee=-ee,re.points=[$e(O,1),$e(Me,1)]):d.current.lr=!1}tr();var ve=er===!0?0:er;typeof ve=="number"&&(Je<P.left&&(R-=Je-P.left-ee,b.x+we<P.left+ve&&(R+=b.x-P.left+we-ve)),_e>P.right&&(R-=_e-P.right-ee,b.x>P.right-ve&&(R+=b.x-P.right+ve)));var We=vr===!0?0:vr;typeof We=="number"&&(Le<P.top&&(z-=Le-P.top-ue,b.y+q<P.top+We&&(z+=b.y-P.top+q-We)),Ne>P.bottom&&(z-=Ne-P.bottom-ue,b.y>P.bottom-We&&(z+=b.y-P.bottom+We)));var Ae=w.x+R,He=Ae+Y,dr=w.y+z,Xr=dr+he,Wr=b.x,Ar=Wr+we,Hr=b.y,et=Hr+q,rt=Math.max(Ae,Wr),Vr=Math.min(He,Ar),tt=(rt+Vr)/2,nt=tt-Ae,$r=Math.max(dr,Hr),at=Math.min(Xr,et),it=($r+at)/2,ot=it-dr;u==null||u(t,re);var ge=Cr.right-w.x-(R+w.width),hr=Cr.bottom-w.y-(z+w.height);Ce===1&&(R=Math.round(R),ge=Math.round(ge)),xe===1&&(z=Math.round(z),hr=Math.round(hr));var st={ready:!0,offsetX:R/Ce,offsetY:z/xe,offsetR:ge/Ce,offsetB:hr/xe,arrowX:nt/Ce,arrowY:ot/xe,scaleX:Ce,scaleY:xe,align:re};C(st)}}),g=function(){m.current+=1;var _=m.current;Promise.resolve().then(function(){m.current===_&&E()})},y=function(){C(function(_){return V(V({},_),{},{ready:!1})})};return ye(y,[n]),ye(function(){e||y()},[e]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,g]}function qn(e,t,r,n,a){ye(function(){if(e&&t&&r){let m=function(){n(),a()};var o=t,u=r,l=bt(o),v=bt(u),c=wr(u),C=new Set([c].concat(Pt(l),Pt(v)));return C.forEach(function(M){M.addEventListener("scroll",m,{passive:!0})}),c.addEventListener("resize",m,{passive:!0}),n(),function(){C.forEach(function(M){M.removeEventListener("scroll",m),c.removeEventListener("resize",m)})}}},[e,t,r])}function On(e,t,r,n,a,o,u,l){var v=i.useRef(e);v.current=e;var c=i.useRef(!1);i.useEffect(function(){if(t&&n&&(!a||o)){var m=function(){c.current=!1},M=function(g){var y;v.current&&!u(((y=g.composedPath)===null||y===void 0||(y=y.call(g))===null||y===void 0?void 0:y[0])||g.target)&&!c.current&&l(!1)},d=wr(n);d.addEventListener("pointerdown",m,!0),d.addEventListener("mousedown",M,!0),d.addEventListener("contextmenu",M,!0);var S=mt(r);return S&&(S.addEventListener("mousedown",M,!0),S.addEventListener("contextmenu",M,!0)),function(){d.removeEventListener("pointerdown",m,!0),d.removeEventListener("mousedown",M,!0),d.removeEventListener("contextmenu",M,!0),S&&(S.removeEventListener("mousedown",M,!0),S.removeEventListener("contextmenu",M,!0))}}},[t,r,n,a,o]);function C(){c.current=!0}return C}var Gn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function In(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vt,t=i.forwardRef(function(r,n){var a=r.prefixCls,o=a===void 0?"rc-trigger-popup":a,u=r.children,l=r.action,v=l===void 0?"hover":l,c=r.showAction,C=r.hideAction,m=r.popupVisible,M=r.defaultPopupVisible,d=r.onPopupVisibleChange,S=r.afterPopupVisibleChange,E=r.mouseEnterDelay,g=r.mouseLeaveDelay,y=g===void 0?.1:g,x=r.focusDelay,_=r.blurDelay,T=r.mask,A=r.maskClosable,h=A===void 0?!0:A,I=r.getPopupContainer,B=r.forceRender,ce=r.autoDestroy,ae=r.destroyPopupOnHide,fe=r.popup,ie=r.popupClassName,oe=r.popupStyle,U=r.popupPlacement,be=r.builtinPlacements,W=be===void 0?{}:be,F=r.popupAlign,b=r.zIndex,se=r.stretch,J=r.getPopupClassNameFromAlign,j=r.fresh,w=r.alignPoint,Re=r.onPopupClick,or=r.onPopupAlign,ke=r.arrow,p=r.popupMotion,sr=r.maskMotion,de=r.popupTransitionName,K=r.popupAnimation,Fe=r.maskTransitionName,je=r.maskAnimation,Ee=r.className,he=r.getTriggerDOMNode,Y=Xt(r,Gn),q=ce||ae||!1,we=i.useState(!1),ze=N(we,2),De=ze[0],Q=ze[1];ye(function(){Q(Ln())},[]);var qe=i.useRef({}),X=i.useContext(kt),Oe=i.useMemo(function(){return{registerSubPopup:function(f,k){qe.current[f]=k,X==null||X.registerSubPopup(f,k)}}},[X]),Ir=en(),P=i.useState(null),ur=N(P,2),H=ur[0],Cr=ur[1],Ce=i.useRef(null),xe=Pe(function(s){Ce.current=s,ht(s)&&H!==s&&Cr(s),X==null||X.registerSubPopup(Ir,s)}),Ur=i.useState(null),Mr=N(Ur,2),me=Mr[0],_r=Mr[1],ee=i.useRef(null),ue=Pe(function(s){ht(s)&&me!==s&&(_r(s),ee.current=s)}),Xe=i.Children.only(u),Z=(Xe==null?void 0:Xe.props)||{},Te={},Jr=Pe(function(s){var f,k,L=me;return(L==null?void 0:L.contains(s))||((f=mt(L))===null||f===void 0?void 0:f.host)===s||s===L||(H==null?void 0:H.contains(s))||((k=mt(H))===null||k===void 0?void 0:k.host)===s||s===H||Object.values(qe.current).some(function(D){return(D==null?void 0:D.contains(s))||s===D})}),Kr=zt(o,p,K,de),Sr=zt(o,sr,je,Fe),Qr=i.useState(M||!1),Pr=N(Qr,2),Me=Pr[0],O=Pr[1],$=m??Me,Rr=Pe(function(s){m===void 0&&O(s)});ye(function(){O(m||!1)},[m]);var re=i.useRef($);re.current=$;var R=i.useRef([]);R.current=[];var z=Pe(function(s){var f;Rr(s),((f=R.current[R.current.length-1])!==null&&f!==void 0?f:$)!==s&&(R.current.push(s),d==null||d(s))}),le=i.useRef(),Ge=function(){clearTimeout(le.current)},te=function(f){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Ge(),k===0?z(f):le.current=setTimeout(function(){z(f)},k*1e3)};i.useEffect(function(){return Ge},[]);var kr=i.useState(!1),lr=N(kr,2),Ie=lr[0],Ue=lr[1];ye(function(s){(!s||$)&&Ue(!0)},[$]);var Zr=i.useState(null),Er=N(Zr,2),er=Er[0],vr=Er[1],zr=i.useState(null),Le=N(zr,2),Ne=Le[0],Je=Le[1],_e=function(f){Je([f.clientX,f.clientY])},Dr=jn($,H,w&&Ne!==null?Ne:me,U,W,F,or),G=N(Dr,11),Ke=G[0],xr=G[1],pr=G[2],Qe=G[3],Tr=G[4],Yr=G[5],Lr=G[6],Nr=G[7],Ze=G[8],pe=G[9],cr=G[10],Ye=$n(De,v,c,C),fr=N(Ye,2),rr=fr[0],ve=fr[1],We=rr.has("click"),Ae=ve.has("click")||ve.has("contextMenu"),He=Pe(function(){Ie||cr()}),dr=function(){re.current&&w&&Ae&&te(!1)};qn($,me,H,He,dr),ye(function(){He()},[Ne,U]),ye(function(){$&&!(W!=null&&W[U])&&He()},[JSON.stringify(F)]);var Xr=i.useMemo(function(){var s=Fn(W,o,pe,w);return ar(s,J==null?void 0:J(pe))},[pe,J,W,o,w]);i.useImperativeHandle(n,function(){return{nativeElement:ee.current,popupElement:Ce.current,forceAlign:He}});var Wr=i.useState(0),Ar=N(Wr,2),Hr=Ar[0],et=Ar[1],rt=i.useState(0),Vr=N(rt,2),tt=Vr[0],nt=Vr[1],$r=function(){if(se&&me){var f=me.getBoundingClientRect();et(f.width),nt(f.height)}},at=function(){$r(),He()},it=function(f){Ue(!1),cr(),S==null||S(f)},ot=function(){return new Promise(function(f){$r(),vr(function(){return f})})};ye(function(){er&&(cr(),er(),vr(null))},[er]);function ge(s,f,k,L){Te[s]=function(D){var Fr;L==null||L(D),te(f,k);for(var ct=arguments.length,Mt=new Array(ct>1?ct-1:0),jr=1;jr<ct;jr++)Mt[jr-1]=arguments[jr];(Fr=Z[s])===null||Fr===void 0||Fr.call.apply(Fr,[Z,D].concat(Mt))}}(We||Ae)&&(Te.onClick=function(s){var f;re.current&&Ae?te(!1):!re.current&&We&&(_e(s),te(!0));for(var k=arguments.length,L=new Array(k>1?k-1:0),D=1;D<k;D++)L[D-1]=arguments[D];(f=Z.onClick)===null||f===void 0||f.call.apply(f,[Z,s].concat(L))});var hr=On($,Ae,me,H,T,h,Jr,te),st=rr.has("hover"),ne=ve.has("hover"),tr,mr;st&&(ge("onMouseEnter",!0,E,function(s){_e(s)}),ge("onPointerEnter",!0,E,function(s){_e(s)}),tr=function(f){($||Ie)&&H!==null&&H!==void 0&&H.contains(f.target)&&te(!0,E)},w&&(Te.onMouseMove=function(s){var f;(f=Z.onMouseMove)===null||f===void 0||f.call(Z,s)})),ne&&(ge("onMouseLeave",!1,y),ge("onPointerLeave",!1,y),mr=function(){te(!1,y)}),rr.has("focus")&&ge("onFocus",!0,x),ve.has("focus")&&ge("onBlur",!1,_),rr.has("contextMenu")&&(Te.onContextMenu=function(s){var f;re.current&&ve.has("contextMenu")?te(!1):(_e(s),te(!0)),s.preventDefault();for(var k=arguments.length,L=new Array(k>1?k-1:0),D=1;D<k;D++)L[D-1]=arguments[D];(f=Z.onContextMenu)===null||f===void 0||f.call.apply(f,[Z,s].concat(L))}),Ee&&(Te.className=ar(Z.className,Ee));var Se=i.useRef(!1);Se.current||(Se.current=B||$||Ie);var Ve=V(V({},Z),Te),gr={},Br=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Br.forEach(function(s){Y[s]&&(gr[s]=function(){for(var f,k=arguments.length,L=new Array(k),D=0;D<k;D++)L[D]=arguments[D];(f=Ve[s])===null||f===void 0||f.call.apply(f,[Ve].concat(L)),Y[s].apply(Y,L)})});var ut=i.cloneElement(Xe,V(V({},Ve),gr)),lt={x:Yr,y:Lr},vt=ke?V({},ke!==!0?ke:{}):null;return i.createElement(i.Fragment,null,i.createElement(Ct,{disabled:!$,ref:ue,onResize:at},i.createElement(Vn,{getTriggerDOMNode:he},ut)),Se.current&&i.createElement(kt.Provider,{value:Oe},i.createElement(Hn,{portal:e,ref:xe,prefixCls:o,popup:fe,className:ar(ie,Xr),style:oe,target:me,onMouseEnter:tr,onMouseLeave:mr,onPointerEnter:tr,zIndex:b,open:$,keepDom:Ie,fresh:j,onClick:Re,onPointerDownCapture:hr,mask:T,motion:Kr,maskMotion:Sr,onVisibleChanged:it,onPrepare:ot,forceRender:B,autoDestroy:q,getPopupContainer:I,align:pe,arrow:vt,arrowPos:lt,ready:Ke,offsetX:xr,offsetY:pr,offsetR:Qe,offsetB:Tr,onAlign:He,stretch:se,targetWidth:Hr/Nr,targetHeight:tt/Ze})))});return t}const Kn=In(Vt),Qn=(e,t,r=void 0)=>{var n,a;const{variant:o,[e]:u}=i.useContext(rn),l=i.useContext(tn),v=u==null?void 0:u.variant;let c;typeof t<"u"?c=t:r===!1?c="borderless":c=(a=(n=l??v)!==null&&n!==void 0?n:o)!==null&&a!==void 0?a:"outlined";const C=nn.includes(c);return[c,C]};export{Ct as R,Kn as T,Qn as a,Ln as i,Jn as u};
