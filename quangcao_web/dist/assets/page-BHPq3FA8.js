import{r as l,a as j,j as e}from"./index-D0MEbSpB.js";import{u as C,F as m}from"./FormUser-D-OyEPKM.js";import{u as S,B as U}from"./useDebounce-CPhbcsr5.js";import{T as R,a as v}from"./data-CeuVM2Li.js";import{R as T}from"./index-ZoXGdvuY.js";import"./index-euVFnfQv.js";import"./Input-C4V1iT1F.js";import"./useVariants-D2oC6RuT.js";import"./index-PxL5M9pQ.js";import"./TitlePanel-Bv-1Xr5r.js";import"./index-CjqwyseN.js";import"./index-DxjWQaHg.js";import"./QRCode-CX6AUPKl.js";const G=()=>{const[t,u]=l.useState({openCreate:!1,openUpdate:!1}),{userId:I,username:N,userRoleId:k,userRole:z,userLeadId:h}=j(),[r,c]=l.useState({page:1,limit:10,lead:h,search:""}),[f,p]=l.useState(!1),x=S(r.search,500),{data:o,isLoading:g,refetch:y}=C({...r,search:x}),i=async()=>{p(!0);try{await y()}finally{setTimeout(()=>{p(!1)},500)}},[d,b]=l.useState(null),a=s=>()=>{u({...t,[s]:!t[s]})},w=s=>{c({...r,search:s,page:1})};return e.jsxs("div",{className:"min-h-screen p-2 w-full",children:[e.jsx(U,{toggle:a("openCreate"),refetch:i,title:"Thêm nhân sự",loading:f,onSearch:w}),e.jsx(R,{columns:v,dataSource:o==null?void 0:o.data,loading:g,rowSelection:{type:"radio",columnWidth:100,renderCell:(s,n)=>e.jsx(T,{className:"!text-cyan-600 !cursor-pointer !text-xl",onClick:()=>{b(n),a("openUpdate")()}})},pagination:{pageSize:r.limit,current:r.page,total:(o==null?void 0:o.total)||0,onChange:(s,n)=>{c({...r,page:s,limit:n})},showSizeChanger:!0,showTotal:(s,n)=>`${n[0]}-${n[1]} của ${s} nhân sự`,style:{paddingRight:"15px"},locale:{items_per_page:"/ Trang"}}}),t.openCreate&&e.jsxs("div",{className:"fixed inset-0 z-[50] flex justify-center items-center bg-black/30 px-2 overflow-y-auto min-h-screen py-6 hide-scrollbar",children:[e.jsx("style",{children:`
            .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}),e.jsx("div",{className:"w-full",children:e.jsx(m,{isAppend:!0,onCancel:a("openCreate"),onRefresh:()=>{a("openCreate")(),i()},isSupplier:!1})})]}),t.openUpdate&&d&&e.jsxs("div",{className:"fixed inset-0 z-[50] flex justify-center items-center bg-black/30 px-2 overflow-y-auto min-h-screen py-6 hide-scrollbar",children:[e.jsx("style",{children:`
            .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}),e.jsx("div",{className:"w-full",children:e.jsx(m,{isAppend:!1,onCancel:a("openUpdate"),onRefresh:()=>{a("openUpdate")(),i()},user:d,isSupplier:!1})})]})]})},H=async()=>(await new Promise(t=>setTimeout(t,2e3)),{userId:1,name:"John Doe"});export{G as default,H as loader};
