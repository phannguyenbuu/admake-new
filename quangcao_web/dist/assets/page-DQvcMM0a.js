import{r,g as vt,m as yt,f as jt,u as Vt,i as Gt,C as Fe,ax as qt,j as wt,c as oe,bn as Kt,bc as Ut,ao as Xt,az as Qt,b6 as Ct,a8 as Yt,ak as Jt,I as He,d as Ve,s as e,bS as St,bT as Zt,bU as Nt,bV as es,bW as ts,bX as ss,bY as ns,bZ as os,b_ as ue,b$ as kt,c0 as rs,c1 as as,q as Q,c2 as is,S as R,x as ls,t as ae,c3 as cs,X as me,b7 as $t,v as ve,c4 as ds,A as te,V as ms,a1 as Oe,b9 as ye,b8 as us,c5 as hs,c6 as pe,B as U,c7 as xs,c8 as gs,R as Pe,c9 as fs}from"./index-CC-dsR2w.js";import{u as ps,R as be,g as rt,a as bs}from"./dashboard-n6EA6Tqm.js";import{u as vs,G as ys,C as js}from"./Group-BD4yDvyf.js";import{f as ws,r as Cs,R as Ss,h as Ns,j as ks,k as $s,P as Ts,u as _s,e as Ms,I as Ee,a as Tt,F as ne}from"./index-Czogar2Y.js";import{M as _t,D as Ge}from"./index-CT_HbENb.js";import{M as le,C as Os,s as _e,T as Be,c as ie,d as Mt,R as Es}from"./TitlePanel-BIg70oZi.js";import{C as Bs,f as zs,c as Is,R as Ps,a as qe,u as Rs,t as Ls}from"./Managerment-KlxcGm_f.js";import{U as As,a as Ds}from"./useUpdateButtonTask-BhfcFAkf.js";import{d as ze,F as at}from"./JobAsset-Dzx5qRxS.js";import{T as Ws,a as Fs,b as it,c as ce,d as Hs}from"./TableRow-DOZIULxC.js";import{T as Vs,C as lt}from"./TableHead-hYNplpS9.js";import{B as Ae,T as de}from"./Send-DzM2kTxH.js";import{R as ct}from"./auth.service-B3q1VF4-.js";import"./QRCode-BV0PN2Jx.js";import"./Tabs-AN1c8nJx.js";const De=r.createContext({}),Gs=t=>{const{antCls:s,componentCls:n,iconCls:o,avatarBg:a,avatarColor:i,containerSize:l,containerSizeLG:d,containerSizeSM:c,textFontSize:u,textFontSizeLG:m,textFontSizeSM:p,iconFontSize:w,iconFontSizeLG:b,iconFontSizeSM:g,borderRadius:y,borderRadiusLG:T,borderRadiusSM:S,lineWidth:j,lineType:M}=t,N=(C,O,_,x)=>({width:C,height:C,borderRadius:"50%",fontSize:O,[`&${n}-square`]:{borderRadius:x},[`&${n}-icon`]:{fontSize:_,[`> ${o}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},jt(t)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:`${Vt(j)} ${M} transparent`,"&-image":{background:"transparent"},[`${s}-image-img`]:{display:"block"}}),N(l,u,w,y)),{"&-lg":Object.assign({},N(d,m,b,T)),"&-sm":Object.assign({},N(c,p,g,S)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},qs=t=>{const{componentCls:s,groupBorderColor:n,groupOverlapping:o,groupSpace:a}=t;return{[`${s}-group`]:{display:"inline-flex",[s]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:o}},[`${s}-group-popover`]:{[`${s} + ${s}`]:{marginInlineStart:a}}}},Ks=t=>{const{controlHeight:s,controlHeightLG:n,controlHeightSM:o,fontSize:a,fontSizeLG:i,fontSizeXL:l,fontSizeHeading3:d,marginXS:c,marginXXS:u,colorBorderBg:m}=t;return{containerSize:s,containerSizeLG:n,containerSizeSM:o,textFontSize:a,textFontSizeLG:a,textFontSizeSM:a,iconFontSize:Math.round((i+l)/2),iconFontSizeLG:d,iconFontSizeSM:a,groupSpace:u,groupOverlapping:-c,groupBorderColor:m}},Ot=vt("Avatar",t=>{const{colorTextLightSolid:s,colorTextPlaceholder:n}=t,o=yt(t,{avatarBg:n,avatarColor:s});return[Gs(o),qs(o)]},Ks);var Us=function(t,s){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&s.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]]);return n};const Et=r.forwardRef((t,s)=>{const{prefixCls:n,shape:o,size:a,src:i,srcSet:l,icon:d,className:c,rootClassName:u,style:m,alt:p,draggable:w,children:b,crossOrigin:g,gap:y=4,onError:T}=t,S=Us(t,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","style","alt","draggable","children","crossOrigin","gap","onError"]),[j,M]=r.useState(1),[N,C]=r.useState(!1),[O,_]=r.useState(!0),x=r.useRef(null),f=r.useRef(null),v=Gt(s,x),{getPrefixCls:h,avatar:k}=r.useContext(Fe),$=r.useContext(De),L=()=>{if(!f.current||!x.current)return;const W=f.current.offsetWidth,P=x.current.offsetWidth;W!==0&&P!==0&&y*2<P&&M(P-y*2<W?(P-y*2)/W:1)};r.useEffect(()=>{C(!0)},[]),r.useEffect(()=>{_(!0),M(1)},[i]),r.useEffect(L,[y]);const I=()=>{(T==null?void 0:T())!==!1&&_(!1)},E=qt(W=>{var P,ee;return(ee=(P=a??($==null?void 0:$.size))!==null&&P!==void 0?P:W)!==null&&ee!==void 0?ee:"default"}),F=Object.keys(typeof E=="object"?E||{}:{}).some(W=>["xs","sm","md","lg","xl","xxl"].includes(W)),G=ws(F),Y=r.useMemo(()=>{if(typeof E!="object")return{};const W=Cs.find(ee=>G[ee]),P=E[W];return P?{width:P,height:P,fontSize:P&&(d||b)?P/2:18}:{}},[G,E]),A=h("avatar",n),D=wt(A),[B,H,je]=Ot(A,D),he=oe({[`${A}-lg`]:E==="large",[`${A}-sm`]:E==="small"}),xe=r.isValidElement(i),J=o||($==null?void 0:$.shape)||"circle",we=oe(A,he,k==null?void 0:k.className,`${A}-${J}`,{[`${A}-image`]:xe||i&&O,[`${A}-icon`]:!!d},je,D,c,u,H),Ce=typeof E=="number"?{width:E,height:E,fontSize:d?E/2:18}:{};let Z;if(typeof i=="string"&&O)Z=r.createElement("img",{src:i,draggable:w,srcSet:l,onError:I,alt:p,crossOrigin:g});else if(xe)Z=i;else if(d)Z=d;else if(N||j!==1){const W=`scale(${j})`,P={msTransform:W,WebkitTransform:W,transform:W};Z=r.createElement(Ss,{onResize:L},r.createElement("span",{className:`${A}-string`,ref:f,style:Object.assign({},P)},b))}else Z=r.createElement("span",{className:`${A}-string`,style:{opacity:0},ref:f},b);return B(r.createElement("span",Object.assign({},S,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Ce),Y),k==null?void 0:k.style),m),className:we,ref:v}),Z))}),Me=t=>t?typeof t=="function"?t():t:null,Xs=t=>{const{componentCls:s,popoverColor:n,titleMinWidth:o,fontWeightStrong:a,innerPadding:i,boxShadowSecondary:l,colorTextHeading:d,borderRadiusLG:c,zIndexPopup:u,titleMarginBottom:m,colorBgElevated:p,popoverBg:w,titleBorderBottom:b,innerContentPadding:g,titlePadding:y}=t;return[{[s]:Object.assign(Object.assign({},jt(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:u,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":p,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${s}-content`]:{position:"relative"},[`${s}-inner`]:{backgroundColor:w,backgroundClip:"padding-box",borderRadius:c,boxShadow:l,padding:i},[`${s}-title`]:{minWidth:o,marginBottom:m,color:d,fontWeight:a,borderBottom:b,padding:y},[`${s}-inner-content`]:{color:n,padding:g}})},Ns(t,"var(--antd-arrow-background-color)"),{[`${s}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${s}-content`]:{display:"inline-block"}}}]},Qs=t=>{const{componentCls:s}=t;return{[s]:Ut.map(n=>{const o=t[`${n}6`];return{[`&${s}-${n}`]:{"--antd-arrow-background-color":o,[`${s}-inner`]:{backgroundColor:o},[`${s}-arrow`]:{background:"transparent"}}}})}},Ys=t=>{const{lineWidth:s,controlHeight:n,fontHeight:o,padding:a,wireframe:i,zIndexPopupBase:l,borderRadiusLG:d,marginXS:c,lineType:u,colorSplit:m,paddingSM:p}=t,w=n-o,b=w/2,g=w/2-s,y=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},ks(t)),$s({contentRadius:d,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:c,titlePadding:i?`${b}px ${y}px ${g}px`:0,titleBorderBottom:i?`${s}px ${u} ${m}`:"none",innerContentPadding:i?`${p}px ${y}px`:0})},Bt=vt("Popover",t=>{const{colorBgElevated:s,colorText:n}=t,o=yt(t,{popoverBg:s,popoverColor:n});return[Xs(o),Qs(o),Kt(o,"zoom-big")]},Ys,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Js=function(t,s){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&s.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]]);return n};const zt=({title:t,content:s,prefixCls:n})=>!t&&!s?null:r.createElement(r.Fragment,null,t&&r.createElement("div",{className:`${n}-title`},t),s&&r.createElement("div",{className:`${n}-inner-content`},s)),Zs=t=>{const{hashId:s,prefixCls:n,className:o,style:a,placement:i="top",title:l,content:d,children:c}=t,u=Me(l),m=Me(d),p=oe(s,n,`${n}-pure`,`${n}-placement-${i}`,o);return r.createElement("div",{className:p,style:a},r.createElement("div",{className:`${n}-arrow`}),r.createElement(Ts,Object.assign({},t,{className:s,prefixCls:n}),c||r.createElement(zt,{prefixCls:n,title:u,content:m})))},en=t=>{const{prefixCls:s,className:n}=t,o=Js(t,["prefixCls","className"]),{getPrefixCls:a}=r.useContext(Fe),i=a("popover",s),[l,d,c]=Bt(i);return l(r.createElement(Zs,Object.assign({},o,{prefixCls:i,hashId:d,className:oe(n,c)})))};var tn=function(t,s){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&s.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]]);return n};const sn=r.forwardRef((t,s)=>{var n,o;const{prefixCls:a,title:i,content:l,overlayClassName:d,placement:c="top",trigger:u="hover",children:m,mouseEnterDelay:p=.1,mouseLeaveDelay:w=.1,onOpenChange:b,overlayStyle:g={},styles:y,classNames:T}=t,S=tn(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:j,className:M,style:N,classNames:C,styles:O}=Xt("popover"),_=j("popover",a),[x,f,v]=Bt(_),h=j(),k=oe(d,f,v,M,C.root,T==null?void 0:T.root),$=oe(C.body,T==null?void 0:T.body),[L,I]=_s(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(o=t.defaultOpen)!==null&&o!==void 0?o:t.defaultVisible}),E=(D,B)=>{I(D,!0),b==null||b(D,B)},F=D=>{D.keyCode===Yt.ESC&&E(!1,D)},G=D=>{E(D)},Y=Me(i),A=Me(l);return x(r.createElement(Ms,Object.assign({placement:c,trigger:u,mouseEnterDelay:p,mouseLeaveDelay:w},S,{prefixCls:_,classNames:{root:k,body:$},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},O.root),N),g),y==null?void 0:y.root),body:Object.assign(Object.assign({},O.body),y==null?void 0:y.body)},ref:s,open:L,onOpenChange:G,overlay:Y||A?r.createElement(zt,{prefixCls:_,title:Y,content:A}):null,transitionName:Qt(h,"zoom-big",S.transitionName),"data-popover-inject":!0}),Ct(m,{onKeyDown:D=>{var B,H;r.isValidElement(m)&&((H=m==null?void 0:(B=m.props).onKeyDown)===null||H===void 0||H.call(B,D)),F(D)}})))}),It=sn;It._InternalPanelDoNotUseOrYouWillBeFired=en;const dt=t=>{const{size:s,shape:n}=r.useContext(De),o=r.useMemo(()=>({size:t.size||s,shape:t.shape||n}),[t.size,t.shape,s,n]);return r.createElement(De.Provider,{value:o},t.children)},nn=t=>{var s,n,o,a;const{getPrefixCls:i,direction:l}=r.useContext(Fe),{prefixCls:d,className:c,rootClassName:u,style:m,maxCount:p,maxStyle:w,size:b,shape:g,maxPopoverPlacement:y,maxPopoverTrigger:T,children:S,max:j}=t,M=i("avatar",d),N=`${M}-group`,C=wt(M),[O,_,x]=Ot(M,C),f=oe(N,{[`${N}-rtl`]:l==="rtl"},x,C,c,u,_),v=Jt(S).map(($,L)=>Ct($,{key:`avatar-key-${L}`})),h=(j==null?void 0:j.count)||p,k=v.length;if(h&&h<k){const $=v.slice(0,h),L=v.slice(h,k),I=(j==null?void 0:j.style)||w,E=((s=j==null?void 0:j.popover)===null||s===void 0?void 0:s.trigger)||T||"hover",F=((n=j==null?void 0:j.popover)===null||n===void 0?void 0:n.placement)||y||"top",G=Object.assign(Object.assign({content:L},j==null?void 0:j.popover),{classNames:{root:oe(`${N}-popover`,(a=(o=j==null?void 0:j.popover)===null||o===void 0?void 0:o.classNames)===null||a===void 0?void 0:a.root)},placement:F,trigger:E});return $.push(r.createElement(It,Object.assign({key:"avatar-popover-key",destroyOnHidden:!0},G),r.createElement(Et,{style:I},`+${k-h}`))),O(r.createElement(dt,{shape:g,size:b},r.createElement("div",{className:f,style:m},$)))}return O(r.createElement(dt,{shape:g,size:b},r.createElement("div",{className:f,style:m},v)))},Pt=Et;Pt.Group=nn;var on={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},rn=function(s,n){return r.createElement(He,Ve({},s,{ref:n,icon:on}))},We=r.forwardRef(rn),an={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},ln=function(s,n){return r.createElement(He,Ve({},s,{ref:n,icon:an}))},cn=r.forwardRef(ln),dn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 00-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z"}}]},name:"question",theme:"outlined"},mn=function(s,n){return r.createElement(He,Ve({},s,{ref:n,icon:dn}))},un=r.forwardRef(mn);const Rt=r.createContext(null);function Ke(){return r.useContext(Rt)}const hn=typeof Symbol=="function"&&Symbol.for,xn=hn?Symbol.for("mui.nested"):"__THEME_NESTED__";function gn(t,s){return typeof s=="function"?s(t):{...t,...s}}function fn(t){const{children:s,theme:n}=t,o=Ke(),a=r.useMemo(()=>{const i=o===null?{...n}:gn(o,n);return i!=null&&(i[xn]=o!==null),i},[n,o]);return e.jsx(Rt.Provider,{value:a,children:s})}function pn(t){const s=St(),n=Zt()||"",{modularCssLayers:o}=t;let a="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!o||s!==null?a="":typeof o=="string"?a=o.replace(/mui(?!\.)/g,a):a=`@layer ${a};`,Nt(()=>{var d,c;const i=document.querySelector("head");if(!i)return;const l=i.firstChild;if(a){if(l&&((d=l.hasAttribute)!=null&&d.call(l,"data-mui-layer-order"))&&l.getAttribute("data-mui-layer-order")===n)return;const u=document.createElement("style");u.setAttribute("data-mui-layer-order",n),u.textContent=a,i.prepend(u)}else(c=i.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()},[a,n]),a?e.jsx(es,{styles:a}):null}const mt={};function ut(t,s,n,o=!1){return r.useMemo(()=>{const a=t&&s[t]||s;if(typeof n=="function"){const i=n(a),l=t?{...s,[t]:i}:i;return o?()=>l:l}return t?{...s,[t]:n}:{...s,...n}},[t,s,n,o])}function Lt(t){const{children:s,theme:n,themeId:o}=t,a=St(mt),i=Ke()||mt,l=ut(o,a,n),d=ut(o,i,n,!0),c=(o?l[o]:l).direction==="rtl",u=pn(l);return e.jsx(fn,{theme:d,children:e.jsx(ts.Provider,{value:l,children:e.jsx(ss,{value:c,children:e.jsxs(ns,{value:o?l[o].components:l.components,children:[u,s]})})})})}const Ue="mode",Xe="color-scheme",bn="data-color-scheme";function vn(t){const{defaultMode:s="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:o="dark",modeStorageKey:a=Ue,colorSchemeStorageKey:i=Xe,attribute:l=bn,colorSchemeNode:d="document.documentElement",nonce:c}=t||{};let u="",m=l;if(l==="class"&&(m=".%s"),l==="data"&&(m="[data-%s]"),m.startsWith(".")){const w=m.substring(1);u+=`${d}.classList.remove('${w}'.replace('%s', light), '${w}'.replace('%s', dark));
      ${d}.classList.add('${w}'.replace('%s', colorScheme));`}const p=m.match(/\[([^[\]]+)\]/);if(p){const[w,b]=p[1].split("=");b||(u+=`${d}.removeAttribute('${w}'.replace('%s', light));
      ${d}.removeAttribute('${w}'.replace('%s', dark));`),u+=`
      ${d}.setAttribute('${w}'.replace('%s', colorScheme), ${b?`${b}.replace('%s', colorScheme)`:'""'});`}else u+=`${d}.setAttribute('${m}', colorScheme);`;return e.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${s}';
  const dark = localStorage.getItem('${i}-dark') || '${o}';
  const light = localStorage.getItem('${i}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function yn(){}const jn=({key:t,storageWindow:s})=>(!s&&typeof window<"u"&&(s=window),{get(n){if(typeof window>"u")return;if(!s)return n;let o;try{o=s.localStorage.getItem(t)}catch{}return o||n},set:n=>{if(s)try{s.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!s)return yn;const o=a=>{const i=a.newValue;a.key===t&&n(i)};return s.addEventListener("storage",o),()=>{s.removeEventListener("storage",o)}}});function Re(){}function ht(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function At(t,s){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return s("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return s("dark")}function wn(t){return At(t,s=>{if(s==="light")return t.lightColorScheme;if(s==="dark")return t.darkColorScheme})}function Cn(t){const{defaultMode:s="light",defaultLightColorScheme:n,defaultDarkColorScheme:o,supportedColorSchemes:a=[],modeStorageKey:i=Ue,colorSchemeStorageKey:l=Xe,storageWindow:d=typeof window>"u"?void 0:window,storageManager:c=jn,noSsr:u=!1}=t,m=a.join(","),p=a.length>1,w=r.useMemo(()=>c==null?void 0:c({key:i,storageWindow:d}),[c,i,d]),b=r.useMemo(()=>c==null?void 0:c({key:`${l}-light`,storageWindow:d}),[c,l,d]),g=r.useMemo(()=>c==null?void 0:c({key:`${l}-dark`,storageWindow:d}),[c,l,d]),[y,T]=r.useState(()=>{const x=(w==null?void 0:w.get(s))||s,f=(b==null?void 0:b.get(n))||n,v=(g==null?void 0:g.get(o))||o;return{mode:x,systemMode:ht(x),lightColorScheme:f,darkColorScheme:v}}),[S,j]=r.useState(u||!p);r.useEffect(()=>{j(!0)},[]);const M=wn(y),N=r.useCallback(x=>{T(f=>{if(x===f.mode)return f;const v=x??s;return w==null||w.set(v),{...f,mode:v,systemMode:ht(v)}})},[w,s]),C=r.useCallback(x=>{x?typeof x=="string"?x&&!m.includes(x)?console.error(`\`${x}\` does not exist in \`theme.colorSchemes\`.`):T(f=>{const v={...f};return At(f,h=>{h==="light"&&(b==null||b.set(x),v.lightColorScheme=x),h==="dark"&&(g==null||g.set(x),v.darkColorScheme=x)}),v}):T(f=>{const v={...f},h=x.light===null?n:x.light,k=x.dark===null?o:x.dark;return h&&(m.includes(h)?(v.lightColorScheme=h,b==null||b.set(h)):console.error(`\`${h}\` does not exist in \`theme.colorSchemes\`.`)),k&&(m.includes(k)?(v.darkColorScheme=k,g==null||g.set(k)):console.error(`\`${k}\` does not exist in \`theme.colorSchemes\`.`)),v}):T(f=>(b==null||b.set(n),g==null||g.set(o),{...f,lightColorScheme:n,darkColorScheme:o}))},[m,b,g,n,o]),O=r.useCallback(x=>{y.mode==="system"&&T(f=>{const v=x!=null&&x.matches?"dark":"light";return f.systemMode===v?f:{...f,systemMode:v}})},[y.mode]),_=r.useRef(O);return _.current=O,r.useEffect(()=>{if(typeof window.matchMedia!="function"||!p)return;const x=(...v)=>_.current(...v),f=window.matchMedia("(prefers-color-scheme: dark)");return f.addListener(x),x(f),()=>{f.removeListener(x)}},[p]),r.useEffect(()=>{if(p){const x=(w==null?void 0:w.subscribe(h=>{(!h||["light","dark","system"].includes(h))&&N(h||s)}))||Re,f=(b==null?void 0:b.subscribe(h=>{(!h||m.match(h))&&C({light:h})}))||Re,v=(g==null?void 0:g.subscribe(h=>{(!h||m.match(h))&&C({dark:h})}))||Re;return()=>{x(),f(),v()}}},[C,N,m,s,d,p,w,b,g]),{...y,mode:S?y.mode:void 0,systemMode:S?y.systemMode:void 0,colorScheme:S?M:void 0,setMode:N,setColorScheme:C}}const Sn="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Nn(t){const{themeId:s,theme:n={},modeStorageKey:o=Ue,colorSchemeStorageKey:a=Xe,disableTransitionOnChange:i=!1,defaultColorScheme:l,resolveTheme:d}=t,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=r.createContext(void 0),m=()=>r.useContext(u)||c,p={},w={};function b(S){var tt,st,nt,ot;const{children:j,theme:M,modeStorageKey:N=o,colorSchemeStorageKey:C=a,disableTransitionOnChange:O=i,storageManager:_,storageWindow:x=typeof window>"u"?void 0:window,documentNode:f=typeof document>"u"?void 0:document,colorSchemeNode:v=typeof document>"u"?void 0:document.documentElement,disableNestedContext:h=!1,disableStyleSheetGeneration:k=!1,defaultMode:$="system",forceThemeRerender:L=!1,noSsr:I}=S,E=r.useRef(!1),F=Ke(),G=r.useContext(u),Y=!!G&&!h,A=r.useMemo(()=>M||(typeof n=="function"?n():n),[M]),D=A[s],B=D||A,{colorSchemes:H=p,components:je=w,cssVarPrefix:he}=B,xe=Object.keys(H).filter(V=>!!H[V]).join(","),J=r.useMemo(()=>xe.split(","),[xe]),we=typeof l=="string"?l:l.light,Ce=typeof l=="string"?l:l.dark,Z=H[we]&&H[Ce]?$:((st=(tt=H[B.defaultColorScheme])==null?void 0:tt.palette)==null?void 0:st.mode)||((nt=B.palette)==null?void 0:nt.mode),{mode:W,setMode:P,systemMode:ee,lightColorScheme:Qe,darkColorScheme:Ye,colorScheme:Wt,setColorScheme:Je}=Cn({supportedColorSchemes:J,defaultLightColorScheme:we,defaultDarkColorScheme:Ce,modeStorageKey:N,colorSchemeStorageKey:C,defaultMode:Z,storageManager:_,storageWindow:x,noSsr:I});let Ie=W,q=Wt;Y&&(Ie=G.mode,q=G.colorScheme);let Se=q||B.defaultColorScheme;B.vars&&!L&&(Se=B.defaultColorScheme);const ge=r.useMemo(()=>{var re;const V=((re=B.generateThemeVars)==null?void 0:re.call(B))||B.vars,z={...B,components:je,colorSchemes:H,cssVarPrefix:he,vars:V};if(typeof z.generateSpacing=="function"&&(z.spacing=z.generateSpacing()),Se){const X=H[Se];X&&typeof X=="object"&&Object.keys(X).forEach(K=>{X[K]&&typeof X[K]=="object"?z[K]={...z[K],...X[K]}:z[K]=X[K]})}return d?d(z):z},[B,Se,je,H,he]),fe=B.colorSchemeSelector;Nt(()=>{if(q&&v&&fe&&fe!=="media"){const V=fe;let z=fe;if(V==="class"&&(z=".%s"),V==="data"&&(z="[data-%s]"),V!=null&&V.startsWith("data-")&&!V.includes("%s")&&(z=`[${V}="%s"]`),z.startsWith("."))v.classList.remove(...J.map(re=>z.substring(1).replace("%s",re))),v.classList.add(z.substring(1).replace("%s",q));else{const re=z.replace("%s",q).match(/\[([^\]]+)\]/);if(re){const[X,K]=re[1].split("=");K||J.forEach(Ht=>{v.removeAttribute(X.replace(q,Ht))}),v.setAttribute(X,K?K.replace(/"|'/g,""):"")}else v.setAttribute(z,q)}}},[q,fe,v,J]),r.useEffect(()=>{let V;if(O&&E.current&&f){const z=f.createElement("style");z.appendChild(f.createTextNode(Sn)),f.head.appendChild(z),window.getComputedStyle(f.body),V=setTimeout(()=>{f.head.removeChild(z)},1)}return()=>{clearTimeout(V)}},[q,O,f]),r.useEffect(()=>(E.current=!0,()=>{E.current=!1}),[]);const Ft=r.useMemo(()=>({allColorSchemes:J,colorScheme:q,darkColorScheme:Ye,lightColorScheme:Qe,mode:Ie,setColorScheme:Je,setMode:P,systemMode:ee}),[J,q,Ye,Qe,Ie,Je,P,ee,ge.colorSchemeSelector]);let Ze=!0;(k||B.cssVariables===!1||Y&&(F==null?void 0:F.cssVarPrefix)===he)&&(Ze=!1);const et=e.jsxs(r.Fragment,{children:[e.jsx(Lt,{themeId:D?s:void 0,theme:ge,children:j}),Ze&&e.jsx(os,{styles:((ot=ge.generateStyleSheets)==null?void 0:ot.call(ge))||[]})]});return Y?et:e.jsx(u.Provider,{value:Ft,children:et})}const g=typeof l=="string"?l:l.light,y=typeof l=="string"?l:l.dark;return{CssVarsProvider:b,useColorScheme:m,getInitColorSchemeScript:S=>vn({colorSchemeStorageKey:a,defaultLightColorScheme:g,defaultDarkColorScheme:y,modeStorageKey:o,...S})}}function kn({theme:t,...s}){const n=ue in t?t[ue]:void 0;return e.jsx(Lt,{...s,themeId:n?ue:void 0,theme:n||t})}const Ne={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:$n}=Nn({themeId:ue,theme:()=>kt({cssVariables:!0}),colorSchemeStorageKey:Ne.colorSchemeStorageKey,modeStorageKey:Ne.modeStorageKey,defaultColorScheme:{light:Ne.defaultLightColorScheme,dark:Ne.defaultDarkColorScheme},resolveTheme:t=>{const s={...t,typography:rs(t.palette,t.typography)};return s.unstable_sx=function(o){return as({sx:o,theme:this})},s}}),Tn=$n;function _n({theme:t,...s}){const n=r.useMemo(()=>{if(typeof t=="function")return t;const o=ue in t?t[ue]:t;return"colorSchemes"in o?null:"vars"in o?t:{...t,vars:null}},[t]);return n?e.jsx(kn,{theme:n,...s}):e.jsx(Tn,{theme:t,...s})}const Mn=()=>{const[t,s]=r.useState(!1),{notifyList:n,notifyDelete:o,setNotifyList:a,getNotifyList:i,isMobile:l}=Q(),[d,c]=r.useState(1);r.useRef(null);const[u,m]=r.useState({}),p=(S,j)=>{const N=S.currentTarget.getBoundingClientRect(),C=N.left+N.width/2,O=N.top+N.height/2,_=Math.hypot(S.clientX-C,S.clientY-O),x=200,f=1,v=1.05;let h=v-_/x*(v-f);h<f&&(h=f),m(k=>({...k,[j]:h}))},w=(S,j)=>{S.currentTarget.style.backgroundColor="",m(M=>({...M,[j]:1}))},b=S=>{o(S),n.length===1&&s(!1),a(j=>j.filter(M=>M.id!==S))},g=()=>{i(),s(!0)},y=()=>s(!1),T={display:"flex",justifyContent:"space-between",gap:10,alignItems:"center",marginBottom:8,padding:10,paddingLeft:40,paddingRight:40,border:"1px solid #00B5B4",borderRadius:30,fontSize:12,transition:"background-color 0.6s ease, transform 0.2s ease",cursor:"pointer"};return e.jsxs(e.Fragment,{children:[e.jsx(Ae,{style:{background:"none",border:"none"},onClick:g,children:e.jsx("span",{className:"text-white font-semibold text-sm px-3 py-1.5 bg-red-600 rounded-full",children:n.length})}),e.jsx(is,{open:t,onClose:y,"aria-labelledby":"notification-modal-title","aria-describedby":"notification-modal-description",children:e.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"20px",borderRadius:"8px",width:l?"90vw":"60vw",maxHeight:"80vh"},children:[n.length===0&&e.jsx("p",{children:"KhÃ´ng cÃ³ thÃ´ng bÃ¡o nÃ o"}),e.jsx(R,{height:"60vh",style:{overflowX:"hidden",overflowY:"auto"},children:e.jsx("ul",{children:n.map(S=>e.jsxs("li",{style:{...T,backgroundColor:"transparent",transform:`scale(${u[S.id??""]||1})`,transition:"transform 0.2s ease"},onMouseEnter:j=>j.currentTarget.style.backgroundColor="#76ffffff",onMouseMove:j=>p(j,S.id??""),onMouseLeave:j=>w(j,S.id??""),children:[e.jsxs("a",{href:S.target,children:[e.jsx("span",{children:S.text})," ",e.jsx("span",{style:{fontWeight:700,color:"#00B5B4"},children:S.description})]}),e.jsx(ls,{"aria-label":"close",size:"small",onClick:()=>{ae.success({message:"XÃ³a thÃ´ng bÃ¡o thÃ nh cÃ´ng !"}),b(S.id??"")},children:e.jsx(Bs,{fontSize:"small",style:{color:"#00B5B4"}})})]},S.id))})}),e.jsx(Ae,{onClick:y,variant:"contained",style:{marginTop:10,borderRadius:20,backgroundColor:"#00B5B4"},children:"OK"})]})})]})},On=t=>new Promise(s=>{setTimeout(s,t)}),En=()=>{const{workspaceEl:t,setWorkspaceEl:s}=vs(),[n,o]=r.useState(!1),[a,i]=r.useState(""),[l,d]=r.useState([]),{refetch:c}=cs((t==null?void 0:t.id)??""),{userId:u,userRoleId:m,workspaces:p,isMobile:w}=Q();r.useEffect(()=>{d(p)},[p]);const b=N=>{if(i(N),!N)d(p);else{const C=p.filter(O=>O.name.toLowerCase().includes(N.toLowerCase()));d(C)}},g=N=>{const C=p.find(O=>O.id.toString()===N.key);C&&(console.log("Selected Group:",C),s(C),o(!0))},y=()=>{o(!1),s(null),c()},[T,S]=r.useState(!1),j={cursor:"pointer",position:"relative",top:-20,left:0,marginTop:0,height:25,width:80,fontWeight:700,color:"#fff",padding:"0px 20px",borderRadius:10,transition:"background-color 0.3s"},M=e.jsxs("div",{style:{padding:8},children:[e.jsx(Ee,{allowClear:!0,placeholder:"TÃ¬m kiáº¿m tÃªn khÃ¡ch hÃ ng",value:a,prefix:e.jsx(Tt,{className:"!text-cyan-500 !text-xs sm:!text-sm"}),onChange:N=>b(N.target.value),style:{marginBottom:8}}),l&&e.jsx(_t,{items:l==null?void 0:l.map(N=>({key:N.id,label:N.name})),onClick:g,style:{maxHeight:"50vh",overflowY:"auto"}})]});return e.jsxs("div",{className:"flex items-center",children:[e.jsx(R,{direction:"row",spacing:2,px:.5,sx:{backgroundColor:"#00B4B6",maxHeight:30,borderRadius:5},children:e.jsx(Ge,{overlay:M,trigger:["click"],children:e.jsx(me,{sx:{width:100,height:25,top:2,position:"relative",borderRadius:10,backgroundColor:T?"rgba(255,255,255,0.5)":"none",transition:"background-color 1s ease",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontWeight:500,fontSize:12},onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:e.jsx("span",{style:j,children:"CHAT"})})})}),e.jsx(le,{open:n,onOk:y,onCancel:y,footer:null,title:`${t==null?void 0:t.name}`,okText:"OK",cancelButtonProps:{style:{display:"none"}},style:{padding:0,minWidth:"96vw",minHeight:"82vh",top:60},children:e.jsx(ys,{})})]})};var $e={exports:{}},Bn=$e.exports,xt;function zn(){return xt||(xt=1,(function(t,s){(function(n,o){t.exports=o()})(Bn,(function(){return function(n,o){o.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}}))})($e)),$e.exports}var In=zn();const Pn=$t(In);var Te={exports:{}},Rn=Te.exports,gt;function Ln(){return gt||(gt=1,(function(t,s){(function(n,o){t.exports=o()})(Rn,(function(){return function(n,o){o.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}}))})(Te)),Te.exports}var An=Ln();const Dn=$t(An);ze.extend(Rs);ze.extend(Ls);ze.extend(Pn);ze.extend(Dn);const Wn=[{key:"status",label:"Tiáº¿n trÃ¬nh"}];function Fn(){const[t,s]=r.useState([]),n=r.useContext(As),{userLeadId:o,workspaces:a,isMobile:i}=Q(),[l,d]=r.useState("");if(!n)throw new Error("UpdateButtonContext not found");const[c,u]=r.useState([]),[m,p]=r.useState(!1),[w,b]=r.useState(!1),[g,y]=r.useState([]),[T,S]=r.useState(!1),[j,M]=r.useState(null),[N,C]=r.useState(null),[O]=ne.useForm(),_=(h,k,$)=>{d(h);let L=c;h&&(L=L.filter(I=>{var E,F,G;return((E=I==null?void 0:I.title)==null?void 0:E.toLowerCase().includes(h.toLowerCase()))||((F=I==null?void 0:I.workspace)==null?void 0:F.toLowerCase().includes(h.toLowerCase()))||((G=I==null?void 0:I.description)==null?void 0:G.toLowerCase().includes(h.toLowerCase()))}),y(L)),y(L)};async function x(){const h=`${ve()}/task/inlead/${o}`;try{const k=await fetch(h,{method:"GET"});if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const $=await k.json();u($),y($)}catch(k){console.error("Failed to fetch tasks data:",k)}}r.useEffect(()=>{m&&x()},[m]),r.useEffect(()=>{if(!g)return;const h=g.reduce((k,$)=>$!=null&&$.status?(k[$==null?void 0:$.status]||(k[$==null?void 0:$.status]=[]),k[$==null?void 0:$.status].push($),k):[],{});s(zs.map(k=>({...k,tasks:h[k.type]||[]})))},[g]);const f=()=>p(!1),v={items:Wn,onClick:({key:h})=>{h==="status"?(p(!0),b(!1)):(b(!0),p(!1))}};return e.jsxs(e.Fragment,{children:[e.jsx(Ge,{menu:v,children:e.jsx(me,{sx:{width:100,height:25,top:0,padding:1.8,position:"relative",borderRadius:10,backgroundColor:T?"rgba(255,255,255,0.5)":"#00B4B5",transition:"background-color 1s ease",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",color:"#fff",fontWeight:500,fontSize:12},onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:"Lá»ŠCH TRÃŒNH"})}),e.jsxs(le,{title:"Báº¢NG CÃ”NG VIá»†C Tá»”NG Há»¢P",open:m,onCancel:f,style:{minWidth:i?"320vw":"95vw",padding:0},footer:null,closable:!1,children:[e.jsx(ne,{children:e.jsxs(R,{direction:i?"column":"row",spacing:2,style:{paddingBottom:2},children:[e.jsx(Ee,{allowClear:!0,placeholder:"TÃ¬m kiáº¿m cÃ´ng viá»‡c",value:l,prefix:e.jsx(Tt,{className:"!text-cyan-500 !text-xs sm:!text-sm"}),onChange:h=>_(h.target.value),style:{marginBottom:8,width:300}}),!1]})}),e.jsx("button",{onClick:f,style:{position:"fixed",top:64,right:i?10:60,zIndex:1e3,background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:"Ã—"}),e.jsx(R,{direction:"row",spacing:1,children:t.map((h,k)=>{var I,E;const $=Is[k],L=h.type==="REWARD";return e.jsxs(Os,{style:{background:`linear-gradient(135deg, ${$.color} 0%, ${$.color}dd 100%)`,borderRadius:10,overflow:"hidden",width:"100%",boxShadow:"0 0 10px rgba(0,0,0,0.2)",height:"fit-content",padding:0},children:[e.jsx(Hn,{title:h.title,length:((I=h==null?void 0:h.tasks)==null?void 0:I.length)??0}),(E=h==null?void 0:h.tasks)==null?void 0:E.map(F=>e.jsx(Vn,{theme:$,isRewardColumn:L,task:F},F.id))]},h.id)})})]})]})}const Hn=({title:t,length:s})=>e.jsxs("div",{className:"flex items-center justify-between !text-white !text-sm font-semibold",style:{padding:8},children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:"w-2 h-2 bg-white/30 rounded-full flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t}),e.jsx("div",{className:"bg-white/20 rounded-full px-2 py-0.5 text-xs font-bold border border-white/5 flex-shrink-0",children:s})]}),e.jsx(Ps,{className:"cursor-pointer hover:bg-white/20 rounded-md p-1.5 transition-all duration-200 flex-shrink-0"})]}),Vn=({isRewardColumn:t,task:s,theme:n})=>e.jsxs("div",{className:"task-card group/task relative mb-3 transition-all duration-200",style:{transition:"none",cursor:"pointer",padding:1},onClick:()=>{window.location.href=`/dashboard/work-tables/${s.workspace_id}`},children:[e.jsx("div",{className:"absolute inset-0 rounded-xl blur opacity-0 group-hover/task:opacity-20 transition-opacity duration-200",style:{background:`linear-gradient(135deg, ${n.color}40, ${n.color}20)`}}),e.jsxs("div",{className:`relative bg-white rounded-xl p-2 sm:p-3 border transition-all duration-300 

      shadow-md border-gray-100/50 group-hover/task:shadow-lg group-hover/task:border-gray-200/70`,children:[t&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"ðŸ†"}),e.jsxs("div",{className:"space-y-1 sm:space-y-1.5",children:[e.jsx("h3",{className:`font-bold text-xs sm:text-sm line-clamp-2 transition-colors duration-150 flex-1 min-w-0 ${t?"text-purple-800":"text-gray-800 group-hover/task:text-gray-900"}`,children:s.title}),e.jsxs("p",{children:[":: ",s.workspace," ::"]}),s.description&&e.jsx("p",{className:"text-gray-500 text-xs line-clamp-2 leading-relaxed",children:s.description}),s.reward&&s.reward!==0&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 font-semibold",children:[e.jsx("span",{children:"ðŸ’°"}),e.jsxs("span",{className:"truncate",children:[s.reward.toLocaleString()," VNÄ"]})]}),(s==null?void 0:s.rate)&&(s==null?void 0:s.rate)>0&&e.jsx("div",{className:"text-xs text-gray-400 font-mono flex-shrink-0",children:[...Array(s.rate)].map((o,a)=>e.jsx(qe,{style:{color:"orange"}},a))})]})]})]}),Gn=kt({typography:{fontSize:12,body1:{fontWeight:300}}}),qn=({questionOpen:t,onCancel:s,children:n})=>{const{userLeadId:o,isMobile:a}=Q(),{workpointSetting:i,setWorkpointSetting:l}=ds(),d=u=>{const{name:m,value:p,type:w,checked:b}=u.target;if(w==="checkbox")l(g=>g&&(m==="work_in_sunday"&&b?{...g,[m]:b,work_in_saturday_noon:!0}:{...g,[m]:b}));else if(w==="number"){const g=p===""?0:parseFloat(p);isNaN(g)||l(y=>y&&{...y,[m]:g})}else if(m.endsWith("_in_hour")||m.endsWith("_in_minute")||m.endsWith("_out_hour")||m.endsWith("_out_minute")){const[g]=p.split(":"),y=parseInt(g,10);isNaN(y)||l(T=>T&&{...T,[m]:y})}},c=u=>{if(u.preventDefault(),!i){console.error("Form state chÆ°a Ä‘Æ°á»£c khá»Ÿi táº¡o");return}const m={morning_in_hour:i.morning_in_hour,morning_in_minute:i.morning_in_minute,morning_out_hour:i.morning_out_hour,morning_out_minute:i.morning_out_minute,noon_in_hour:i.noon_in_hour,noon_in_minute:i.noon_in_minute,noon_out_hour:i.noon_out_hour,noon_out_minute:i.noon_out_minute,work_in_saturday_noon:i.work_in_saturday_noon,work_in_sunday:i.work_in_sunday,multiply_in_night_overtime:i.multiply_in_night_overtime,multiply_in_sun_overtime:i.multiply_in_sun_overtime};fetch(`${ve()}/workpoint/setting/${o}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then(p=>{if(!p.ok)throw new Error("Lá»—i khi cáº­p nháº­t cáº¥u hÃ¬nh");return p.json()}).then(p=>{_e.success("Cáº­p nháº­t thÃ nh cÃ´ng"),s()}).catch(p=>{_e.error(p.message||"Lá»—i máº¡ng")})};return e.jsx(le,{open:t,onCancel:s,footer:null,title:"KÃ­ hiá»‡u & cáº¥u hÃ¬nh pháº§n cháº¥m cÃ´ng",children:e.jsxs(_n,{theme:Gn,children:[e.jsxs(R,{direction:"row",spacing:1,p:2,children:[e.jsxs(R,{spacing:1,children:[e.jsxs(R,{direction:"row",spacing:1,children:[e.jsx(me,{sx:{width:20,height:20,borderRadius:10,background:"none",border:"1px solid #000"}}),e.jsx(te,{style:{whiteSpace:"nowrap"},children:"ChÆ°a check-in"})]}),e.jsxs(R,{direction:"row",spacing:1,children:[e.jsx(me,{sx:{width:20,height:20,borderRadius:10,background:"green"}}),e.jsx(te,{children:"ÄÃ£ check-in"})]}),e.jsxs(R,{direction:"row",spacing:1,children:[e.jsx(me,{sx:{width:20,height:20,borderRadius:10,background:"red"}}),e.jsx(te,{children:"ÄÃ£ check-out"})]}),e.jsxs(R,{direction:"row",spacing:1,children:[e.jsx(me,{sx:{width:20,height:20,borderRadius:10,background:"grey"}}),e.jsx(te,{children:"Nghá»‰ phÃ©p"})]})]}),e.jsxs(R,{direction:"row",spacing:1,sx:{height:72},children:[e.jsxs(R,{sx:{background:"#999",borderRadius:8,width:30,pt:2},children:[e.jsx(te,{color:"#fff",textAlign:"center",fontSize:10,fontWeight:300,children:"0.00"}),e.jsx(te,{color:"#fff",textAlign:"center",fontSize:10,fontWeight:300,children:"0.00"})]}),e.jsxs(R,{sx:{},children:[e.jsx(te,{style:{whiteSpace:"nowrap"},children:"Tá»•ng giá» lÃ m hÃ nh chÃ­nh"}),e.jsx(te,{sx:{pt:3},children:"Tá»•ng giá» tÄƒng ca"})]})]})]}),e.jsxs(R,{component:"form",onSubmit:c,spacing:1,children:[e.jsx(Ws,{component:ms,children:e.jsxs(Fs,{size:"small","aria-label":"work times table",children:[e.jsx(Vs,{children:e.jsxs(it,{children:[e.jsx(ce,{}),e.jsx(ce,{children:"VÃ o"}),e.jsx(ce,{children:"Ra"})]})}),e.jsx(Hs,{children:["morning","noon"].map(u=>e.jsxs(it,{sx:{"& > *":{borderBottom:"unset",padding:1}},children:[e.jsx(ce,{children:a?u==="morning"?"S":"C":u==="morning"?"SÃ¡ng":"Chiá»u"}),e.jsx(ce,{children:e.jsxs(R,{direction:"row",style:{maxWidth:a?120:""},children:[e.jsx(de,{type:"number",name:`${u}_in_hour`,value:i?i[`${u}_in_hour`]:"",onChange:d,inputProps:{min:0,max:23},label:"Giá» vÃ o",required:!0,style:{width:75}}),e.jsx(de,{type:"number",name:`${u}_in_minute`,value:i?i[`${u}_in_minute`]:"",onChange:d,inputProps:{min:0,max:59,step:1},label:"PhÃºt vÃ o",required:!0,style:{width:75,marginLeft:8}})]})}),e.jsx(ce,{children:e.jsxs(R,{direction:"row",style:{maxWidth:a?120:""},children:[e.jsx(de,{type:"number",name:`${u}_out_hour`,value:i?i[`${u}_out_hour`]:"",onChange:d,inputProps:{min:0,max:23},label:"Giá» ra",required:!0,style:{width:75}}),e.jsx(de,{type:"number",name:`${u}_out_minute`,value:i?i[`${u}_out_minute`]:"",onChange:d,inputProps:{min:0,max:59,step:1},label:"PhÃºt ra",required:!0,style:{width:75,marginLeft:8}})]})})]},u))})]})}),e.jsxs(R,{direction:"column",spacing:2,children:[e.jsxs(R,{direction:"row",spacing:2,children:[e.jsx(at,{control:e.jsx(lt,{name:"work_in_saturday_noon",checked:(i==null?void 0:i.work_in_saturday_noon)||!1,onChange:d}),style:{whiteSpace:"nowrap"},label:"LÃ m chiá»u thá»© 7"}),e.jsx(at,{control:e.jsx(lt,{name:"work_in_sunday",checked:(i==null?void 0:i.work_in_sunday)||!1,onChange:d}),style:{whiteSpace:"nowrap"},label:"LÃ m ngÃ y CN"})]}),e.jsxs(R,{direction:"row",spacing:2,children:[e.jsx(de,{label:"TÄƒng ca Ä‘Ãªm",type:"number",name:"multiply_in_night_overtime",value:(i==null?void 0:i.multiply_in_night_overtime)||"",onChange:d,inputProps:{min:1,step:.1},placeholder:"Hours",style:{width:150}}),e.jsx(de,{label:"TÄƒng ca vÃ o ngÃ y nghá»‰",type:"number",name:"multiply_in_sun_overtime",value:(i==null?void 0:i.multiply_in_sun_overtime)||"",onChange:d,inputProps:{min:1,step:.1},placeholder:"Hours",style:{width:150}})]})]}),e.jsx(Ae,{variant:"contained",type:"submit",style:{backgroundColor:"#00B5B4"},children:"Cáº­p nháº­t"})]})]})})},{Header:Kn}=pe;function Un(){const t=Oe().pathname,s=ye(),n=us(),[o,a]=r.useState(!1),{username:i,userId:l,userRole:d,userRoleId:c,userLeadId:u,workspaces:m,setWorkspaces:p,fullName:w}=Q(),[b,g]=r.useState(!1),{getNotifyList:y,notifyList:T}=Q(),{data:S,refetch:j}=ps(),{data:M,refetch:N}=hs({lead:u});r.useEffect(()=>{M&&(M.sort((x,f)=>x.pinned===f.pinned?new Date(f.updatedAt).getTime()-new Date(x.updatedAt).getTime():x.pinned?-1:1),p(M))},[M]);const C=()=>{g(!0)},O=()=>{g(!1)};r.useEffect(()=>{y();const x=setInterval(()=>{y()},6e4);return()=>clearInterval(x)},[y]);const _=()=>{localStorage.removeItem("Admake-User-Access"),sessionStorage.removeItem("accessToken"),n.clear(),j(),ae.success({message:"ÄÄƒng xuáº¥t thÃ nh cÃ´ng"}),window.location.href="https://quanly.admake.vn/login"};return e.jsx(e.Fragment,{children:e.jsxs(js,{children:[e.jsxs(Kn,{className:"flex items-center gap-1 justify-between !px-4 md:!px-8 !bg-white shadow-sm h-14 md:h-16 sticky top-0 z-30 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{children:e.jsx("img",{src:"/logo.jpg",alt:"logo",style:{width:40,height:"auto"}})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:"/ADMAKE.svg",alt:"ADMAKE",className:"h-8"})})]}),e.jsx(En,{}),e.jsx(Fn,{}),e.jsx("div",{onClick:C,className:"p-0 rounded-full hover:bg-gray-100 transition-all duration-200 flex items-center justify-center",children:e.jsx(un,{className:"text-lg md:text-xl transition-colors duration-200"})}),e.jsxs("div",{className:"hidden md:flex items-center",children:[e.jsxs("span",{className:"text-gray-700 font-semibold text-sm px-3 py-1.5 bg-gray-100 rounded-full",children:[w||"Admin"," / ",d==null?void 0:d.name]}),e.jsx(Mn,{})]}),e.jsx("div",{className:"flex items-center",children:e.jsx(Ge,{menu:{items:[{key:"user",label:"ThÃ´ng tin",icon:e.jsx(ct,{}),onClick:()=>{s("/dashboard/infor")}},{key:"logout",label:"ÄÄƒng xuáº¥t",icon:e.jsx(cn,{}),danger:!0,onClick:_}]},trigger:["click"],placement:"bottomRight",arrow:!0,children:e.jsx(Pt,{size:32,className:"md:!size-10 hover:scale-105 transition-transform duration-200 cursor-pointer shadow-md",style:{background:"linear-gradient(135deg, #06b6d4 0%, #0891b2 100%)",color:"#fff",border:"2px solid #e5e7eb"},icon:e.jsx(ct,{})})})})]}),t==="/dashboard/workpoints"&&e.jsx(qn,{questionOpen:b,onCancel:O})]})})}const{Title:Xn,Text:Le}=Be;function Dt({open:t,onCancel:s,onCreate:n,setIsModalOpen:o}){ye();const[a]=ne.useForm(),{userLeadId:i}=Q(),l=async d=>{try{const c=await fetch(`${ve()}/workspace/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.name,lead:i,status:"FREE"})});if(!c.ok)throw new Error("Lá»—i khi táº¡o báº£ng cÃ´ng viá»‡c");const u=await c.json();ae.success({message:"Táº¡o báº£ng cÃ´ng viá»‡c thÃ nh cÃ´ng!",description:d.name}),window.location.href=`${window.location.origin}/dashboard/work-tables/${u.id}`}catch(c){ae.error({message:"Táº¡o báº£ng cÃ´ng viá»‡c tháº¥t báº¡i"}),console.error(c)}};return e.jsx(le,{title:e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br from-[#00B4B6] to-[#0891b2] flex items-center justify-center shadow-lg",children:e.jsx(ie,{className:"!text-white !text-sm sm:!text-base "})}),e.jsxs("div",{children:[e.jsx(Xn,{level:4,className:"!m-0 !text-gray-900 !font-bold !text-sm sm:!text-base",children:"Táº¡o báº£ng cÃ´ng viá»‡c má»›i"}),e.jsx(Le,{className:"!text-gray-500 !text-sm sm:!text-base",children:"Táº¡o báº£ng cÃ´ng viá»‡c má»›i Ä‘á»ƒ tá»• chá»©c cÃ´ng viá»‡c"})]})]}),open:t,onCancel:s,footer:null,width:600,centered:!0,className:"!rounded-3xl create-workspace-modal",styles:{content:{borderRadius:"24px",overflow:"hidden",padding:0,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)"},body:{padding:0,borderRadius:"24px"},header:{borderBottom:"1px solid #f1f3f4",padding:"24px 32px 20px",background:"linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%)",borderRadius:"24px 24px 0 0"},mask:{backdropFilter:"blur(12px)",backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-green-50 via-white to-green-50 border-b border-green-100",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx(Le,{className:"text-green-600 text-base font-medium",children:"ThÃ´ng tin báº£ng cÃ´ng viá»‡c má»›i"})]})})}),e.jsx("div",{className:"p-8",children:e.jsxs(ne,{layout:"vertical",onFinish:l,form:a,autoComplete:"off",className:"space-y-6",children:[e.jsx(ne.Item,{name:"name",label:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-800 font-semibold text-base",children:"TÃªn báº£ng cÃ´ng viá»‡c"})," ",e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})]}),rules:[{required:!0,message:"Vui lÃ²ng nháº­p tÃªn báº£ng cÃ´ng viá»‡c"},{min:3,message:"TÃªn báº£ng pháº£i cÃ³ Ã­t nháº¥t 3 kÃ½ tá»±"},{max:50,message:"TÃªn báº£ng khÃ´ng Ä‘Æ°á»£c quÃ¡ 50 kÃ½ tá»±"}],className:"!mb-6",children:e.jsx(Ee,{placeholder:"Nháº­p tÃªn báº£ng cÃ´ng viá»‡c...",className:"!h-12 !text-base !rounded-xl !border !border-gray-300 focus:!border-green-500 focus:!shadow-lg hover:!border-green-300 !transition-all !duration-200 !shadow-sm",size:"large",prefix:e.jsx(be,{className:"!text-green-500 !mr-2"})})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"!text-white !text-xs !font-bold",children:"â„¹ï¸"})}),e.jsxs("div",{children:[e.jsx(Le,{className:"text-blue-800 font-medium text-sm block mb-1",children:"LÆ°u Ã½ khi táº¡o báº£ng cÃ´ng viá»‡c:"}),e.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[e.jsx("li",{children:"â€¢ Báº¡n cÃ³ thá»ƒ chá»‰nh sá»­a hoáº·c xÃ³a báº£ng sau nÃ y"}),e.jsx("li",{children:"â€¢ Báº£ng má»›i sáº½ Ä‘Æ°á»£c táº¡o vá»›i tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng"})]})]})]})}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100",children:[e.jsx(U,{onClick:s,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !text-gray-700 hover:!bg-gray-50 !font-medium !text-xs sm:!text-sm !transition-all !duration-200 !shadow-sm hover:!shadow-md hover:!scale-105 !order-1 sm:!order-1 !drop-shadow-md !border-none",children:"âŒ Há»§y bá»"}),e.jsx(U,{type:"primary",htmlType:"submit",size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !bg-gradient-to-r !from-[#00B4B6] !to-[#0891b2] hover:!from-[#0891b2] hover:!to-[#00B4B6] !border-0 !shadow-lg hover:!shadow-xl !font-bold !text-xs sm:!text-sm !transition-all !duration-200 !transform hover:!scale-105 !order-2 sm:!order-2 !drop-shadow-md",icon:e.jsx(ie,{}),children:"Táº¡o báº£ng cÃ´ng viá»‡c"})]})]})})]})})}function Qn({mobileMenuItems:t}){const{pathname:s}=Oe(),n=ye(),[o,a]=r.useState(!1),[i,l]=r.useState(!1),{workspaces:d}=Q();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mobile-menu-container fixed bottom-0 left-0 right-0 border-t border-gray-200 px-4 py-2 z-[9999] shadow-lg bg-white/95 backdrop-blur-sm",children:e.jsx("div",{className:"flex items-center justify-around",children:t.map(c=>{const u=s.startsWith(c.key),m=c.key==="/dashboard/work-tables";return e.jsxs("div",{className:`mobile-menu-item flex flex-col items-center cursor-pointer ${u?"active":""}`,onClick:()=>{m?a(!0):n(c.path)},children:[e.jsx("div",{className:`mobile-menu-icon w-12 h-12 rounded-full flex items-center justify-center ${u?"bg-[#00B4B6] text-white shadow-lg active":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.jsx("span",{className:"text-lg",children:c.icon})}),e.jsx("span",{className:`mobile-menu-label text-xs mt-1 font-medium block text-center ${u?"text-[#00B4B6] active":"text-gray-600"}`,children:c.label})]},c.key)})})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[10000] flex items-end",onClick:c=>{console.log(c.target),c.target===c.currentTarget&&a(!1)},children:e.jsxs("div",{className:"rounded-t-3xl w-full max-h-[70vh] overflow-hidden",style:{backgroundColor:"#00B5B4"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Báº£ng cÃ´ng viá»‡c"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),e.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:d.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"ChÆ°a cÃ³ báº£ng cÃ´ng viá»‡c nÃ o"}),e.jsxs("button",{onClick:()=>{a(!1),l(!0)},className:"mt-4 px-4 py-2 bg-[#00B4B6] text-white rounded-lg flex items-center gap-2",children:[e.jsx(ie,{})," Táº¡o báº£ng má»›i"]})]}):e.jsxs("div",{className:"space-y-2",children:[d.map(c=>e.jsxs("div",{className:"flex items-center gap-3 py-1 px-2 rounded-lg hover:bg-white/10 transition-all duration-200",onClick:()=>{n(`/dashboard/work-tables/${c.id}`),a(!1)},children:[e.jsx("div",{style:{padding:0,background:"none",border:"none",color:"yellow"},children:c.pinned&&e.jsx(qe,{})}),e.jsx("span",{className:"text-sm font-semibold text-white truncate flex-1 min-w-0",style:{color:(c==null?void 0:c.status)==="FREE"?"yellow":"#fff"},children:c.name})]})),e.jsxs("button",{onClick:()=>{a(!1),l(!0)},className:"w-full p-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-[#00B4B6] hover:text-[#00B4B6] transition-colors cursor-pointer",children:[e.jsx(ie,{})," Táº¡o báº£ng má»›i"]})]})})]})}),e.jsx("div",{className:"!z-[10001]",children:e.jsx(Dt,{open:i,onCancel:()=>l&&l(!1)})})]})}const{Title:Yn,Text:ft}=Be;function Jn({editModalVisible:t,closeEditModal:s,editForm:n,workspaceId:o,onSuccess:a}){const{mutate:i,isPending:l}=xs(),d=c=>{fetch(`${ve()}/workspace/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c.name})}).then(u=>{if(!u.ok)throw new Error("Network response was not ok");return u.json()}).then(()=>{_e.success("Cáº­p nháº­t workspace thÃ nh cÃ´ng!"),s(),n.resetFields(),a==null||a()}).catch(()=>{_e.error("CÃ³ lá»—i xáº£y ra khi cáº­p nháº­t workspace!")})};return e.jsx(le,{title:e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#0891b2] to-[#00B4B6] flex items-center justify-center shadow-lg",children:e.jsx(Mt,{className:"!text-white !text-lg"})}),e.jsxs("div",{children:[e.jsx(Yn,{level:4,className:"!m-0 !text-gray-900 !font-bold",children:"Chá»‰nh sá»­a báº£ng cÃ´ng viá»‡c"}),e.jsx(ft,{className:"text-gray-500 text-sm",children:"Cáº­p nháº­t thÃ´ng tin báº£ng cÃ´ng viá»‡c"})]})]}),open:t,onCancel:s,footer:null,width:600,centered:!0,className:"!rounded-3xl edit-workspace-modal",styles:{content:{borderRadius:"24px",overflow:"hidden",padding:0,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)"},body:{padding:0,borderRadius:"24px"},header:{borderBottom:"1px solid #f1f3f4",padding:"24px 32px 20px",background:"linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%)",borderRadius:"24px 24px 0 0"},mask:{backdropFilter:"blur(12px)",backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-blue-50 via-white to-blue-50 border-b border-blue-100",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),e.jsx(ft,{className:"text-blue-600 text-base font-medium",children:"ThÃ´ng tin báº£ng cÃ´ng viá»‡c"})]})})}),e.jsx("div",{className:"p-8",children:e.jsxs(ne,{form:n,layout:"vertical",onFinish:d,className:"space-y-6",children:[e.jsx(ne.Item,{name:"name",label:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-800 font-semibold text-base",children:"TÃªn báº£ng cÃ´ng viá»‡c"})," ",e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})]}),rules:[{required:!0,message:"Vui lÃ²ng nháº­p tÃªn báº£ng cÃ´ng viá»‡c"}],className:"!mb-6",children:e.jsx(Ee,{placeholder:"Nháº­p tÃªn báº£ng cÃ´ng viá»‡c...",className:"!h-12 !text-base !rounded-xl !border !border-gray-300 focus:!border-blue-500 focus:!shadow-lg hover:!border-blue-300 !transition-all !duration-200 !shadow-sm",size:"large"})}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100",children:[e.jsx(U,{onClick:s,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !text-gray-700 hover:!bg-gray-50 !font-medium !text-xs sm:!text-sm !transition-all !duration-200 !shadow-sm hover:!shadow-md hover:!scale-105 !order-1 sm:!order-1 !drop-shadow-md !border-none",children:"âŒ Há»§y bá»"}),e.jsx(U,{type:"primary",htmlType:"submit",loading:l,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !bg-gradient-to-r !from-[#00B4B6] !to-[#0891b2] hover:!from-[#0891b2] hover:!to-[#00B4B6] !border-0 !shadow-lg hover:!shadow-xl !font-bold !text-xs sm:!text-sm !transition-all !duration-200 !transform hover:!scale-105 !order-2 sm:!order-2 !drop-shadow-md",children:l?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Äang cáº­p nháº­t..."]}):"âœ… Cáº­p nháº­t"})]})]})})]})})}const{Title:pt,Text:ke}=Be;function Zn({deleteModalVisible:t,closeDeleteModal:s,deletingWorkspace:n,onSuccess:o,refetchWorkSpaces:a}){const{mutate:i,isPending:l}=gs(),{workspaces:d,setWorkspaces:c}=Q(),u=r.useCallback(()=>{n!=null&&n.id&&fetch(`${ve()}/workspace/${n.id}`,{method:"DELETE"}).then(m=>(m.ok||ae.error({message:"Failed to delete workspace"}),m.json())).then(()=>{typeof o=="function"&&o(),c(m=>m.filter(p=>p.id!==n.id)),typeof s=="function"&&s()}).catch(m=>{ae.error({message:`Delete error: ${m}`})})},[i,s,n,o]);return e.jsx(le,{title:e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center shadow-lg",children:e.jsx(We,{className:"!text-white !text-lg"})}),e.jsxs("div",{children:[e.jsx(pt,{level:4,className:"!m-0 !text-gray-900 !font-bold",children:"XÃ³a báº£ng cÃ´ng viá»‡c"}),e.jsx(ke,{className:"text-gray-500 text-sm",children:"XÃ¡c nháº­n xÃ³a báº£ng cÃ´ng viá»‡c"})]})]}),open:t,onCancel:s,footer:null,width:500,centered:!0,className:"!rounded-3xl delete-workspace-modal",styles:{content:{borderRadius:"24px",overflow:"hidden",padding:0,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)"},body:{padding:0,borderRadius:"24px"},header:{borderBottom:"1px solid #f1f3f4",padding:"24px 32px 20px",background:"linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%)",borderRadius:"24px 24px 0 0"},mask:{backdropFilter:"blur(12px)",backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-red-50 via-white to-red-50 border-b border-red-100",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),e.jsx(ke,{className:"text-red-600 text-base font-medium",children:"XÃ¡c nháº­n xÃ³a"})]})})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-red-100 to-red-200 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(We,{className:"!text-3xl !text-red-500"})}),e.jsx(pt,{level:3,className:"!text-gray-900 !font-bold !mb-3",children:"XÃ¡c nháº­n xÃ³a báº£ng cÃ´ng viá»‡c"}),e.jsxs("div",{className:"max-w-sm mx-auto mb-8",children:[e.jsxs(ke,{className:"text-gray-600 text-base leading-relaxed",children:["Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a báº£ng cÃ´ng viá»‡c"," ",e.jsxs("div",{className:"font-semibold text-gray-900 bg-yellow-50 px-2 py-1 rounded-lg",children:['"',n==null?void 0:n.name,' ?"']})]}),e.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx(ke,{className:"text-red-600 text-sm font-medium",children:"âš ï¸ HÃ nh Ä‘á»™ng nÃ y khÃ´ng thá»ƒ hoÃ n tÃ¡c vÃ  sáº½ xÃ³a vÄ©nh viá»…n táº¥t cáº£ dá»¯ liá»‡u liÃªn quan."})})]}),e.jsxs("div",{className:"flex justify-center gap-4 pt-6 border-t border-gray-100",children:[e.jsx(U,{onClick:s,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !text-gray-700 hover:!bg-gray-50 !font-medium !text-xs sm:!text-sm !transition-all !duration-200 !shadow-sm hover:!shadow-md hover:!scale-105 !order-1 sm:!order-1 !drop-shadow-md !border-none",children:"âŒ Há»§y bá»"}),e.jsx(U,{danger:!0,loading:l,onClick:u,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !bg-gradient-to-r !from-red-500 !to-red-600 hover:!from-red-600 hover:!to-red-700 !border-0 !shadow-lg hover:!shadow-xl !font-bold !text-xs sm:!text-sm !transition-all !duration-200 !transform hover:!scale-105 !order-2 sm:!order-2 !drop-shadow-md",children:l?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Äang xÃ³a..."]}):"XÃ³a báº£ng cÃ´ng viá»‡c"})]})]})})]})})}const{Title:eo,Text:se}=Be;function to({isTabletWorkspaceModalOpen:t,setIsTabletWorkspaceModalOpen:s,workSpaces:n,setIsOpenModalCreateSpace:o,onRefresh:a}){const{pathname:i}=Oe(),l=ye(),[d,c]=r.useState(!1),[u,m]=r.useState(null),[p]=ne.useForm(),[w,b]=r.useState(!1),[g,y]=r.useState(null),T=r.useCallback(C=>{m(C),p.setFieldsValue({name:C.name}),c(!0)},[p]),S=r.useCallback(C=>{y(C),b(!0)},[]),j=r.useCallback(()=>{c(!1),m(null),p.resetFields()},[p]),M=r.useCallback(()=>{b(!1),y(null)},[]),N=(C=>{ae.success({message:"ÄÃ£ xÃ³a thÃ nh cÃ´ng",description:C})});return e.jsxs(e.Fragment,{children:[e.jsx(le,{title:e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#0891b2] to-[#0e7490] flex items-center justify-center shadow-lg",children:e.jsx(be,{className:"!text-white !text-lg"})}),e.jsxs("div",{children:[e.jsx(eo,{level:4,className:"!m-0 !text-gray-900 !font-bold",children:"Quáº£n lÃ½ báº£ng cÃ´ng viá»‡c"}),e.jsx(se,{className:"text-gray-500 text-sm",children:"Chá»n báº£ng cÃ´ng viá»‡c Ä‘á»ƒ lÃ m viá»‡c"})]})]}),open:t,onCancel:()=>s(!1),footer:null,width:680,centered:!0,className:"!rounded-3xl workspace-modal",styles:{content:{borderRadius:"24px",overflow:"hidden",padding:0,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)"},body:{padding:0,borderRadius:"24px"},header:{borderBottom:"1px solid #f1f3f4",padding:"24px 32px 20px",background:"linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%)",borderRadius:"24px 24px 0 0"},mask:{backdropFilter:"blur(12px)",backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-gray-50 via-white to-gray-50 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#0891b2] animate-pulse"}),e.jsxs(se,{className:"text-gray-600 text-base font-medium",children:[(n==null?void 0:n.length)||0," báº£ng cÃ´ng viá»‡c cÃ³ sáºµn"]})]})}),e.jsx(U,{type:"primary",icon:e.jsx(ie,{}),onClick:()=>o(!0),size:"large",className:"!bg-gradient-to-r !from-[#0891b2] !to-[#0e7490] !border-none !rounded-xl !shadow-lg hover:!shadow-xl !transition-all !duration-300 hover:!scale-105 !font-semibold !px-6",children:"Táº¡o báº£ng cÃ´ng viá»‡c má»›i"})]})}),e.jsx("div",{className:"p-8",children:e.jsx("div",{className:"space-y-4 max-h-[420px] overflow-y-auto custom-scrollbar",children:(n==null?void 0:n.length)===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsx(be,{className:"!text-3xl !text-gray-400"})}),e.jsx(se,{className:"text-gray-700 text-lg font-semibold block mb-3",children:"ChÆ°a cÃ³ báº£ng cÃ´ng viá»‡c nÃ o"}),e.jsx(se,{className:"text-gray-500 text-base max-w-sm mx-auto leading-relaxed",children:"Táº¡o báº£ng cÃ´ng viá»‡c Ä‘áº§u tiÃªn Ä‘á»ƒ báº¯t Ä‘áº§u tá»• chá»©c vÃ  quáº£n lÃ½ cÃ´ng viá»‡c cá»§a báº¡n má»™t cÃ¡ch hiá»‡u quáº£"}),e.jsx("div",{className:"mt-8",children:e.jsx(U,{type:"dashed",icon:e.jsx(ie,{}),onClick:()=>s(!0),size:"large",className:"!border-2 !border-dashed !border-[#0891b2] !text-[#0891b2] hover:!bg-[#0891b2]/5 !rounded-xl !font-medium !px-8",children:"Táº¡o báº£ng cÃ´ng viá»‡c Ä‘áº§u tiÃªn"})})]}):n==null?void 0:n.map((C,O)=>e.jsxs("div",{className:`group relative flex items-center gap-5 p-5 rounded-2xl border-2 transition-all duration-300 cursor-pointer hover:shadow-xl hover:-translate-y-1 ${i===`/dashboard/work-tables/${C.id}`?"border-[#0891b2] bg-gradient-to-r from-[#0891b2]/8 to-[#0891b2]/4 shadow-lg shadow-[#0891b2]/20":"border-gray-200 hover:border-[#0891b2]/40 bg-white hover:bg-gradient-to-r hover:from-gray-50 hover:to-white"}`,style:{animationDelay:`${O*50}ms`},onClick:()=>{l(`/dashboard/work-tables/${C.id}`),s(!1)},children:[e.jsxs("div",{className:"relative w-20 h-16 rounded-xl overflow-hidden flex-shrink-0 shadow-md group-hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-[#0891b2] to-[#0e7490] flex items-center justify-center text-white text-xl font-bold relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx("span",{className:"relative",children:C.name&&C.name.charAt(0).toUpperCase()})]}),i===`/dashboard/work-tables/${C.id}`&&e.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 rounded-full bg-[#0891b2] border-2 border-white shadow-sm"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx(se,{className:`font-bold text-lg block truncate transition-colors duration-300 ${i===`/dashboard/work-tables/${C.id}`?"text-[#0891b2]":"text-gray-900 group-hover:text-[#0891b2]"}`,children:C.name})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"text-gray-500 text-sm font-medium",children:"Báº£ng cÃ´ng viá»‡c"}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),e.jsx(se,{className:"text-gray-400 text-xs",children:"Cáº­p nháº­t gáº§n Ä‘Ã¢y"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx(U,{type:"text",icon:e.jsx(Mt,{}),size:"small",onClick:_=>{_.stopPropagation(),T(C)},className:"!text-blue-600 hover:!text-blue-700 hover:!bg-blue-50 !rounded-lg !px-3 !py-1 !h-8 !border !border-blue-200 hover:!border-blue-300 !shadow-sm hover:!shadow-md !transition-all !duration-200",title:"Chá»‰nh sá»­a workspace",children:e.jsx("span",{className:"text-xs font-medium",children:"Sá»­a"})}),e.jsx(U,{type:"text",icon:e.jsx(We,{className:"!text-red-500 !text-sm"}),size:"small",danger:!0,onClick:_=>{_.stopPropagation(),S(C)},className:"!text-red-600 hover:!text-red-700 hover:!bg-red-50 !rounded-lg !px-3 !py-1 !h-8 !border !border-red-500 hover:!border-red-300 !shadow-sm hover:!shadow-md !transition-all !duration-200",title:"XÃ³a workspace",children:e.jsx("span",{className:"text-xs font-medium",children:"XÃ³a"})})]}),e.jsx("div",{className:`transition-all duration-300 ${i===`/dashboard/work-tables/${C.id}`?"text-[#0891b2] opacity-100":"text-gray-400 opacity-0 group-hover:opacity-100 group-hover:translate-x-1"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-[#0891b2]/0 to-[#0891b2]/0 group-hover:from-[#0891b2]/5 group-hover:to-transparent transition-all duration-300 pointer-events-none"})]},C.id))})}),e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-gray-50 via-white to-gray-50 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsxs(se,{className:"text-gray-600 text-sm font-medium",children:["ÄÃ£ táº£i ",(n==null?void 0:n.length)||0," báº£ng cÃ´ng viá»‡c"]})]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(U,{onClick:()=>s(!1),size:"large",className:"!border-gray-300 !text-gray-600 hover:!border-gray-400 hover:!text-gray-700 !rounded-xl !font-medium !px-6 hover:!shadow-md !transition-all !duration-300",children:"ÄÃ³ng"})})]})})]})}),e.jsx(Jn,{editModalVisible:d,closeEditModal:j,editForm:p,workspaceId:(u==null?void 0:u.id)||"",onSuccess:a}),e.jsx(Zn,{deleteModalVisible:w,closeDeleteModal:M,deletingWorkspace:g||{},refetchWorkSpaces:a||(()=>{}),onSuccess:()=>N(g==null?void 0:g.name)})]})}const so=()=>{const[t,s]=r.useState({width:typeof window<"u"?window.innerWidth:1024,height:typeof window<"u"?window.innerHeight:768});return r.useEffect(()=>{if(typeof window>"u")return;const n=()=>{s({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t};function bt({}){const{pathname:t}=Oe(),s=ye(),{width:n}=so(),{userLeadId:o,workspaces:a,currentWorkspace:i,canViewPermission:l}=Q(),[d,c]=r.useState({page:1,limit:10,lead:o,search:""}),[u,m]=r.useState(!1),[p,w]=r.useState(!1),[b,g]=r.useState(new Set),y=()=>{N&&w(!0)},T=rt(t),j=(()=>{const _=["/dashboard/workpoints","/dashboard/work-tables","/dashboard/users","/dashboard/customers"],x=T.filter(f=>_.includes(f.key));return x.length<3?[{key:"/dashboard/workpoints",label:"Cháº¥m cÃ´ng",icon:e.jsx(Es,{}),path:"/dashboard/workpoints"},{key:"/dashboard/work-tables",label:"Báº£ng cÃ´ng viá»‡c",icon:e.jsx(be,{}),path:"/dashboard/work-tables"},{key:"/dashboard/users",label:"NhÃ¢n sá»±",icon:e.jsx(bs,{}),path:"/dashboard/users"},{key:"/dashboard/customers",label:"KhÃ¡ch hÃ ng",icon:e.jsx(be,{}),path:"/dashboard/customers"}].map(v=>{const h=x.find(k=>k.key===v.key);return{...v,label:(h==null?void 0:h.label)||v.label,icon:(h==null?void 0:h.icon)||v.icon}}):x.map(f=>({key:f.key,label:f.label,icon:f.icon,path:f.key}))})(),M=n<=768,N=n>768&&n<=1024;if(M)return e.jsx(Qn,{mobileMenuItems:j});const C=()=>rt(t).filter(x=>x.key!=="/dashboard/infor").map(x=>x.key==="/dashboard/work-tables"&&!N&&(l!=null&&l.view_workspace)?{key:x.key,icon:x.icon,label:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:x.label}),e.jsx("div",{className:"w-6 h-6 rounded-md bg-cyan-500 hover:bg-cyan-600 flex items-center justify-center shadow-sm transition-all duration-200",onClick:v=>{v.stopPropagation(),w(!0)},children:e.jsx(ie,{className:"text-white text-xs font-bold"})})]}),children:[...(a||[]).map(v=>({id:v.id,key:`/dashboard/work-tables/${v.id}`,label:e.jsxs("div",{className:"flex items-center gap-3 py-1 px-2 rounded-lg hover:bg-white/10 transition-all duration-200",children:[e.jsx("div",{style:{padding:0,background:"none",border:"none",color:"yellow"},children:v.pinned&&e.jsx(qe,{})}),e.jsx("span",{className:"text-sm font-semibold text-white truncate flex-1 min-w-0",style:{color:(v==null?void 0:v.status)==="FREE"?"yellow":"#fff"},children:v.name})]})}))]}:{key:x.key,icon:x.icon,label:N?null:x.label}),O=({key:_})=>{_==="create-workspace"?w(!0):_==="/dashboard/work-tables"&&N?y():s(_)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-full w-full overflow-y-auto overflow-x-hidden custom-scrollbar px-2",children:e.jsx(_t,{mode:"inline",selectedKeys:[t],openKeys:Array.from(b),onOpenChange:_=>g(new Set(_)),onClick:O,items:C(),theme:"light",className:"!border-none !bg-transparent !text-white !font-medium !w-full",style:{background:"transparent",border:"none",fontSize:"14px",fontWeight:"500",width:"100%",maxWidth:"100%"}})}),e.jsx("div",{className:"!z-[10001]",children:e.jsx(Dt,{open:u,setIsModalOpen:m,onCancel:()=>m(!1)})}),e.jsx(to,{isTabletWorkspaceModalOpen:p,setIsTabletWorkspaceModalOpen:w,workSpaces:a||[],setIsOpenModalCreateSpace:m})]})}const{Sider:no,Content:oo}=pe;function ro(){const[t,s]=Pe.useState(!1),[n,o]=Pe.useState(!1);return Pe.useEffect(()=>{const a=()=>{s(window.innerWidth<1024),o(window.innerWidth<768)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e.jsx(pe,{className:"",style:{backgroundImage:"url(/backGround.png)",backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},children:e.jsxs(Ds,{children:[e.jsx(Un,{}),e.jsxs(pe,{hasSider:!0,className:"",children:[!n&&e.jsxs(no,{width:280,collapsedWidth:64,collapsible:!0,collapsed:t,onCollapse:s,style:{background:"#00B4B6",boxShadow:"2px 0 8px rgba(0, 180, 182, 0.15)",border:"none",padding:"0",height:"calc(100vh - 66px)",display:"flex",flexDirection:"column",justifyContent:"flex-start",zIndex:10,position:"fixed",left:0,top:66,bottom:0,overflow:"hidden"},className:"!fixed !left-0 !top-[66px] !bottom-0 !z-10 !opacity-90",trigger:null,children:[e.jsx("div",{className:"py-4 px-2"}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(bt,{})})]}),e.jsx(pe,{className:"bg-transparent flex flex-col !min-h-[calc(100vh-72px)]",children:e.jsxs(oo,{className:`flex flex-col md:px-2 min-h-full ${n?"pb-20":""}`,style:{marginLeft:!n&&!t?"280px":!n&&t?"64px":"0",transition:"margin-left 0.2s ease"},children:[e.jsx("div",{className:" px-6 pt-2"}),e.jsx("div",{className:"w-full h-full",children:e.jsx("div",{className:" rounded-2xl min-h-[300px] h-full",children:e.jsx(fs,{})})})]})})]}),n&&e.jsx(bt,{})]})})}const wo=()=>e.jsx(ro,{}),Co=async()=>(await On(2e3),null);export{wo as Component,wo as default,Co as loader};
