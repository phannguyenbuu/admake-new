import{r as a,aQ as gt,aR as ft,aT as pt,aS as Wt,aw as Dt,aX as Fe,a_ as Ht,aY as bt,ap as ne,be as Vt,bf as Gt,bg as qt,aP as Kt,bh as vt,av as Ut,aL as Xt,I as Ae,_ as We,j as e,l as yt,a9 as Qt,o as jt,bi as Yt,bj as Jt,bk as Zt,bl as es,bm as ts,s as de,bn as wt,bo as ss,bp as ns,z as os,A as rs,C as as,H as is,T as X,G as st,J as Ct,K as St,L as ls,M as Nt,bq as cs,a as Y,$ as I,X as ce,i as ye,br as ds,V as ms,bs as hs,a3 as us,ai as _e,b3 as Me,b1 as xs,bt as gs,bu as be,ak as he,b2 as q,bv as fs,bw as ps,h as Ee,bx as bs}from"./index-CM2PZ302.js";import{u as vs,R as ve,g as nt,a as ys}from"./dashboard-rEWxzDsT.js";import{u as js,G as ws,C as Cs}from"./Group-CSaXowFl.js";import{I as De,F as me}from"./index-Bs0o6tJW.js";import{u as Ss,r as Ns,g as ks,a as $s,b as Ts,P as _s,T as Ms,R as Os}from"./Input-DqZmTujw.js";import{M as kt,D as He}from"./index-BsmOxJlv.js";import{M as ae,s as $e}from"./index-BZKKFI3e.js";import{f as Ps,d as Es,R as zs,C as Rs,e as Bs}from"./Managerment-BNUjXi5l.js";import{a as Is,f as Ls,U as Fs,T as ie,c as As}from"./useUpdateButtonTask-Dj9E2ou4.js";import{C as Ws,b as re,R as Ds}from"./TitlePanel-CKxee2Qr.js";import{T as Hs,a as Vs,b as ot,c as le}from"./TableRow-CoZ7mddT.js";import{T as Gs,C as rt}from"./TableHead-DI6Qbsep.js";import{T as qs}from"./TableBody-CB7NbvOc.js";import{B as Be}from"./Tabs-DgVxC1ww.js";import{R as Ks,u as Us}from"./useVariants-TEOyjeFY.js";import{R as at}from"./auth.service-D7WuUIne.js";import{T as Oe,R as $t}from"./index-L8WgEBAn.js";import"./QRCode-BcQY_5oO.js";import"./index-D1wtroVZ.js";const Ie=a.createContext({}),Xs=t=>{const{antCls:s,componentCls:n,iconCls:o,avatarBg:r,avatarColor:i,containerSize:l,containerSizeLG:d,containerSizeSM:c,textFontSize:m,textFontSizeLG:u,textFontSizeSM:f,iconFontSize:y,iconFontSizeLG:p,iconFontSizeSM:b,borderRadius:h,borderRadiusLG:w,borderRadiusSM:S,lineWidth:C,lineType:_}=t,N=(v,$,k,g)=>({width:v,height:v,borderRadius:"50%",fontSize:$,[`&${n}-square`]:{borderRadius:g},[`&${n}-icon`]:{fontSize:k,[`> ${o}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},pt(t)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:r,border:`${Wt(C)} ${_} transparent`,"&-image":{background:"transparent"},[`${s}-image-img`]:{display:"block"}}),N(l,m,y,h)),{"&-lg":Object.assign({},N(d,u,p,w)),"&-sm":Object.assign({},N(c,f,b,S)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Qs=t=>{const{componentCls:s,groupBorderColor:n,groupOverlapping:o,groupSpace:r}=t;return{[`${s}-group`]:{display:"inline-flex",[s]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:o}},[`${s}-group-popover`]:{[`${s} + ${s}`]:{marginInlineStart:r}}}},Ys=t=>{const{controlHeight:s,controlHeightLG:n,controlHeightSM:o,fontSize:r,fontSizeLG:i,fontSizeXL:l,fontSizeHeading3:d,marginXS:c,marginXXS:m,colorBorderBg:u}=t;return{containerSize:s,containerSizeLG:n,containerSizeSM:o,textFontSize:r,textFontSizeLG:r,textFontSizeSM:r,iconFontSize:Math.round((i+l)/2),iconFontSizeLG:d,iconFontSizeSM:r,groupSpace:m,groupOverlapping:-c,groupBorderColor:u}},Tt=gt("Avatar",t=>{const{colorTextLightSolid:s,colorTextPlaceholder:n}=t,o=ft(t,{avatarBg:n,avatarColor:s});return[Xs(o),Qs(o)]},Ys);var Js=function(t,s){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&s.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)s.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n};const _t=a.forwardRef((t,s)=>{const{prefixCls:n,shape:o,size:r,src:i,srcSet:l,icon:d,className:c,rootClassName:m,style:u,alt:f,draggable:y,children:p,crossOrigin:b,gap:h=4,onError:w}=t,S=Js(t,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","style","alt","draggable","children","crossOrigin","gap","onError"]),[C,_]=a.useState(1),[N,v]=a.useState(!1),[$,k]=a.useState(!0),g=a.useRef(null),x=a.useRef(null),j=Dt(s,g),{getPrefixCls:T,avatar:M}=a.useContext(Fe),E=a.useContext(Ie),B=()=>{if(!x.current||!g.current)return;const A=x.current.offsetWidth,R=g.current.offsetWidth;A!==0&&R!==0&&h*2<R&&_(R-h*2<A?(R-h*2)/A:1)};a.useEffect(()=>{v(!0)},[]),a.useEffect(()=>{k(!0),_(1)},[i]),a.useEffect(B,[h]);const H=()=>{(w==null?void 0:w())!==!1&&k(!1)},z=Ht(A=>{var R,te;return(te=(R=r??(E==null?void 0:E.size))!==null&&R!==void 0?R:A)!==null&&te!==void 0?te:"default"}),Q=Object.keys(typeof z=="object"?z||{}:{}).some(A=>["xs","sm","md","lg","xl","xxl"].includes(A)),K=Ss(Q),J=a.useMemo(()=>{if(typeof z!="object")return{};const A=Ns.find(te=>K[te]),R=z[A];return R?{width:R,height:R,fontSize:R&&(d||p)?R/2:18}:{}},[K,z]),L=T("avatar",n),F=bt(L),[O,W,je]=Tt(L,F),ue=ne({[`${L}-lg`]:z==="large",[`${L}-sm`]:z==="small"}),xe=a.isValidElement(i),Z=o||(E==null?void 0:E.shape)||"circle",we=ne(L,ue,M==null?void 0:M.className,`${L}-${Z}`,{[`${L}-image`]:xe||i&&$,[`${L}-icon`]:!!d},je,F,c,m,W),Ce=typeof z=="number"?{width:z,height:z,fontSize:d?z/2:18}:{};let ee;if(typeof i=="string"&&$)ee=a.createElement("img",{src:i,draggable:y,srcSet:l,onError:H,alt:f,crossOrigin:b});else if(xe)ee=i;else if(d)ee=d;else if(N||C!==1){const A=`scale(${C})`,R={msTransform:A,WebkitTransform:A,transform:A};ee=a.createElement(Ks,{onResize:B},a.createElement("span",{className:`${L}-string`,ref:x,style:Object.assign({},R)},p))}else ee=a.createElement("span",{className:`${L}-string`,style:{opacity:0},ref:x},p);return O(a.createElement("span",Object.assign({},S,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Ce),J),M==null?void 0:M.style),u),className:we,ref:j}),ee))}),Te=t=>t?typeof t=="function"?t():t:null,Zs=t=>{const{componentCls:s,popoverColor:n,titleMinWidth:o,fontWeightStrong:r,innerPadding:i,boxShadowSecondary:l,colorTextHeading:d,borderRadiusLG:c,zIndexPopup:m,titleMarginBottom:u,colorBgElevated:f,popoverBg:y,titleBorderBottom:p,innerContentPadding:b,titlePadding:h}=t;return[{[s]:Object.assign(Object.assign({},pt(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:m,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":f,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${s}-content`]:{position:"relative"},[`${s}-inner`]:{backgroundColor:y,backgroundClip:"padding-box",borderRadius:c,boxShadow:l,padding:i},[`${s}-title`]:{minWidth:o,marginBottom:u,color:d,fontWeight:r,borderBottom:p,padding:h},[`${s}-inner-content`]:{color:n,padding:b}})},ks(t,"var(--antd-arrow-background-color)"),{[`${s}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${s}-content`]:{display:"inline-block"}}}]},en=t=>{const{componentCls:s}=t;return{[s]:Gt.map(n=>{const o=t[`${n}6`];return{[`&${s}-${n}`]:{"--antd-arrow-background-color":o,[`${s}-inner`]:{backgroundColor:o},[`${s}-arrow`]:{background:"transparent"}}}})}},tn=t=>{const{lineWidth:s,controlHeight:n,fontHeight:o,padding:r,wireframe:i,zIndexPopupBase:l,borderRadiusLG:d,marginXS:c,lineType:m,colorSplit:u,paddingSM:f}=t,y=n-o,p=y/2,b=y/2-s,h=r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},$s(t)),Ts({contentRadius:d,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:c,titlePadding:i?`${p}px ${h}px ${b}px`:0,titleBorderBottom:i?`${s}px ${m} ${u}`:"none",innerContentPadding:i?`${f}px ${h}px`:0})},Mt=gt("Popover",t=>{const{colorBgElevated:s,colorText:n}=t,o=ft(t,{popoverBg:s,popoverColor:n});return[Zs(o),en(o),Vt(o,"zoom-big")]},tn,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var sn=function(t,s){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&s.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)s.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n};const Ot=({title:t,content:s,prefixCls:n})=>!t&&!s?null:a.createElement(a.Fragment,null,t&&a.createElement("div",{className:`${n}-title`},t),s&&a.createElement("div",{className:`${n}-inner-content`},s)),nn=t=>{const{hashId:s,prefixCls:n,className:o,style:r,placement:i="top",title:l,content:d,children:c}=t,m=Te(l),u=Te(d),f=ne(s,n,`${n}-pure`,`${n}-placement-${i}`,o);return a.createElement("div",{className:f,style:r},a.createElement("div",{className:`${n}-arrow`}),a.createElement(_s,Object.assign({},t,{className:s,prefixCls:n}),c||a.createElement(Ot,{prefixCls:n,title:m,content:u})))},on=t=>{const{prefixCls:s,className:n}=t,o=sn(t,["prefixCls","className"]),{getPrefixCls:r}=a.useContext(Fe),i=r("popover",s),[l,d,c]=Mt(i);return l(a.createElement(nn,Object.assign({},o,{prefixCls:i,hashId:d,className:ne(n,c)})))};var rn=function(t,s){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&s.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)s.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n};const an=a.forwardRef((t,s)=>{var n,o;const{prefixCls:r,title:i,content:l,overlayClassName:d,placement:c="top",trigger:m="hover",children:u,mouseEnterDelay:f=.1,mouseLeaveDelay:y=.1,onOpenChange:p,overlayStyle:b={},styles:h,classNames:w}=t,S=rn(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:C,className:_,style:N,classNames:v,styles:$}=qt("popover"),k=C("popover",r),[g,x,j]=Mt(k),T=C(),M=ne(d,x,j,_,v.root,w==null?void 0:w.root),E=ne(v.body,w==null?void 0:w.body),[B,H]=Us(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(o=t.defaultOpen)!==null&&o!==void 0?o:t.defaultVisible}),z=(F,O)=>{H(F,!0),p==null||p(F,O)},Q=F=>{F.keyCode===Ut.ESC&&z(!1,F)},K=F=>{z(F)},J=Te(i),L=Te(l);return g(a.createElement(Ms,Object.assign({placement:c,trigger:m,mouseEnterDelay:f,mouseLeaveDelay:y},S,{prefixCls:k,classNames:{root:M,body:E},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},$.root),N),b),h==null?void 0:h.root),body:Object.assign(Object.assign({},$.body),h==null?void 0:h.body)},ref:s,open:B,onOpenChange:K,overlay:J||L?a.createElement(Ot,{prefixCls:k,title:J,content:L}):null,transitionName:Kt(T,"zoom-big",S.transitionName),"data-popover-inject":!0}),vt(u,{onKeyDown:F=>{var O,W;a.isValidElement(u)&&((W=u==null?void 0:(O=u.props).onKeyDown)===null||W===void 0||W.call(O,F)),Q(F)}})))}),Pt=an;Pt._InternalPanelDoNotUseOrYouWillBeFired=on;const it=t=>{const{size:s,shape:n}=a.useContext(Ie),o=a.useMemo(()=>({size:t.size||s,shape:t.shape||n}),[t.size,t.shape,s,n]);return a.createElement(Ie.Provider,{value:o},t.children)},ln=t=>{var s,n,o,r;const{getPrefixCls:i,direction:l}=a.useContext(Fe),{prefixCls:d,className:c,rootClassName:m,style:u,maxCount:f,maxStyle:y,size:p,shape:b,maxPopoverPlacement:h,maxPopoverTrigger:w,children:S,max:C}=t,_=i("avatar",d),N=`${_}-group`,v=bt(_),[$,k,g]=Tt(_,v),x=ne(N,{[`${N}-rtl`]:l==="rtl"},g,v,c,m,k),j=Xt(S).map((E,B)=>vt(E,{key:`avatar-key-${B}`})),T=(C==null?void 0:C.count)||f,M=j.length;if(T&&T<M){const E=j.slice(0,T),B=j.slice(T,M),H=(C==null?void 0:C.style)||y,z=((s=C==null?void 0:C.popover)===null||s===void 0?void 0:s.trigger)||w||"hover",Q=((n=C==null?void 0:C.popover)===null||n===void 0?void 0:n.placement)||h||"top",K=Object.assign(Object.assign({content:B},C==null?void 0:C.popover),{classNames:{root:ne(`${N}-popover`,(r=(o=C==null?void 0:C.popover)===null||o===void 0?void 0:o.classNames)===null||r===void 0?void 0:r.root)},placement:Q,trigger:z});return E.push(a.createElement(Pt,Object.assign({key:"avatar-popover-key",destroyOnHidden:!0},K),a.createElement(_t,{style:H},`+${M-T}`))),$(a.createElement(it,{shape:b,size:p},a.createElement("div",{className:x,style:u},E)))}return $(a.createElement(it,{shape:b,size:p},a.createElement("div",{className:x,style:u},j)))},Et=_t;Et.Group=ln;var cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},dn=function(s,n){return a.createElement(Ae,We({},s,{ref:n,icon:cn}))},Le=a.forwardRef(dn),mn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},hn=function(s,n){return a.createElement(Ae,We({},s,{ref:n,icon:mn}))},un=a.forwardRef(hn),xn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 00-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z"}}]},name:"question",theme:"outlined"},gn=function(s,n){return a.createElement(Ae,We({},s,{ref:n,icon:xn}))},fn=a.forwardRef(gn);const zt=a.createContext(null);function Ve(){return a.useContext(zt)}const pn=typeof Symbol=="function"&&Symbol.for,bn=pn?Symbol.for("mui.nested"):"__THEME_NESTED__";function vn(t,s){return typeof s=="function"?s(t):{...t,...s}}function yn(t){const{children:s,theme:n}=t,o=Ve(),r=a.useMemo(()=>{const i=o===null?{...n}:vn(o,n);return i!=null&&(i[bn]=o!==null),i},[n,o]);return e.jsx(zt.Provider,{value:r,children:s})}function jn(t){const s=yt(),n=Qt()||"",{modularCssLayers:o}=t;let r="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!o||s!==null?r="":typeof o=="string"?r=o.replace(/mui(?!\.)/g,r):r=`@layer ${r};`,jt(()=>{var d,c;const i=document.querySelector("head");if(!i)return;const l=i.firstChild;if(r){if(l&&((d=l.hasAttribute)!=null&&d.call(l,"data-mui-layer-order"))&&l.getAttribute("data-mui-layer-order")===n)return;const m=document.createElement("style");m.setAttribute("data-mui-layer-order",n),m.textContent=r,i.prepend(m)}else(c=i.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()},[r,n]),r?e.jsx(Yt,{styles:r}):null}const lt={};function ct(t,s,n,o=!1){return a.useMemo(()=>{const r=t&&s[t]||s;if(typeof n=="function"){const i=n(r),l=t?{...s,[t]:i}:i;return o?()=>l:l}return t?{...s,[t]:n}:{...s,...n}},[t,s,n,o])}function Rt(t){const{children:s,theme:n,themeId:o}=t,r=yt(lt),i=Ve()||lt,l=ct(o,r,n),d=ct(o,i,n,!0),c=(o?l[o]:l).direction==="rtl",m=jn(l);return e.jsx(yn,{theme:d,children:e.jsx(Jt.Provider,{value:l,children:e.jsx(Zt,{value:c,children:e.jsxs(es,{value:o?l[o].components:l.components,children:[m,s]})})})})}const Ge="mode",qe="color-scheme",wn="data-color-scheme";function Cn(t){const{defaultMode:s="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:o="dark",modeStorageKey:r=Ge,colorSchemeStorageKey:i=qe,attribute:l=wn,colorSchemeNode:d="document.documentElement",nonce:c}=t||{};let m="",u=l;if(l==="class"&&(u=".%s"),l==="data"&&(u="[data-%s]"),u.startsWith(".")){const y=u.substring(1);m+=`${d}.classList.remove('${y}'.replace('%s', light), '${y}'.replace('%s', dark));
      ${d}.classList.add('${y}'.replace('%s', colorScheme));`}const f=u.match(/\[([^[\]]+)\]/);if(f){const[y,p]=f[1].split("=");p||(m+=`${d}.removeAttribute('${y}'.replace('%s', light));
      ${d}.removeAttribute('${y}'.replace('%s', dark));`),m+=`
      ${d}.setAttribute('${y}'.replace('%s', colorScheme), ${p?`${p}.replace('%s', colorScheme)`:'""'});`}else m+=`${d}.setAttribute('${u}', colorScheme);`;return e.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${r}') || '${s}';
  const dark = localStorage.getItem('${i}-dark') || '${o}';
  const light = localStorage.getItem('${i}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${m}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Sn(){}const Nn=({key:t,storageWindow:s})=>(!s&&typeof window<"u"&&(s=window),{get(n){if(typeof window>"u")return;if(!s)return n;let o;try{o=s.localStorage.getItem(t)}catch{}return o||n},set:n=>{if(s)try{s.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!s)return Sn;const o=r=>{const i=r.newValue;r.key===t&&n(i)};return s.addEventListener("storage",o),()=>{s.removeEventListener("storage",o)}}});function ze(){}function dt(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Bt(t,s){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return s("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return s("dark")}function kn(t){return Bt(t,s=>{if(s==="light")return t.lightColorScheme;if(s==="dark")return t.darkColorScheme})}function $n(t){const{defaultMode:s="light",defaultLightColorScheme:n,defaultDarkColorScheme:o,supportedColorSchemes:r=[],modeStorageKey:i=Ge,colorSchemeStorageKey:l=qe,storageWindow:d=typeof window>"u"?void 0:window,storageManager:c=Nn,noSsr:m=!1}=t,u=r.join(","),f=r.length>1,y=a.useMemo(()=>c==null?void 0:c({key:i,storageWindow:d}),[c,i,d]),p=a.useMemo(()=>c==null?void 0:c({key:`${l}-light`,storageWindow:d}),[c,l,d]),b=a.useMemo(()=>c==null?void 0:c({key:`${l}-dark`,storageWindow:d}),[c,l,d]),[h,w]=a.useState(()=>{const g=(y==null?void 0:y.get(s))||s,x=(p==null?void 0:p.get(n))||n,j=(b==null?void 0:b.get(o))||o;return{mode:g,systemMode:dt(g),lightColorScheme:x,darkColorScheme:j}}),[S,C]=a.useState(m||!f);a.useEffect(()=>{C(!0)},[]);const _=kn(h),N=a.useCallback(g=>{w(x=>{if(g===x.mode)return x;const j=g??s;return y==null||y.set(j),{...x,mode:j,systemMode:dt(j)}})},[y,s]),v=a.useCallback(g=>{g?typeof g=="string"?g&&!u.includes(g)?console.error(`\`${g}\` does not exist in \`theme.colorSchemes\`.`):w(x=>{const j={...x};return Bt(x,T=>{T==="light"&&(p==null||p.set(g),j.lightColorScheme=g),T==="dark"&&(b==null||b.set(g),j.darkColorScheme=g)}),j}):w(x=>{const j={...x},T=g.light===null?n:g.light,M=g.dark===null?o:g.dark;return T&&(u.includes(T)?(j.lightColorScheme=T,p==null||p.set(T)):console.error(`\`${T}\` does not exist in \`theme.colorSchemes\`.`)),M&&(u.includes(M)?(j.darkColorScheme=M,b==null||b.set(M)):console.error(`\`${M}\` does not exist in \`theme.colorSchemes\`.`)),j}):w(x=>(p==null||p.set(n),b==null||b.set(o),{...x,lightColorScheme:n,darkColorScheme:o}))},[u,p,b,n,o]),$=a.useCallback(g=>{h.mode==="system"&&w(x=>{const j=g!=null&&g.matches?"dark":"light";return x.systemMode===j?x:{...x,systemMode:j}})},[h.mode]),k=a.useRef($);return k.current=$,a.useEffect(()=>{if(typeof window.matchMedia!="function"||!f)return;const g=(...j)=>k.current(...j),x=window.matchMedia("(prefers-color-scheme: dark)");return x.addListener(g),g(x),()=>{x.removeListener(g)}},[f]),a.useEffect(()=>{if(f){const g=(y==null?void 0:y.subscribe(T=>{(!T||["light","dark","system"].includes(T))&&N(T||s)}))||ze,x=(p==null?void 0:p.subscribe(T=>{(!T||u.match(T))&&v({light:T})}))||ze,j=(b==null?void 0:b.subscribe(T=>{(!T||u.match(T))&&v({dark:T})}))||ze;return()=>{g(),x(),j()}}},[v,N,u,s,d,f,y,p,b]),{...h,mode:S?h.mode:void 0,systemMode:S?h.systemMode:void 0,colorScheme:S?_:void 0,setMode:N,setColorScheme:v}}const Tn="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function _n(t){const{themeId:s,theme:n={},modeStorageKey:o=Ge,colorSchemeStorageKey:r=qe,disableTransitionOnChange:i=!1,defaultColorScheme:l,resolveTheme:d}=t,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},m=a.createContext(void 0),u=()=>a.useContext(m)||c,f={},y={};function p(S){var Je,Ze,et,tt;const{children:C,theme:_,modeStorageKey:N=o,colorSchemeStorageKey:v=r,disableTransitionOnChange:$=i,storageManager:k,storageWindow:g=typeof window>"u"?void 0:window,documentNode:x=typeof document>"u"?void 0:document,colorSchemeNode:j=typeof document>"u"?void 0:document.documentElement,disableNestedContext:T=!1,disableStyleSheetGeneration:M=!1,defaultMode:E="system",forceThemeRerender:B=!1,noSsr:H}=S,z=a.useRef(!1),Q=Ve(),K=a.useContext(m),J=!!K&&!T,L=a.useMemo(()=>_||(typeof n=="function"?n():n),[_]),F=L[s],O=F||L,{colorSchemes:W=f,components:je=y,cssVarPrefix:ue}=O,xe=Object.keys(W).filter(D=>!!W[D]).join(","),Z=a.useMemo(()=>xe.split(","),[xe]),we=typeof l=="string"?l:l.light,Ce=typeof l=="string"?l:l.dark,ee=W[we]&&W[Ce]?E:((Ze=(Je=W[O.defaultColorScheme])==null?void 0:Je.palette)==null?void 0:Ze.mode)||((et=O.palette)==null?void 0:et.mode),{mode:A,setMode:R,systemMode:te,lightColorScheme:Ke,darkColorScheme:Ue,colorScheme:Lt,setColorScheme:Xe}=$n({supportedColorSchemes:Z,defaultLightColorScheme:we,defaultDarkColorScheme:Ce,modeStorageKey:N,colorSchemeStorageKey:v,defaultMode:ee,storageManager:k,storageWindow:g,noSsr:H});let Pe=A,V=Lt;J&&(Pe=K.mode,V=K.colorScheme);let Se=V||O.defaultColorScheme;O.vars&&!B&&(Se=O.defaultColorScheme);const ge=a.useMemo(()=>{var oe;const D=((oe=O.generateThemeVars)==null?void 0:oe.call(O))||O.vars,P={...O,components:je,colorSchemes:W,cssVarPrefix:ue,vars:D};if(typeof P.generateSpacing=="function"&&(P.spacing=P.generateSpacing()),Se){const U=W[Se];U&&typeof U=="object"&&Object.keys(U).forEach(G=>{U[G]&&typeof U[G]=="object"?P[G]={...P[G],...U[G]}:P[G]=U[G]})}return d?d(P):P},[O,Se,je,W,ue]),fe=O.colorSchemeSelector;jt(()=>{if(V&&j&&fe&&fe!=="media"){const D=fe;let P=fe;if(D==="class"&&(P=".%s"),D==="data"&&(P="[data-%s]"),D!=null&&D.startsWith("data-")&&!D.includes("%s")&&(P=`[${D}="%s"]`),P.startsWith("."))j.classList.remove(...Z.map(oe=>P.substring(1).replace("%s",oe))),j.classList.add(P.substring(1).replace("%s",V));else{const oe=P.replace("%s",V).match(/\[([^\]]+)\]/);if(oe){const[U,G]=oe[1].split("=");G||Z.forEach(At=>{j.removeAttribute(U.replace(V,At))}),j.setAttribute(U,G?G.replace(/"|'/g,""):"")}else j.setAttribute(P,V)}}},[V,fe,j,Z]),a.useEffect(()=>{let D;if($&&z.current&&x){const P=x.createElement("style");P.appendChild(x.createTextNode(Tn)),x.head.appendChild(P),window.getComputedStyle(x.body),D=setTimeout(()=>{x.head.removeChild(P)},1)}return()=>{clearTimeout(D)}},[V,$,x]),a.useEffect(()=>(z.current=!0,()=>{z.current=!1}),[]);const Ft=a.useMemo(()=>({allColorSchemes:Z,colorScheme:V,darkColorScheme:Ue,lightColorScheme:Ke,mode:Pe,setColorScheme:Xe,setMode:R,systemMode:te}),[Z,V,Ue,Ke,Pe,Xe,R,te,ge.colorSchemeSelector]);let Qe=!0;(M||O.cssVariables===!1||J&&(Q==null?void 0:Q.cssVarPrefix)===ue)&&(Qe=!1);const Ye=e.jsxs(a.Fragment,{children:[e.jsx(Rt,{themeId:F?s:void 0,theme:ge,children:C}),Qe&&e.jsx(ts,{styles:((tt=ge.generateStyleSheets)==null?void 0:tt.call(ge))||[]})]});return J?Ye:e.jsx(m.Provider,{value:Ft,children:Ye})}const b=typeof l=="string"?l:l.light,h=typeof l=="string"?l:l.dark;return{CssVarsProvider:p,useColorScheme:u,getInitColorSchemeScript:S=>Cn({colorSchemeStorageKey:r,defaultLightColorScheme:b,defaultDarkColorScheme:h,modeStorageKey:o,...S})}}function Mn({theme:t,...s}){const n=de in t?t[de]:void 0;return e.jsx(Rt,{...s,themeId:n?de:void 0,theme:n||t})}const Ne={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:On}=_n({themeId:de,theme:()=>wt({cssVariables:!0}),colorSchemeStorageKey:Ne.colorSchemeStorageKey,modeStorageKey:Ne.modeStorageKey,defaultColorScheme:{light:Ne.defaultLightColorScheme,dark:Ne.defaultDarkColorScheme},resolveTheme:t=>{const s={...t,typography:ss(t.palette,t.typography)};return s.unstable_sx=function(o){return ns({sx:o,theme:this})},s}}),Pn=On;function En({theme:t,...s}){const n=a.useMemo(()=>{if(typeof t=="function")return t;const o=de in t?t[de]:t;return"colorSchemes"in o?null:"vars"in o?t:{...t,vars:null}},[t]);return n?e.jsx(Mn,{theme:n,...s}):e.jsx(Pn,{theme:t,...s})}function zn(t){return rs("MuiFormControlLabel",t)}const pe=os("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Rn=t=>{const{classes:s,disabled:n,labelPlacement:o,error:r,required:i}=t,l={root:["root",n&&"disabled",`labelPlacement${St(o)}`,r&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",r&&"error"]};return ls(l,zn,s)},Bn=Ct("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:n}=t;return[{[`& .${pe.label}`]:s.label},s.root,s[`labelPlacement${St(n.labelPlacement)}`]]}})(Nt(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${pe.disabled}`]:{cursor:"default"},[`& .${pe.label}`]:{[`&.${pe.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:s})=>s==="start"||s==="top"||s==="bottom",style:{marginLeft:16}}]}))),In=Ct("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Nt(({theme:t})=>({[`&.${pe.error}`]:{color:(t.vars||t).palette.error.main}}))),mt=a.forwardRef(function(s,n){const o=as({props:s,name:"MuiFormControlLabel"}),{checked:r,className:i,componentsProps:l={},control:d,disabled:c,disableTypography:m,inputRef:u,label:f,labelPlacement:y="end",name:p,onChange:b,required:h,slots:w={},slotProps:S={},value:C,..._}=o,N=Is(),v=c??d.props.disabled??(N==null?void 0:N.disabled),$=h??d.props.required,k={disabled:v,required:$};["checked","name","onChange","value","inputRef"].forEach(H=>{typeof d.props[H]>"u"&&typeof o[H]<"u"&&(k[H]=o[H])});const g=Ls({props:o,muiFormControl:N,states:["error"]}),x={...o,disabled:v,labelPlacement:y,required:$,error:g.error},j=Rn(x),T={slots:w,slotProps:{...l,...S}},[M,E]=is("typography",{elementType:X,externalForwardedProps:T,ownerState:x});let B=f;return B!=null&&B.type!==X&&!m&&(B=e.jsx(M,{component:"span",...E,className:st(j.label,E==null?void 0:E.className),children:B})),e.jsxs(Bn,{className:st(j.root,i),ownerState:x,ref:n,..._,children:[a.cloneElement(d,k),$?e.jsxs("div",{children:[B,e.jsxs(In,{ownerState:x,"aria-hidden":!0,className:j.asterisk,children:["‚Äâ","*"]})]}):B]})}),Ln=t=>new Promise(s=>{setTimeout(s,t)}),Fn=()=>{const{workspaceEl:t,setWorkspaceEl:s}=js(),[n,o]=a.useState(!1),[r,i]=a.useState(""),[l,d]=a.useState([]),{refetch:c}=cs((t==null?void 0:t.id)??""),{userId:m,userRoleId:u,workspaces:f,isMobile:y}=Y();a.useEffect(()=>{d(f)},[f]);const p=N=>{if(i(N),!N)d(f);else{const v=f.filter($=>$.name.toLowerCase().includes(N.toLowerCase()));d(v)}},b=N=>{const v=f.find($=>$.id.toString()===N.key);v&&(console.log("Selected Group:",v),s(v),o(!0))},h=()=>{o(!1),s(null),c()},[w,S]=a.useState(!1),C={cursor:"pointer",position:"relative",top:-20,left:0,marginTop:0,height:25,width:80,fontWeight:700,color:"#fff",padding:"0px 20px",borderRadius:10,transition:"background-color 0.3s"},_=e.jsxs("div",{style:{padding:8},children:[e.jsx(De,{allowClear:!0,placeholder:"T√¨m ki·∫øm t√™n kh√°ch h√†ng",value:r,prefix:e.jsx(Os,{className:"!text-cyan-500 !text-xs sm:!text-sm"}),onChange:N=>p(N.target.value),style:{marginBottom:8}}),l&&e.jsx(kt,{items:l==null?void 0:l.map(N=>({key:N.id,label:N.name})),onClick:b,style:{maxHeight:"50vh",overflowY:"auto"}})]});return e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{direction:"row",spacing:2,px:.5,sx:{backgroundColor:"#00B4B6",maxHeight:30,borderRadius:5},children:e.jsx(He,{overlay:_,trigger:["click"],children:e.jsx(ce,{sx:{width:100,height:25,top:2,position:"relative",borderRadius:10,backgroundColor:w?"rgba(255,255,255,0.5)":"none",transition:"background-color 1s ease",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontWeight:500,fontSize:12},onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:e.jsx("span",{style:C,children:"CHAT"})})})}),e.jsx(ae,{open:n,onOk:h,onCancel:h,footer:null,title:`${t==null?void 0:t.name}`,okText:"OK",cancelButtonProps:{style:{display:"none"}},style:{padding:0,minWidth:"96vw",top:60},children:e.jsx(ws,{})})]})},An=[{key:"status",label:"Ti·∫øn tr√¨nh"}];function Wn(){const[t,s]=a.useState([]),n=a.useContext(Fs),{userLeadId:o,isMobile:r}=Y();if(!n)throw new Error("UpdateButtonContext not found");const[i,l]=a.useState([]),[d,c]=a.useState(!1),[m,u]=a.useState(!1),[f,y]=a.useState(!1);a.useEffect(()=>{async function h(){const w=`${ye()}/task/inlead/${o}`;try{const S=await fetch(w,{method:"GET"});if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);const C=await S.json();l(C)}catch(S){console.error("Failed to fetch tasks data:",S)}}h()},[]),a.useEffect(()=>{if(console.log(i),!i)return;const h=i.reduce((w,S)=>(w[S.status]||(w[S.status]=[]),w[S.status].push(S),w),{});s(Ps.map(w=>({...w,tasks:h[w.type]||[]})))},[i]);const p=()=>c(!1),b={items:An,onClick:({key:h})=>{h==="status"?(c(!0),u(!1)):(u(!0),c(!1))}};return e.jsxs(e.Fragment,{children:[e.jsx(He,{menu:b,children:e.jsx(ce,{sx:{width:100,height:25,top:0,padding:1.8,position:"relative",borderRadius:10,backgroundColor:f?"rgba(255,255,255,0.5)":"#00B4B5",transition:"background-color 1s ease",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",color:"#fff",fontWeight:500,fontSize:12},onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:"L·ªäCH TR√åNH"})}),e.jsxs(ae,{title:"B·∫¢NG C√îNG VI·ªÜC T·ªîNG H·ª¢P",open:d,onCancel:p,style:{minWidth:r?"320vw":"95vw",padding:0},footer:null,closable:!1,children:[e.jsx("button",{onClick:p,style:{position:"fixed",top:64,right:r?10:60,zIndex:1e3,background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:"√ó"}),e.jsx(I,{direction:"row",spacing:1,children:t.map((h,w)=>{var _,N;const S=Es[w],C=h.type==="REWARD";return e.jsxs(Ws,{style:{background:`linear-gradient(135deg, ${S.color} 0%, ${S.color}dd 100%)`,borderRadius:"20px",overflow:"hidden",width:"100%",boxShadow:"0 0 10px rgba(0,0,0,0.2)",height:"fit-content"},children:[e.jsx(Dn,{title:h.title,length:((_=h==null?void 0:h.tasks)==null?void 0:_.length)??0}),(N=h==null?void 0:h.tasks)==null?void 0:N.map(v=>e.jsx(Hn,{theme:S,isRewardColumn:C,task:v},v.id))]},h.id)})})]})]})}const Dn=({title:t,length:s})=>e.jsxs("div",{className:"flex items-center justify-between !text-white !text-sm font-semibold",style:{padding:8},children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:"w-2 h-2 bg-white/30 rounded-full flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t}),e.jsx("div",{className:"bg-white/20 rounded-full px-2 py-0.5 text-xs font-bold border border-white/5 flex-shrink-0",children:s})]}),e.jsx(zs,{className:"cursor-pointer hover:bg-white/20 rounded-md p-1.5 transition-all duration-200 flex-shrink-0"})]}),Hn=({isRewardColumn:t,task:s,theme:n})=>e.jsxs("div",{className:"task-card group/task relative mb-3 transition-all duration-200",style:{transition:"none",cursor:"pointer",padding:1},onClick:()=>{window.location.href=`/dashboard/work-tables/${s.workspace_id}`},children:[e.jsx("div",{className:"absolute inset-0 rounded-xl blur opacity-0 group-hover/task:opacity-20 transition-opacity duration-200",style:{background:`linear-gradient(135deg, ${n.color}40, ${n.color}20)`}}),e.jsxs("div",{className:`relative bg-white rounded-xl p-2 sm:p-3 border transition-all duration-300 

      shadow-md border-gray-100/50 group-hover/task:shadow-lg group-hover/task:border-gray-200/70`,children:[t&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"üèÜ"}),e.jsxs("div",{className:"space-y-1 sm:space-y-1.5",children:[e.jsx("h3",{className:`font-bold text-xs sm:text-sm line-clamp-2 transition-colors duration-150 flex-1 min-w-0 ${t?"text-purple-800":"text-gray-800 group-hover/task:text-gray-900"}`,children:s.title}),e.jsxs("p",{children:[":: ",s.workspace," ::"]}),s.description&&e.jsx("p",{className:"text-gray-500 text-xs line-clamp-2 leading-relaxed",children:s.description}),s.reward&&s.reward!==0&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 font-semibold",children:[e.jsx("span",{children:"üí∞"}),e.jsxs("span",{className:"truncate",children:[s.reward.toLocaleString()," VNƒê"]})]})]})]})]}),Vn=wt({typography:{fontSize:12,body1:{fontWeight:300}}}),Gn=({questionOpen:t,onCancel:s,children:n})=>{const{userLeadId:o,isMobile:r}=Y(),{workpointSetting:i,setWorkpointSetting:l}=ds(),d=m=>{const{name:u,value:f,type:y,checked:p}=m.target;if(y==="checkbox")l(b=>b&&(u==="work_in_sunday"&&p?{...b,[u]:p,work_in_saturday_noon:!0}:{...b,[u]:p}));else if(y==="number"){const b=f===""?0:parseFloat(f);isNaN(b)||l(h=>h&&{...h,[u]:b})}else if(u.endsWith("_in_hour")||u.endsWith("_in_minute")||u.endsWith("_out_hour")||u.endsWith("_out_minute")){const[b]=f.split(":"),h=parseInt(b,10);isNaN(h)||l(w=>w&&{...w,[u]:h})}},c=m=>{if(m.preventDefault(),!i){console.error("Form state ch∆∞a ƒë∆∞·ª£c kh·ªüi t·∫°o");return}const u={morning_in_hour:i.morning_in_hour,morning_in_minute:i.morning_in_minute,morning_out_hour:i.morning_out_hour,morning_out_minute:i.morning_out_minute,noon_in_hour:i.noon_in_hour,noon_in_minute:i.noon_in_minute,noon_out_hour:i.noon_out_hour,noon_out_minute:i.noon_out_minute,work_in_saturday_noon:i.work_in_saturday_noon,work_in_sunday:i.work_in_sunday,multiply_in_night_overtime:i.multiply_in_night_overtime,multiply_in_sun_overtime:i.multiply_in_sun_overtime};fetch(`${ye()}/workpoint/setting/${o}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(f=>{if(!f.ok)throw new Error("L·ªói khi c·∫≠p nh·∫≠t c·∫•u h√¨nh");return f.json()}).then(f=>{$e.success("C·∫≠p nh·∫≠t th√†nh c√¥ng"),s()}).catch(f=>{$e.error(f.message||"L·ªói m·∫°ng")})};return e.jsx(ae,{open:t,onCancel:s,footer:null,title:"K√≠ hi·ªáu & c·∫•u h√¨nh ph·∫ßn ch·∫•m c√¥ng",children:e.jsxs(En,{theme:Vn,children:[e.jsxs(I,{direction:"row",spacing:1,p:2,children:[e.jsxs(I,{spacing:1,children:[e.jsxs(I,{direction:"row",spacing:1,children:[e.jsx(ce,{sx:{width:20,height:20,borderRadius:10,background:"none",border:"1px solid #000"}}),e.jsx(X,{style:{whiteSpace:"nowrap"},children:"Ch∆∞a check-in"})]}),e.jsxs(I,{direction:"row",spacing:1,children:[e.jsx(ce,{sx:{width:20,height:20,borderRadius:10,background:"green"}}),e.jsx(X,{children:"ƒê√£ check-in"})]}),e.jsxs(I,{direction:"row",spacing:1,children:[e.jsx(ce,{sx:{width:20,height:20,borderRadius:10,background:"red"}}),e.jsx(X,{children:"ƒê√£ check-out"})]}),e.jsxs(I,{direction:"row",spacing:1,children:[e.jsx(ce,{sx:{width:20,height:20,borderRadius:10,background:"grey"}}),e.jsx(X,{children:"Ngh·ªâ ph√©p"})]})]}),e.jsxs(I,{direction:"row",spacing:1,sx:{height:72},children:[e.jsxs(I,{sx:{background:"#999",borderRadius:8,width:30,pt:2},children:[e.jsx(X,{color:"#fff",textAlign:"center",fontSize:10,fontWeight:300,children:"0.00"}),e.jsx(X,{color:"#fff",textAlign:"center",fontSize:10,fontWeight:300,children:"0.00"})]}),e.jsxs(I,{sx:{},children:[e.jsx(X,{style:{whiteSpace:"nowrap"},children:"T·ªïng gi·ªù l√†m h√†nh ch√≠nh"}),e.jsx(X,{sx:{pt:3},children:"T·ªïng gi·ªù tƒÉng ca"})]})]})]}),e.jsxs(I,{component:"form",onSubmit:c,spacing:1,children:[e.jsx(Hs,{component:ms,children:e.jsxs(Vs,{size:"small","aria-label":"work times table",children:[e.jsx(Gs,{children:e.jsxs(ot,{children:[e.jsx(le,{}),e.jsx(le,{children:"V√†o"}),e.jsx(le,{children:"Ra"})]})}),e.jsx(qs,{children:["morning","noon"].map(m=>e.jsxs(ot,{sx:{"& > *":{borderBottom:"unset",padding:1}},children:[e.jsx(le,{children:r?m==="morning"?"S":"C":m==="morning"?"S√°ng":"Chi·ªÅu"}),e.jsx(le,{children:e.jsxs(I,{direction:"row",style:{maxWidth:r?120:""},children:[e.jsx(ie,{type:"number",name:`${m}_in_hour`,value:i?i[`${m}_in_hour`]:"",onChange:d,inputProps:{min:0,max:23},label:"Gi·ªù v√†o",required:!0,style:{width:75}}),e.jsx(ie,{type:"number",name:`${m}_in_minute`,value:i?i[`${m}_in_minute`]:"",onChange:d,inputProps:{min:0,max:59,step:1},label:"Ph√∫t v√†o",required:!0,style:{width:75,marginLeft:8}})]})}),e.jsx(le,{children:e.jsxs(I,{direction:"row",style:{maxWidth:r?120:""},children:[e.jsx(ie,{type:"number",name:`${m}_out_hour`,value:i?i[`${m}_out_hour`]:"",onChange:d,inputProps:{min:0,max:23},label:"Gi·ªù ra",required:!0,style:{width:75}}),e.jsx(ie,{type:"number",name:`${m}_out_minute`,value:i?i[`${m}_out_minute`]:"",onChange:d,inputProps:{min:0,max:59,step:1},label:"Ph√∫t ra",required:!0,style:{width:75,marginLeft:8}})]})})]},m))})]})}),e.jsxs(I,{direction:"column",spacing:2,children:[e.jsxs(I,{direction:"row",spacing:2,children:[e.jsx(mt,{control:e.jsx(rt,{name:"work_in_saturday_noon",checked:(i==null?void 0:i.work_in_saturday_noon)||!1,onChange:d}),style:{whiteSpace:"nowrap"},label:"L√†m chi·ªÅu th·ª© 7"}),e.jsx(mt,{control:e.jsx(rt,{name:"work_in_sunday",checked:(i==null?void 0:i.work_in_sunday)||!1,onChange:d}),style:{whiteSpace:"nowrap"},label:"L√†m ng√†y CN"})]}),e.jsxs(I,{direction:"row",spacing:2,children:[e.jsx(ie,{label:"TƒÉng ca ƒë√™m",type:"number",name:"multiply_in_night_overtime",value:(i==null?void 0:i.multiply_in_night_overtime)||"",onChange:d,inputProps:{min:1,step:.1},placeholder:"Hours",style:{width:150}}),e.jsx(ie,{label:"TƒÉng ca v√†o ng√†y ngh·ªâ",type:"number",name:"multiply_in_sun_overtime",value:(i==null?void 0:i.multiply_in_sun_overtime)||"",onChange:d,inputProps:{min:1,step:.1},placeholder:"Hours",style:{width:150}})]})]}),e.jsx(Be,{variant:"contained",type:"submit",style:{backgroundColor:"#00B5B4"},children:"C·∫≠p nh·∫≠t"})]})]})})},qn=()=>{const[t,s]=a.useState(!1),{notifyList:n,notifyDelete:o,setNotifyList:r}=Y(),i=c=>{o(c),n.length===1&&s(!1),r(m=>m.filter(u=>u.id!==c))},l=()=>s(!0),d=()=>s(!1);return console.log("NotifyList",n),e.jsxs(e.Fragment,{children:[e.jsx(Be,{style:{background:"none",border:"none"},onClick:l,children:e.jsx("span",{className:"text-white font-semibold text-sm px-3 py-1.5 bg-red-600 rounded-full",children:n.length})}),e.jsx(hs,{open:t,onClose:d,"aria-labelledby":"notification-modal-title","aria-describedby":"notification-modal-description",children:e.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"20px",borderRadius:"8px",width:"60vw",maxHeight:"80vh",overflowY:"auto"},children:[n.length===0&&e.jsx("p",{children:"Kh√¥ng c√≥ th√¥ng b√°o n√†o"}),e.jsx("ul",{children:n.map(c=>e.jsxs("li",{style:{display:"flex",justifyContent:"space-between",gap:10,alignItems:"center",marginBottom:8,padding:10,paddingLeft:40,paddingRight:40,border:"1px solid #333",borderRadius:30},children:[e.jsx("a",{href:c.target,children:e.jsx("span",{children:c.text})}),e.jsx(us,{"aria-label":"close",size:"small",onClick:()=>i(c.id),children:e.jsx(Rs,{fontSize:"small"})})]},c.id))}),e.jsx(Be,{onClick:d,variant:"contained",style:{marginTop:"10px",backgroundColor:"#00B5B4"},children:"ƒê√≥ng"})]})})]})},{Header:Kn}=be;function Un(){const t=_e().pathname,s=Me(),n=xs(),[o,r]=a.useState(!1),{username:i,userId:l,userRole:d,userRoleId:c,userLeadId:m,workspaces:u,setWorkspaces:f,fullName:y}=Y(),[p,b]=a.useState(!1),{getNotifyList:h,notifyList:w}=Y(),{data:S,refetch:C}=vs(),{data:_,refetch:N}=gs({lead:m});a.useEffect(()=>{_&&(_.sort((g,x)=>g.pinned===x.pinned?new Date(x.updatedAt).getTime()-new Date(g.updatedAt).getTime():g.pinned?-1:1),f(_))},[_]);const v=()=>{b(!0)},$=()=>{b(!1)};a.useEffect(()=>{h();const g=setInterval(()=>{h()},6e4);return()=>clearInterval(g)},[h]);const k=()=>{localStorage.removeItem("Admake-User-Access"),sessionStorage.removeItem("accessToken"),n.clear(),C(),he.success({message:"ƒêƒÉng xu·∫•t th√†nh c√¥ng"}),window.location.href="https://quanly.admake.vn/login"};return e.jsx(e.Fragment,{children:e.jsxs(Cs,{children:[e.jsxs(Kn,{className:"flex items-center gap-1 justify-between !px-4 md:!px-8 !bg-white shadow-sm h-14 md:h-16 sticky top-0 z-30 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{children:e.jsx("img",{src:"/logo.jpg",alt:"logo",style:{width:40,height:"auto"}})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:"/ADMAKE.svg",alt:"ADMAKE",className:"h-8"})})]}),e.jsx(Fn,{}),e.jsx(Wn,{}),e.jsx("div",{onClick:v,className:"p-0 rounded-full hover:bg-gray-100 transition-all duration-200 flex items-center justify-center",children:e.jsx(fn,{className:"text-lg md:text-xl transition-colors duration-200"})}),e.jsxs("div",{className:"hidden md:flex items-center",children:[e.jsxs("span",{className:"text-gray-700 font-semibold text-sm px-3 py-1.5 bg-gray-100 rounded-full",children:[y||"Admin"," / ",d==null?void 0:d.name]}),e.jsx(qn,{})]}),e.jsx("div",{className:"flex items-center",children:e.jsx(He,{menu:{items:[{key:"user",label:"Th√¥ng tin",icon:e.jsx(at,{}),onClick:()=>{s("/dashboard/infor")}},{key:"logout",label:"ƒêƒÉng xu·∫•t",icon:e.jsx(un,{}),danger:!0,onClick:k}]},trigger:["click"],placement:"bottomRight",arrow:!0,children:e.jsx(Et,{size:32,className:"md:!size-10 hover:scale-105 transition-transform duration-200 cursor-pointer shadow-md",style:{background:"linear-gradient(135deg, #06b6d4 0%, #0891b2 100%)",color:"#fff",border:"2px solid #e5e7eb"},icon:e.jsx(at,{})})})})]}),t==="/dashboard/workpoints"&&e.jsx(Gn,{questionOpen:p,onCancel:$})]})})}const{Title:Xn,Text:Re}=Oe;function It({open:t,onCancel:s}){const[n]=me.useForm(),{userLeadId:o}=Y(),r=async i=>{try{if(!(await fetch(`${ye()}/workspace/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name,lead:o})})).ok)throw new Error("L·ªói khi t·∫°o b·∫£ng c√¥ng vi·ªác");he.success({message:"T·∫°o b·∫£ng c√¥ng vi·ªác th√†nh c√¥ng!",description:i.name}),n.resetFields(),window.location.reload()}catch(l){he.error({message:"T·∫°o b·∫£ng c√¥ng vi·ªác th·∫•t b·∫°i"}),console.error(l)}};return e.jsx(ae,{title:e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br from-[#00B4B6] to-[#0891b2] flex items-center justify-center shadow-lg",children:e.jsx(re,{className:"!text-white !text-sm sm:!text-base "})}),e.jsxs("div",{children:[e.jsx(Xn,{level:4,className:"!m-0 !text-gray-900 !font-bold !text-sm sm:!text-base",children:"T·∫°o b·∫£ng c√¥ng vi·ªác m·ªõi"}),e.jsx(Re,{className:"!text-gray-500 !text-sm sm:!text-base",children:"T·∫°o b·∫£ng c√¥ng vi·ªác m·ªõi ƒë·ªÉ t·ªï ch·ª©c c√¥ng vi·ªác"})]})]}),open:t,onCancel:s,footer:null,width:600,centered:!0,className:"!rounded-3xl create-workspace-modal",styles:{content:{borderRadius:"24px",overflow:"hidden",padding:0,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)"},body:{padding:0,borderRadius:"24px"},header:{borderBottom:"1px solid #f1f3f4",padding:"24px 32px 20px",background:"linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%)",borderRadius:"24px 24px 0 0"},mask:{backdropFilter:"blur(12px)",backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-green-50 via-white to-green-50 border-b border-green-100",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx(Re,{className:"text-green-600 text-base font-medium",children:"Th√¥ng tin b·∫£ng c√¥ng vi·ªác m·ªõi"})]})})}),e.jsx("div",{className:"p-8",children:e.jsxs(me,{layout:"vertical",onFinish:r,form:n,autoComplete:"off",className:"space-y-6",children:[e.jsx(me.Item,{name:"name",label:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-800 font-semibold text-base",children:"T√™n b·∫£ng c√¥ng vi·ªác"})," ",e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})]}),rules:[{required:!0,message:"Vui l√≤ng nh·∫≠p t√™n b·∫£ng c√¥ng vi·ªác"},{min:3,message:"T√™n b·∫£ng ph·∫£i c√≥ √≠t nh·∫•t 3 k√Ω t·ª±"},{max:50,message:"T√™n b·∫£ng kh√¥ng ƒë∆∞·ª£c qu√° 50 k√Ω t·ª±"}],className:"!mb-6",children:e.jsx(De,{placeholder:"Nh·∫≠p t√™n b·∫£ng c√¥ng vi·ªác...",className:"!h-12 !text-base !rounded-xl !border !border-gray-300 focus:!border-green-500 focus:!shadow-lg hover:!border-green-300 !transition-all !duration-200 !shadow-sm",size:"large",prefix:e.jsx(ve,{className:"!text-green-500 !mr-2"})})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"!text-white !text-xs !font-bold",children:"‚ÑπÔ∏è"})}),e.jsxs("div",{children:[e.jsx(Re,{className:"text-blue-800 font-medium text-sm block mb-1",children:"L∆∞u √Ω khi t·∫°o b·∫£ng c√¥ng vi·ªác:"}),e.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[e.jsx("li",{children:"‚Ä¢ B·∫°n c√≥ th·ªÉ ch·ªânh s·ª≠a ho·∫∑c x√≥a b·∫£ng sau n√†y"}),e.jsx("li",{children:"‚Ä¢ B·∫£ng m·ªõi s·∫Ω ƒë∆∞·ª£c t·∫°o v·ªõi tr·∫°ng th√°i ho·∫°t ƒë·ªông"})]})]})]})}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100",children:[e.jsx(q,{onClick:s,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !text-gray-700 hover:!bg-gray-50 !font-medium !text-xs sm:!text-sm !transition-all !duration-200 !shadow-sm hover:!shadow-md hover:!scale-105 !order-1 sm:!order-1 !drop-shadow-md !border-none",children:"‚ùå H·ªßy b·ªè"}),e.jsx(q,{type:"primary",htmlType:"submit",size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !bg-gradient-to-r !from-[#00B4B6] !to-[#0891b2] hover:!from-[#0891b2] hover:!to-[#00B4B6] !border-0 !shadow-lg hover:!shadow-xl !font-bold !text-xs sm:!text-sm !transition-all !duration-200 !transform hover:!scale-105 !order-2 sm:!order-2 !drop-shadow-md",icon:e.jsx(re,{}),children:"T·∫°o b·∫£ng c√¥ng vi·ªác"})]})]})})]})})}function Qn({mobileMenuItems:t}){const{pathname:s}=_e(),n=Me(),[o,r]=a.useState(!1),[i,l]=a.useState(!1),{workspaces:d}=Y();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mobile-menu-container fixed bottom-0 left-0 right-0 border-t border-gray-200 px-4 py-2 z-[9999] shadow-lg bg-white/95 backdrop-blur-sm",children:e.jsx("div",{className:"flex items-center justify-around",children:t.map(c=>{const m=s.startsWith(c.key),u=c.key==="/dashboard/work-tables";return e.jsxs("div",{className:`mobile-menu-item flex flex-col items-center cursor-pointer ${m?"active":""}`,onClick:()=>{u?r(!0):n(c.path)},children:[e.jsx("div",{className:`mobile-menu-icon w-12 h-12 rounded-full flex items-center justify-center ${m?"bg-[#00B4B6] text-white shadow-lg active":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.jsx("span",{className:"text-lg",children:c.icon})}),e.jsx("span",{className:`mobile-menu-label text-xs mt-1 font-medium block text-center ${m?"text-[#00B4B6] active":"text-gray-600"}`,children:c.label})]},c.key)})})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[10000] flex items-end",onClick:c=>{c.target===c.currentTarget&&r(!1)},children:e.jsxs("div",{className:"bg-white rounded-t-3xl w-full max-h-[70vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"B·∫£ng c√¥ng vi·ªác"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700",children:"‚úï"})]}),e.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:d.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"Ch∆∞a c√≥ b·∫£ng c√¥ng vi·ªác n√†o"}),e.jsxs("button",{onClick:()=>{r(!1),l(!0)},className:"mt-4 px-4 py-2 bg-[#00B4B6] text-white rounded-lg flex items-center gap-2",children:[e.jsx(re,{})," T·∫°o b·∫£ng m·ªõi"]})]}):e.jsxs("div",{className:"space-y-2",children:[d.map(c=>e.jsxs("div",{onClick:m=>{m.preventDefault(),m.stopPropagation(),r(!1),setTimeout(()=>{n(`/dashboard/work-tables/${c.id}`)},150)},className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ${s===`/dashboard/work-tables/${c.id}`?"bg-[#00B4B6]/10 border border-[#00B4B6]/20":"bg-gray-50 hover:bg-gray-100"}`,children:[e.jsx("div",{className:"w-12 h-8 rounded-lg bg-white border border-gray-200 overflow-hidden flex-shrink-0",children:c.status?e.jsx("img",{src:c.status,alt:"cover",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-cyan-400 font-bold text-sm",children:"?"})}),e.jsx("span",{className:`font-medium flex-1 ${s===`/dashboard/work-tables/${c.id}`?"text-[#00B4B6]":"text-gray-800"}`,children:c.name})]},c.id)),e.jsxs("button",{onClick:()=>{r(!1),l(!0)},className:"w-full p-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-[#00B4B6] hover:text-[#00B4B6] transition-colors cursor-pointer",children:[e.jsx(re,{})," T·∫°o b·∫£ng m·ªõi"]})]})})]})}),e.jsx("div",{className:"!z-[10001]",children:e.jsx(It,{open:i,onCancel:()=>l(!1)})})]})}const{Title:Yn,Text:ht}=Oe;function Jn({editModalVisible:t,closeEditModal:s,editForm:n,workspaceId:o,onSuccess:r}){const{mutate:i,isPending:l}=fs(),d=c=>{fetch(`${ye()}/workspace/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c.name})}).then(m=>{if(!m.ok)throw new Error("Network response was not ok");return m.json()}).then(()=>{$e.success("C·∫≠p nh·∫≠t workspace th√†nh c√¥ng!"),s(),n.resetFields(),r==null||r()}).catch(()=>{$e.error("C√≥ l·ªói x·∫£y ra khi c·∫≠p nh·∫≠t workspace!")})};return e.jsx(ae,{title:e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#0891b2] to-[#00B4B6] flex items-center justify-center shadow-lg",children:e.jsx($t,{className:"!text-white !text-lg"})}),e.jsxs("div",{children:[e.jsx(Yn,{level:4,className:"!m-0 !text-gray-900 !font-bold",children:"Ch·ªânh s·ª≠a b·∫£ng c√¥ng vi·ªác"}),e.jsx(ht,{className:"text-gray-500 text-sm",children:"C·∫≠p nh·∫≠t th√¥ng tin b·∫£ng c√¥ng vi·ªác"})]})]}),open:t,onCancel:s,footer:null,width:600,centered:!0,className:"!rounded-3xl edit-workspace-modal",styles:{content:{borderRadius:"24px",overflow:"hidden",padding:0,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)"},body:{padding:0,borderRadius:"24px"},header:{borderBottom:"1px solid #f1f3f4",padding:"24px 32px 20px",background:"linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%)",borderRadius:"24px 24px 0 0"},mask:{backdropFilter:"blur(12px)",backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-blue-50 via-white to-blue-50 border-b border-blue-100",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),e.jsx(ht,{className:"text-blue-600 text-base font-medium",children:"Th√¥ng tin b·∫£ng c√¥ng vi·ªác"})]})})}),e.jsx("div",{className:"p-8",children:e.jsxs(me,{form:n,layout:"vertical",onFinish:d,className:"space-y-6",children:[e.jsx(me.Item,{name:"name",label:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-800 font-semibold text-base",children:"T√™n b·∫£ng c√¥ng vi·ªác"})," ",e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})]}),rules:[{required:!0,message:"Vui l√≤ng nh·∫≠p t√™n b·∫£ng c√¥ng vi·ªác"}],className:"!mb-6",children:e.jsx(De,{placeholder:"Nh·∫≠p t√™n b·∫£ng c√¥ng vi·ªác...",className:"!h-12 !text-base !rounded-xl !border !border-gray-300 focus:!border-blue-500 focus:!shadow-lg hover:!border-blue-300 !transition-all !duration-200 !shadow-sm",size:"large"})}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100",children:[e.jsx(q,{onClick:s,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !text-gray-700 hover:!bg-gray-50 !font-medium !text-xs sm:!text-sm !transition-all !duration-200 !shadow-sm hover:!shadow-md hover:!scale-105 !order-1 sm:!order-1 !drop-shadow-md !border-none",children:"‚ùå H·ªßy b·ªè"}),e.jsx(q,{type:"primary",htmlType:"submit",loading:l,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !bg-gradient-to-r !from-[#00B4B6] !to-[#0891b2] hover:!from-[#0891b2] hover:!to-[#00B4B6] !border-0 !shadow-lg hover:!shadow-xl !font-bold !text-xs sm:!text-sm !transition-all !duration-200 !transform hover:!scale-105 !order-2 sm:!order-2 !drop-shadow-md",children:l?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ƒêang c·∫≠p nh·∫≠t..."]}):"‚úÖ C·∫≠p nh·∫≠t"})]})]})})]})})}const{Title:ut,Text:ke}=Oe;function Zn({deleteModalVisible:t,closeDeleteModal:s,deletingWorkspace:n,onSuccess:o,refetchWorkSpaces:r}){const{mutate:i,isPending:l}=ps(),d=a.useCallback(()=>{n!=null&&n.id&&fetch(`${ye()}/workspace/${n.id}`,{method:"DELETE"}).then(c=>(c.ok||he.error({message:"Failed to delete workspace"}),c.json())).then(()=>{typeof o=="function"&&o(),typeof s=="function"&&s()}).catch(c=>{he.error({message:`Delete error: ${c}`})})},[i,s,n,o]);return e.jsx(ae,{title:e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center shadow-lg",children:e.jsx(Le,{className:"!text-white !text-lg"})}),e.jsxs("div",{children:[e.jsx(ut,{level:4,className:"!m-0 !text-gray-900 !font-bold",children:"X√≥a b·∫£ng c√¥ng vi·ªác"}),e.jsx(ke,{className:"text-gray-500 text-sm",children:"X√°c nh·∫≠n x√≥a b·∫£ng c√¥ng vi·ªác"})]})]}),open:t,onCancel:s,footer:null,width:500,centered:!0,className:"!rounded-3xl delete-workspace-modal",styles:{content:{borderRadius:"24px",overflow:"hidden",padding:0,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)"},body:{padding:0,borderRadius:"24px"},header:{borderBottom:"1px solid #f1f3f4",padding:"24px 32px 20px",background:"linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%)",borderRadius:"24px 24px 0 0"},mask:{backdropFilter:"blur(12px)",backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-red-50 via-white to-red-50 border-b border-red-100",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),e.jsx(ke,{className:"text-red-600 text-base font-medium",children:"X√°c nh·∫≠n x√≥a"})]})})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-red-100 to-red-200 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Le,{className:"!text-3xl !text-red-500"})}),e.jsx(ut,{level:3,className:"!text-gray-900 !font-bold !mb-3",children:"X√°c nh·∫≠n x√≥a b·∫£ng c√¥ng vi·ªác"}),e.jsxs("div",{className:"max-w-sm mx-auto mb-8",children:[e.jsxs(ke,{className:"text-gray-600 text-base leading-relaxed",children:["B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a b·∫£ng c√¥ng vi·ªác"," ",e.jsxs("div",{className:"font-semibold text-gray-900 bg-yellow-50 px-2 py-1 rounded-lg",children:['"',n==null?void 0:n.name,' ?"']})]}),e.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx(ke,{className:"text-red-600 text-sm font-medium",children:"‚ö†Ô∏è H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c v√† s·∫Ω x√≥a vƒ©nh vi·ªÖn t·∫•t c·∫£ d·ªØ li·ªáu li√™n quan."})})]}),e.jsxs("div",{className:"flex justify-center gap-4 pt-6 border-t border-gray-100",children:[e.jsx(q,{onClick:s,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !text-gray-700 hover:!bg-gray-50 !font-medium !text-xs sm:!text-sm !transition-all !duration-200 !shadow-sm hover:!shadow-md hover:!scale-105 !order-1 sm:!order-1 !drop-shadow-md !border-none",children:"‚ùå H·ªßy b·ªè"}),e.jsx(q,{danger:!0,loading:l,onClick:d,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !bg-gradient-to-r !from-red-500 !to-red-600 hover:!from-red-600 hover:!to-red-700 !border-0 !shadow-lg hover:!shadow-xl !font-bold !text-xs sm:!text-sm !transition-all !duration-200 !transform hover:!scale-105 !order-2 sm:!order-2 !drop-shadow-md",children:l?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ƒêang x√≥a..."]}):"X√≥a b·∫£ng c√¥ng vi·ªác"})]})]})})]})})}const{Title:eo,Text:se}=Oe;function to({isTabletWorkspaceModalOpen:t,setIsTabletWorkspaceModalOpen:s,workSpaces:n,setIsOpenModalCreateSpace:o,onRefresh:r}){const{pathname:i}=_e(),l=Me(),[d,c]=a.useState(!1),[m,u]=a.useState(null),[f]=me.useForm(),[y,p]=a.useState(!1),[b,h]=a.useState(null),w=a.useCallback(v=>{u(v),f.setFieldsValue({name:v.name}),c(!0)},[f]),S=a.useCallback(v=>{h(v),p(!0)},[]),C=a.useCallback(()=>{c(!1),u(null),f.resetFields()},[f]),_=a.useCallback(()=>{p(!1),h(null)},[]),N=(v=>{he.success({message:"ƒê√£ x√≥a th√†nh c√¥ng",description:v})});return e.jsxs(e.Fragment,{children:[e.jsx(ae,{title:e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#0891b2] to-[#0e7490] flex items-center justify-center shadow-lg",children:e.jsx(ve,{className:"!text-white !text-lg"})}),e.jsxs("div",{children:[e.jsx(eo,{level:4,className:"!m-0 !text-gray-900 !font-bold",children:"Qu·∫£n l√Ω b·∫£ng c√¥ng vi·ªác"}),e.jsx(se,{className:"text-gray-500 text-sm",children:"Ch·ªçn b·∫£ng c√¥ng vi·ªác ƒë·ªÉ l√†m vi·ªác"})]})]}),open:t,onCancel:()=>s(!1),footer:null,width:680,centered:!0,className:"!rounded-3xl workspace-modal",styles:{content:{borderRadius:"24px",overflow:"hidden",padding:0,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)"},body:{padding:0,borderRadius:"24px"},header:{borderBottom:"1px solid #f1f3f4",padding:"24px 32px 20px",background:"linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%)",borderRadius:"24px 24px 0 0"},mask:{backdropFilter:"blur(12px)",backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-gray-50 via-white to-gray-50 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#0891b2] animate-pulse"}),e.jsxs(se,{className:"text-gray-600 text-base font-medium",children:[(n==null?void 0:n.length)||0," b·∫£ng c√¥ng vi·ªác c√≥ s·∫µn"]})]})}),e.jsx(q,{type:"primary",icon:e.jsx(re,{}),onClick:()=>o(!0),size:"large",className:"!bg-gradient-to-r !from-[#0891b2] !to-[#0e7490] !border-none !rounded-xl !shadow-lg hover:!shadow-xl !transition-all !duration-300 hover:!scale-105 !font-semibold !px-6",children:"T·∫°o b·∫£ng c√¥ng vi·ªác m·ªõi"})]})}),e.jsx("div",{className:"p-8",children:e.jsx("div",{className:"space-y-4 max-h-[420px] overflow-y-auto custom-scrollbar",children:(n==null?void 0:n.length)===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsx(ve,{className:"!text-3xl !text-gray-400"})}),e.jsx(se,{className:"text-gray-700 text-lg font-semibold block mb-3",children:"Ch∆∞a c√≥ b·∫£ng c√¥ng vi·ªác n√†o"}),e.jsx(se,{className:"text-gray-500 text-base max-w-sm mx-auto leading-relaxed",children:"T·∫°o b·∫£ng c√¥ng vi·ªác ƒë·∫ßu ti√™n ƒë·ªÉ b·∫Øt ƒë·∫ßu t·ªï ch·ª©c v√† qu·∫£n l√Ω c√¥ng vi·ªác c·ªßa b·∫°n m·ªôt c√°ch hi·ªáu qu·∫£"}),e.jsx("div",{className:"mt-8",children:e.jsx(q,{type:"dashed",icon:e.jsx(re,{}),onClick:()=>s(!0),size:"large",className:"!border-2 !border-dashed !border-[#0891b2] !text-[#0891b2] hover:!bg-[#0891b2]/5 !rounded-xl !font-medium !px-8",children:"T·∫°o b·∫£ng c√¥ng vi·ªác ƒë·∫ßu ti√™n"})})]}):n==null?void 0:n.map((v,$)=>e.jsxs("div",{className:`group relative flex items-center gap-5 p-5 rounded-2xl border-2 transition-all duration-300 cursor-pointer hover:shadow-xl hover:-translate-y-1 ${i===`/dashboard/work-tables/${v.id}`?"border-[#0891b2] bg-gradient-to-r from-[#0891b2]/8 to-[#0891b2]/4 shadow-lg shadow-[#0891b2]/20":"border-gray-200 hover:border-[#0891b2]/40 bg-white hover:bg-gradient-to-r hover:from-gray-50 hover:to-white"}`,style:{animationDelay:`${$*50}ms`},onClick:()=>{l(`/dashboard/work-tables/${v.id}`),s(!1)},children:[e.jsxs("div",{className:"relative w-20 h-16 rounded-xl overflow-hidden flex-shrink-0 shadow-md group-hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-[#0891b2] to-[#0e7490] flex items-center justify-center text-white text-xl font-bold relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx("span",{className:"relative",children:v.name&&v.name.charAt(0).toUpperCase()})]}),i===`/dashboard/work-tables/${v.id}`&&e.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 rounded-full bg-[#0891b2] border-2 border-white shadow-sm"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx(se,{className:`font-bold text-lg block truncate transition-colors duration-300 ${i===`/dashboard/work-tables/${v.id}`?"text-[#0891b2]":"text-gray-900 group-hover:text-[#0891b2]"}`,children:v.name})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"text-gray-500 text-sm font-medium",children:"B·∫£ng c√¥ng vi·ªác"}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),e.jsx(se,{className:"text-gray-400 text-xs",children:"C·∫≠p nh·∫≠t g·∫ßn ƒë√¢y"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx(q,{type:"text",icon:e.jsx($t,{}),size:"small",onClick:k=>{k.stopPropagation(),w(v)},className:"!text-blue-600 hover:!text-blue-700 hover:!bg-blue-50 !rounded-lg !px-3 !py-1 !h-8 !border !border-blue-200 hover:!border-blue-300 !shadow-sm hover:!shadow-md !transition-all !duration-200",title:"Ch·ªânh s·ª≠a workspace",children:e.jsx("span",{className:"text-xs font-medium",children:"S·ª≠a"})}),e.jsx(q,{type:"text",icon:e.jsx(Le,{className:"!text-red-500 !text-sm"}),size:"small",danger:!0,onClick:k=>{k.stopPropagation(),S(v)},className:"!text-red-600 hover:!text-red-700 hover:!bg-red-50 !rounded-lg !px-3 !py-1 !h-8 !border !border-red-500 hover:!border-red-300 !shadow-sm hover:!shadow-md !transition-all !duration-200",title:"X√≥a workspace",children:e.jsx("span",{className:"text-xs font-medium",children:"X√≥a"})})]}),e.jsx("div",{className:`transition-all duration-300 ${i===`/dashboard/work-tables/${v.id}`?"text-[#0891b2] opacity-100":"text-gray-400 opacity-0 group-hover:opacity-100 group-hover:translate-x-1"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-[#0891b2]/0 to-[#0891b2]/0 group-hover:from-[#0891b2]/5 group-hover:to-transparent transition-all duration-300 pointer-events-none"})]},v.id))})}),e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-gray-50 via-white to-gray-50 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsxs(se,{className:"text-gray-600 text-sm font-medium",children:["ƒê√£ t·∫£i ",(n==null?void 0:n.length)||0," b·∫£ng c√¥ng vi·ªác"]})]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(q,{onClick:()=>s(!1),size:"large",className:"!border-gray-300 !text-gray-600 hover:!border-gray-400 hover:!text-gray-700 !rounded-xl !font-medium !px-6 hover:!shadow-md !transition-all !duration-300",children:"ƒê√≥ng"})})]})})]})}),e.jsx(Jn,{editModalVisible:d,closeEditModal:C,editForm:f,workspaceId:(m==null?void 0:m.id)||"",onSuccess:r}),e.jsx(Zn,{deleteModalVisible:y,closeDeleteModal:_,deletingWorkspace:b||{},refetchWorkSpaces:r||(()=>{}),onSuccess:()=>N(b==null?void 0:b.name)})]})}const so=()=>{const[t,s]=a.useState({width:typeof window<"u"?window.innerWidth:1024,height:typeof window<"u"?window.innerHeight:768});return a.useEffect(()=>{if(typeof window>"u")return;const n=()=>{s({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t};function xt({}){const{pathname:t}=_e(),s=Me(),{width:n}=so(),{userLeadId:o,workspaces:r,currentWorkspace:i}=Y(),[l,d]=a.useState({page:1,limit:10,lead:o,search:""}),[c,m]=a.useState(!1),[u,f]=a.useState(!1),[y,p]=a.useState(new Set),b=()=>{_&&f(!0)},h=nt(t),S=(()=>{const $=["/dashboard/workpoints","/dashboard/work-tables","/dashboard/users","/dashboard/customers"],k=h.filter(g=>$.includes(g.key));return k.length<3?[{key:"/dashboard/workpoints",label:"Ch·∫•m c√¥ng",icon:e.jsx(Ds,{}),path:"/dashboard/workpoints"},{key:"/dashboard/work-tables",label:"B·∫£ng c√¥ng vi·ªác",icon:e.jsx(ve,{}),path:"/dashboard/work-tables"},{key:"/dashboard/users",label:"Nh√¢n s·ª±",icon:e.jsx(ys,{}),path:"/dashboard/users"},{key:"/dashboard/customers",label:"Kh√°ch h√†ng",icon:e.jsx(ve,{}),path:"/dashboard/customers"}].map(x=>{const j=k.find(T=>T.key===x.key);return{...x,label:(j==null?void 0:j.label)||x.label,icon:(j==null?void 0:j.icon)||x.icon}}):k.map(g=>({key:g.key,label:g.label,icon:g.icon,path:g.key}))})(),C=n<=768,_=n>768&&n<=1024;if(C)return e.jsx(Qn,{mobileMenuItems:S});const N=()=>nt(t).filter(k=>k.key!=="/dashboard/infor").map(k=>k.key==="/dashboard/work-tables"&&(r||[]).length>0&&!_?{key:k.key,icon:k.icon,label:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:k.label}),e.jsx("div",{className:"w-6 h-6 rounded-md bg-cyan-500 hover:bg-cyan-600 flex items-center justify-center shadow-sm transition-all duration-200",onClick:x=>{x.stopPropagation(),f(!0)},children:e.jsx(re,{className:"text-white text-xs font-bold"})})]}),children:[...(r||[]).map(x=>({key:`/dashboard/work-tables/${x.id}`,label:e.jsxs("div",{className:"flex items-center gap-3 py-1 px-2 rounded-lg hover:bg-white/10 transition-all duration-200",children:[e.jsx("div",{style:{padding:0,background:"none",border:"none",color:"yellow"},children:x.pinned&&e.jsx(Bs,{})}),e.jsx("span",{className:"text-sm font-semibold text-white truncate flex-1 min-w-0",style:{color:(x==null?void 0:x.status)==="FREE"?"yellow":"#fff"},children:x.name})]})}))]}:{key:k.key,icon:k.icon,label:_?null:k.label}),v=({key:$})=>{$==="create-workspace"?f(!0):$==="/dashboard/work-tables"&&_?b():s($)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-full w-full overflow-y-auto overflow-x-hidden custom-scrollbar px-2",children:e.jsx(kt,{mode:"inline",selectedKeys:[t],openKeys:Array.from(y),onOpenChange:$=>p(new Set($)),onClick:v,items:N(),theme:"light",className:"!border-none !bg-transparent !text-white !font-medium !w-full",style:{background:"transparent",border:"none",fontSize:"14px",fontWeight:"500",width:"100%",maxWidth:"100%"}})}),e.jsx("div",{className:"!z-[10001]",children:e.jsx(It,{open:c,onCancel:()=>m(!1)})}),e.jsx(to,{isTabletWorkspaceModalOpen:u,setIsTabletWorkspaceModalOpen:f,workSpaces:r||[],setIsOpenModalCreateSpace:m})]})}const{Sider:no,Content:oo}=be;function ro(){const[t,s]=Ee.useState(!1),[n,o]=Ee.useState(!1);return Ee.useEffect(()=>{const r=()=>{s(window.innerWidth<1024),o(window.innerWidth<768)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e.jsx(be,{className:"",style:{backgroundImage:"url(/backGround.png)",backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},children:e.jsxs(As,{children:[e.jsx(Un,{}),e.jsxs(be,{hasSider:!0,className:"",children:[!n&&e.jsxs(no,{width:280,collapsedWidth:64,collapsible:!0,collapsed:t,onCollapse:s,style:{background:"#00B4B6",boxShadow:"2px 0 8px rgba(0, 180, 182, 0.15)",border:"none",padding:"0",height:"calc(100vh - 66px)",display:"flex",flexDirection:"column",justifyContent:"flex-start",zIndex:10,position:"fixed",left:0,top:66,bottom:0,overflow:"hidden"},className:"!fixed !left-0 !top-[66px] !bottom-0 !z-10 !opacity-90",trigger:null,children:[e.jsx("div",{className:"py-4 px-2"}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(xt,{})})]}),e.jsx(be,{className:"bg-transparent flex flex-col !min-h-[calc(100vh-72px)]",children:e.jsxs(oo,{className:`flex flex-col md:px-2 min-h-full ${n?"pb-20":""}`,style:{marginLeft:!n&&!t?"280px":!n&&t?"64px":"0",transition:"margin-left 0.2s ease"},children:[e.jsx("div",{className:" px-6 pt-2"}),e.jsx("div",{className:"w-full h-full",children:e.jsx("div",{className:" rounded-2xl min-h-[300px] h-full",children:e.jsx(bs,{})})})]})})]}),n&&e.jsx(xt,{})]})})}const ko=()=>e.jsx(ro,{}),$o=async()=>(await Ln(2e3),null);export{ko as Component,ko as default,$o as loader};
