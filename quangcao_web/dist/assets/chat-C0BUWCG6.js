import{i as u,u as l,k as a,a as h,j as e,c as f,E as p,W as j,d as m,e as x,f as g,g as v,U as P,P as E,R,h as k}from"./index-0vP55K0B.js";import{u as w,G,C as W}from"./Group-DPJ0orkH.js";import"./Send-BT1t9IC9.js";import"./QRCode-CPenOnfy.js";import"./useUpdateButtonTask-CUqt2CfU.js";import"./Tabs-DNxk0Rl9.js";const U=()=>{const{workspaceEl:t,setWorkspaceEl:n}=w(),{id:s}=u(),{setUserRoleId:L}=l(),[d,o]=a.useState(!1),[c,i]=a.useState(!0);return a.useEffect(()=>{console.log("Param",t==null?void 0:t.role),s&&fetch(`${h()}/group/check-access/${s}/`).then(r=>{if(r.status===401||r.status===403)throw window.location.href="/login",new Error("Unauthorized");return r.json()}).then(r=>{r.valid?(o(!0),n(r.data)):(o(!1),window.location.href="/login"),i(!1)}).catch(()=>{o(!1),i(!1)})},[s]),c?e.jsx("div",{children:"Loading..."}):d?e.jsx(G,{}):e.jsx("div",{children:"Access denied or invalid token"})},C={path:"/",element:e.jsx(j,{children:e.jsx(m,{children:e.jsx(x,{children:e.jsx(g,{})})})}),errorElement:e.jsx(p,{}),children:[{path:"/chat/:id",element:e.jsx(W,{children:e.jsx(U,{})}),title:"Chat Group",ignoreInMenu:!0}]},I=f([C],{});v.createRoot(document.getElementById("root")).render(e.jsx(P,{children:e.jsx(E,{children:e.jsx(R,{fallbackElement:e.jsx(k,{}),future:{v7_startTransition:!0},router:I})})}));
