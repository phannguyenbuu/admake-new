import{Q as u,q as l,R as a,v as h,s as e,z as f,E as p,G as m,H as x,J as j,K as v,L as g,U as P,P as E,M as R,O as G}from"./index-B8c7yZsF.js";import{u as k,G as w,C as L}from"./Group-C2JX9LXy.js";import"./Send-DNJ1agkQ.js";import"./QRCode-GLkfBKGk.js";import"./useUpdateButtonTask-DeEAs-z1.js";import"./Tabs-DC3qZSSq.js";const U=()=>{const{workspaceEl:t,setWorkspaceEl:n}=k(),{id:s}=u(),{setUserRoleId:I}=l(),[d,o]=a.useState(!1),[c,i]=a.useState(!0);return a.useEffect(()=>{console.log("Param",t==null?void 0:t.role),s&&fetch(`${h()}/group/check-access/${s}/`).then(r=>{if(r.status===401||r.status===403)throw window.location.href="/login",new Error("Unauthorized");return r.json()}).then(r=>{r.valid?(o(!0),n(r.data)):(o(!1),window.location.href="/login"),i(!1)}).catch(()=>{o(!1),i(!1)})},[s]),c?e.jsx("div",{children:"Loading..."}):d?e.jsx(w,{}):e.jsx("div",{children:"Access denied or invalid token"})},W={path:"/",element:e.jsx(m,{children:e.jsx(x,{children:e.jsx(j,{children:e.jsx(v,{})})})}),errorElement:e.jsx(p,{}),children:[{path:"/chat/:id",element:e.jsx(L,{children:e.jsx(U,{})}),title:"Chat Group",ignoreInMenu:!0}]},C=f([W],{});g.createRoot(document.getElementById("root")).render(e.jsx(P,{children:e.jsx(E,{children:e.jsx(R,{fallbackElement:e.jsx(G,{}),future:{v7_startTransition:!0},router:C})})}));
