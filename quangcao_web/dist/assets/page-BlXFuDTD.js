import{r as i,q as C,s as e}from"./index-DlDbvK2b.js";import{b as S,c as U,U as v}from"./dashboard-CipOADIK.js";import{F as u}from"./FormUser-DrDnLhVz.js";import{B as R}from"./Button-DPmXDAsb.js";import{T,a as I}from"./data-DXQqt4qD.js";import{d as N}from"./TitlePanel-C9Rfj9pl.js";import"./index-DYYPPj2u.js";import"./auth.service-CsktSbFT.js";import"./JobAsset-DjiAzVM5.js";import"./Send-B4wb3LOo.js";import"./index-DOZOIL0c.js";import"./QRCode-DQg1K5iq.js";const H=()=>{const[t,h]=i.useState({openCreate:!1,openUpdate:!1}),{userId:k,username:z,userRoleId:_,userRole:B,userLeadId:f,canViewPermission:l}=C(),[r,d]=i.useState({page:1,limit:10,lead:f,search:""}),[x,p]=i.useState(!1),g=S(r.search,500),{data:o,isLoading:b,refetch:y}=U({...r,search:g}),c=async()=>{p(!0);try{await y()}finally{setTimeout(()=>{p(!1)},500)}};i.useEffect(()=>{console.log("CVS",l)},[l]);const[m,w]=i.useState(null),a=s=>()=>{h({...t,[s]:!t[s]})},j=s=>{d({...r,search:s,page:1})};return l!=null&&l.view_user?e.jsxs("div",{className:"min-h-screen p-2 w-full",children:[e.jsx(R,{toggle:a("openCreate"),refetch:c,title:"Thêm nhân sự",loading:x,onSearch:j}),e.jsx(T,{columns:I,dataSource:o==null?void 0:o.data,loading:b,rowSelection:{type:"radio",columnWidth:100,renderCell:(s,n)=>e.jsx(N,{className:"!text-cyan-600 !cursor-pointer !text-xl",onClick:()=>{w(n),a("openUpdate")()}})},pagination:{pageSize:r.limit,current:r.page,total:(o==null?void 0:o.total)||0,onChange:(s,n)=>{d({...r,page:s,limit:n})},showSizeChanger:!0,showTotal:(s,n)=>`${n[0]}-${n[1]} của ${s} nhân sự`,style:{paddingRight:"15px"},locale:{items_per_page:"/ Trang"}}}),t.openCreate&&e.jsxs("div",{className:"fixed inset-0 z-[50] flex justify-center items-center bg-black/30 px-2 overflow-y-auto min-h-screen py-6 hide-scrollbar",children:[e.jsx("style",{children:`
            .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}),e.jsx("div",{className:"w-full",children:e.jsx(u,{isAppend:!0,onCancel:a("openCreate"),onRefresh:()=>{a("openCreate")(),c()},isSupplier:!1})})]}),t.openUpdate&&m&&e.jsxs("div",{className:"fixed inset-0 z-[50] flex justify-center items-center bg-black/30 px-2 overflow-y-auto min-h-screen py-6 hide-scrollbar",children:[e.jsx("style",{children:`
            .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}),e.jsx("div",{className:"w-full",children:e.jsx(u,{isAppend:!1,onCancel:a("openUpdate"),onRefresh:()=>{a("openUpdate")(),c()},user:m,isSupplier:!1})})]})]}):e.jsx(v,{})},K=async()=>(await new Promise(t=>setTimeout(t,2e3)),{userId:1,name:"John Doe"});export{H as default,K as loader};
