import{g as u,a as l,h as a,i as h,j as e,c as f,E as j,W as p,b as x,d as m,B as g,e as v,U as P,P as E,R,f as k}from"./index-lO3kp6tU.js";import{u as w,G,C as W}from"./Group-B1aUSX76.js";import"./useUpdateButtonTask-18yspviZ.js";import"./Tabs-Tb2LyDHU.js";import"./QRCode-ErAtAN_7.js";const U=()=>{const{workspaceEl:t,setWorkspaceEl:n}=w(),{id:s}=u(),{setUserRoleId:I}=l(),[d,o]=a.useState(!1),[c,i]=a.useState(!0);return a.useEffect(()=>{console.log("Param",t==null?void 0:t.role),s&&fetch(`${h()}/group/check-access/${s}/`).then(r=>{if(r.status===401||r.status===403)throw window.location.href="/login",new Error("Unauthorized");return r.json()}).then(r=>{r.valid?(o(!0),n(r.data)):(o(!1),window.location.href="/login"),i(!1)}).catch(()=>{o(!1),i(!1)})},[s]),c?e.jsx("div",{children:"Loading..."}):d?e.jsx(G,{}):e.jsx("div",{children:"Access denied or invalid token"})},B={path:"/",element:e.jsx(p,{children:e.jsx(x,{children:e.jsx(m,{children:e.jsx(g,{})})})}),errorElement:e.jsx(j,{}),children:[{path:"/chat/:id",element:e.jsx(W,{children:e.jsx(U,{})}),title:"Chat Group",ignoreInMenu:!0}]},C=f([B],{});v.createRoot(document.getElementById("root")).render(e.jsx(P,{children:e.jsx(E,{children:e.jsx(R,{fallbackElement:e.jsx(k,{}),future:{v7_startTransition:!0},router:C})})}));
