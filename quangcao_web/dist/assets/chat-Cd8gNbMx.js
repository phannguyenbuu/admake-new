import{n as l,c as u,o as a,f as h,j as e,g as f,E as m,W as p,h as j,i as x,k as g,l as v,U as P,P as E,R,m as k}from"./index-BOs83NHc.js";import{u as w,G,C as W}from"./Group-Ab74-Jef.js";import"./Send-Cpr66Tur.js";import"./QRCode-BbVUnIYs.js";import"./useUpdateButtonTask-DoVUhNOQ.js";import"./Tabs-C2J7iBc_.js";const U=()=>{const{workspaceEl:t,setWorkspaceEl:n}=w(),{id:s}=l(),{setUserRoleId:L}=u(),[c,o]=a.useState(!1),[d,i]=a.useState(!0);return a.useEffect(()=>{console.log("Param",t==null?void 0:t.role),s&&fetch(`${h()}/group/check-access/${s}/`).then(r=>{if(r.status===401||r.status===403)throw window.location.href="/login",new Error("Unauthorized");return r.json()}).then(r=>{r.valid?(o(!0),n(r.data)):(o(!1),window.location.href="/login"),i(!1)}).catch(()=>{o(!1),i(!1)})},[s]),d?e.jsx("div",{children:"Loading..."}):c?e.jsx(G,{}):e.jsx("div",{children:"Access denied or invalid token"})},C={path:"/",element:e.jsx(p,{children:e.jsx(j,{children:e.jsx(x,{children:e.jsx(g,{})})})}),errorElement:e.jsx(m,{}),children:[{path:"/chat/:id",element:e.jsx(W,{children:e.jsx(U,{})}),title:"Chat Group",ignoreInMenu:!0}]},I=f([C],{});v.createRoot(document.getElementById("root")).render(e.jsx(P,{children:e.jsx(E,{children:e.jsx(R,{fallbackElement:e.jsx(k,{}),future:{v7_startTransition:!0},router:I})})}));
