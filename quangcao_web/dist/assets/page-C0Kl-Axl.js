import{r as l,a1 as j,v as e,aF as C}from"./index-CDkKBTfw.js";import{u as S,F as u}from"./FormUser-eu1hDyLS.js";import{u as U,B as v}from"./useDebounce-DOfC3TDd.js";import{T as R,a as T}from"./data-B34p9rZj.js";import"./index-BE_l9Lx5.js";const A=()=>{const[a,h]=l.useState({openCreate:!1,openUpdate:!1}),{userId:I,username:N,userRoleId:k,userRole:z,userLeadId:m}=j(),[t,c]=l.useState({page:1,limit:10,lead:m,search:""}),[f,d]=l.useState(!1),x=U(t.search,500),{data:n,isLoading:g,refetch:y}=S({...t,search:x}),i=async()=>{d(!0);try{await y()}finally{setTimeout(()=>{d(!1)},500)}},[p,b]=l.useState(null),r=s=>()=>{h({...a,[s]:!a[s]})},w=s=>{c({...t,search:s,page:1})};return e.jsxs("div",{className:"min-h-screen p-2 w-full",children:[e.jsx(v,{toggle:r("openCreate"),refetch:i,title:"Thêm nhân sự",loading:f,onSearch:w}),e.jsx(R,{columns:T,dataSource:n==null?void 0:n.data,loading:g,rowSelection:{type:"radio",columnWidth:100,renderCell:(s,o)=>e.jsx(C,{className:"!text-cyan-600 !cursor-pointer !text-xl",onClick:()=>{b(o),r("openUpdate")()}})},pagination:{pageSize:t.limit,current:t.page,total:(n==null?void 0:n.total)||0,onChange:(s,o)=>{c({...t,page:s,limit:o})},showSizeChanger:!0,showTotal:(s,o)=>`${o[0]}-${o[1]} của ${s} nhân sự`,style:{paddingRight:"15px"},locale:{items_per_page:"/ Trang"}}}),a.openCreate&&e.jsxs("div",{className:"fixed inset-0 z-[50] flex justify-center items-center bg-black/30 px-2 overflow-y-auto min-h-screen py-6 hide-scrollbar",children:[e.jsx("style",{children:`
            .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}),e.jsx("div",{className:"w-full",children:e.jsx(u,{isAppend:!0,onCancel:r("openCreate"),onRefresh:()=>{r("openCreate")(),i()},isSupplier:!1})})]}),a.openUpdate&&p&&e.jsxs("div",{className:"fixed inset-0 z-[50] flex justify-center items-center bg-black/30 px-2 overflow-y-auto min-h-screen py-6 hide-scrollbar",children:[e.jsx("style",{children:`
            .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}),e.jsx("div",{className:"w-full",children:e.jsx(u,{isAppend:!1,onCancel:r("openUpdate"),onRefresh:()=>{r("openUpdate")(),i()},user:p,isSupplier:!1})})]})]})},B=async()=>(await new Promise(a=>setTimeout(a,2e3)),{userId:1,name:"John Doe"});export{A as default,B as loader};
