import{r as i,aH as Gt,aI as It,aJ as Ut,aK as Kt,ay as Nt,ax as Wt,aF as Ht,ao as V,b5 as ft,aN as Jt,aL as Qt,_ as wt,b6 as _t,ar as N,as as Pe,aO as St,ap as ar,aM as At,au as be,aw as Zt,b7 as pt,b8 as ht,aD as Xt,aC as Pt,b9 as mt,an as Yt,ba as en,bb as Vt,aX as rn,bc as tn,bd as nn}from"./index-CM2PZ302.js";var gt=i.createContext(null);function an(e){var t=e.children,r=e.onBatchResize,n=i.useRef(0),a=i.useRef([]),o=i.useContext(gt),u=i.useCallback(function(l,c,v){n.current+=1;var C=n.current;a.current.push({size:l,element:c,data:v}),Promise.resolve().then(function(){C===n.current&&(r==null||r(a.current),a.current=[])}),o==null||o(l,c,v)},[r,o]);return i.createElement(gt.Provider,{value:u},t)}var Bt=(function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(a,o){return a[0]===r?(n=o,!0):!1}),n}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),a=this.__entries__[n];return a&&a[1]},t.prototype.set=function(r,n){var a=e(this.__entries__,r);~a?this.__entries__[a][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,a=e(n,r);~a&&n.splice(a,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var a=0,o=this.__entries__;a<o.length;a++){var u=o[a];r.call(n,u[1],u[0])}},t})()})(),bt=typeof window<"u"&&typeof document<"u"&&window.document===document,Or=(function(){return typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),on=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Or):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}})(),sn=2;function un(e,t){var r=!1,n=!1,a=0;function o(){r&&(r=!1,e()),n&&l()}function u(){on(o)}function l(){var c=Date.now();if(r){if(c-a<sn)return;n=!0}else r=!0,n=!1,setTimeout(u,t);a=c}return l}var ln=20,cn=["top","right","bottom","left","width","height","size","weight"],vn=typeof MutationObserver<"u",fn=(function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=un(this.refresh.bind(this),ln)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!bt||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),vn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!bt||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,a=cn.some(function(o){return!!~n.indexOf(o)});a&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e})(),$t=(function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e}),ir=(function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Or}),Ft=Gr(0,0,0,0);function qr(e){return parseFloat(e)||0}function Rt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,a){var o=e["border-"+a+"-width"];return n+qr(o)},0)}function dn(e){for(var t=["top","right","bottom","left"],r={},n=0,a=t;n<a.length;n++){var o=a[n],u=e["padding-"+o];r[o]=qr(u)}return r}function hn(e){var t=e.getBBox();return Gr(0,0,t.width,t.height)}function mn(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Ft;var n=ir(e).getComputedStyle(e),a=dn(n),o=a.left+a.right,u=a.top+a.bottom,l=qr(n.width),c=qr(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+o)!==t&&(l-=Rt(n,"left","right")+o),Math.round(c+u)!==r&&(c-=Rt(n,"top","bottom")+u)),!bn(e)){var v=Math.round(l+o)-t,C=Math.round(c+u)-r;Math.abs(v)!==1&&(l-=v),Math.abs(C)!==1&&(c-=C)}return Gr(a.left,a.top,l,c)}var gn=(function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof ir(e).SVGGraphicsElement}:function(e){return e instanceof ir(e).SVGElement&&typeof e.getBBox=="function"}})();function bn(e){return e===ir(e).document.documentElement}function yn(e){return bt?gn(e)?hn(e):mn(e):Ft}function wn(e){var t=e.x,r=e.y,n=e.width,a=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return $t(u,{x:t,y:r,width:n,height:a,top:r,right:t+n,bottom:a+r,left:t}),u}function Gr(e,t,r,n){return{x:e,y:t,width:r,height:n}}var Cn=(function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Gr(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=yn(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e})(),Mn=(function(){function e(t,r){var n=wn(r);$t(this,{target:t,contentRect:n})}return e})(),_n=(function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new Bt,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof ir(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new Cn(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof ir(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new Mn(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e})(),jt=typeof WeakMap<"u"?new WeakMap:new Bt,Ot=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=fn.getInstance(),n=new _n(t,r,this);jt.set(this,n)}return e})();["observe","unobserve","disconnect"].forEach(function(e){Ot.prototype[e]=function(){var t;return(t=jt.get(this))[e].apply(t,arguments)}});var Sn=(function(){return typeof Or.ResizeObserver<"u"?Or.ResizeObserver:Ot})(),$e=new Map;function Pn(e){e.forEach(function(t){var r,n=t.target;(r=$e.get(n))===null||r===void 0||r.forEach(function(a){return a(n)})})}var qt=new Sn(Pn);function Rn(e,t){$e.has(e)||($e.set(e,new Set),qt.observe(e)),$e.get(e).add(t)}function kn(e,t){$e.has(e)&&($e.get(e).delete(t),$e.get(e).size||(qt.unobserve(e),$e.delete(e)))}var En=(function(e){Gt(r,e);var t=It(r);function r(){return Ut(this,r),t.apply(this,arguments)}return Kt(r,[{key:"render",value:function(){return this.props.children}}]),r})(i.Component);function Dn(e,t){var r=e.children,n=e.disabled,a=i.useRef(null),o=i.useRef(null),u=i.useContext(gt),l=typeof r=="function",c=l?r(a):r,v=i.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),C=!l&&i.isValidElement(c)&&Nt(c),m=C?Wt(c):null,M=Ht(m,a),d=function(){var b;return ft(a.current)||(a.current&&Jt(a.current)==="object"?ft((b=a.current)===null||b===void 0?void 0:b.nativeElement):null)||ft(o.current)};i.useImperativeHandle(t,function(){return d()});var S=i.useRef(e);S.current=e;var E=i.useCallback(function(g){var b=S.current,T=b.onResize,_=b.data,x=g.getBoundingClientRect(),H=x.width,h=x.height,I=g.offsetWidth,$=g.offsetHeight,ve=Math.floor(H),ae=Math.floor(h);if(v.current.width!==ve||v.current.height!==ae||v.current.offsetWidth!==I||v.current.offsetHeight!==$){var fe={width:ve,height:ae,offsetWidth:I,offsetHeight:$};v.current=fe;var ie=I===Math.round(H)?H:I,oe=$===Math.round(h)?h:$,U=V(V({},fe),{},{offsetWidth:ie,offsetHeight:oe});u==null||u(U,g,_),T&&Promise.resolve().then(function(){T(U,g)})}},[]);return i.useEffect(function(){var g=d();return g&&!n&&Rn(g,E),function(){return kn(g,E)}},[a.current,n]),i.createElement(En,{ref:o},C?i.cloneElement(c,{ref:M}):c)}var zn=i.forwardRef(Dn),Tn="rc-observer-key";function xn(e,t){var r=e.children,n=typeof r=="function"?[r]:Qt(r);return n.map(function(a,o){var u=(a==null?void 0:a.key)||"".concat(Tn,"-").concat(o);return i.createElement(zn,wt({},e,{key:u,ref:o===0?t:void 0}),a)})}var Ct=i.forwardRef(xn);Ct.Collection=an;function dt(e){return e!==void 0}function Kn(e,t){var r=t||{},n=r.defaultValue,a=r.value,o=r.onChange,u=r.postState,l=_t(function(){return dt(a)?a:dt(n)?typeof n=="function"?n():n:typeof e=="function"?e():e}),c=N(l,2),v=c[0],C=c[1],m=a!==void 0?a:v,M=u?u(m):m,d=Pe(o),S=_t([m]),E=N(S,2),g=E[0],b=E[1];St(function(){var _=g[0];v!==_&&d(v,_)},[g]),St(function(){dt(a)||C(a)},[a]);var T=Pe(function(_,x){C(_,x),b([m],x)});return[M,T]}const Ln=(function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))});function Nn(e){var t=e.prefixCls,r=e.align,n=e.arrow,a=e.arrowPos,o=n||{},u=o.className,l=o.content,c=a.x,v=c===void 0?0:c,C=a.y,m=C===void 0?0:C,M=i.useRef();if(!r||!r.points)return null;var d={position:"absolute"};if(r.autoArrow!==!1){var S=r.points[0],E=r.points[1],g=S[0],b=S[1],T=E[0],_=E[1];g===T||!["t","b"].includes(g)?d.top=m:g==="t"?d.top=0:d.bottom=0,b===_||!["l","r"].includes(b)?d.left=v:b==="l"?d.left=0:d.right=0}return i.createElement("div",{ref:M,className:ar("".concat(t,"-arrow"),u),style:d},l)}function Wn(e){var t=e.prefixCls,r=e.open,n=e.zIndex,a=e.mask,o=e.motion;return a?i.createElement(At,wt({},o,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(u){var l=u.className;return i.createElement("div",{style:{zIndex:n},className:ar("".concat(t,"-mask"),l)})}):null}var Hn=i.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),An=i.forwardRef(function(e,t){var r=e.popup,n=e.className,a=e.prefixCls,o=e.style,u=e.target,l=e.onVisibleChanged,c=e.open,v=e.keepDom,C=e.fresh,m=e.onClick,M=e.mask,d=e.arrow,S=e.arrowPos,E=e.align,g=e.motion,b=e.maskMotion,T=e.forceRender,_=e.getPopupContainer,x=e.autoDestroy,H=e.portal,h=e.zIndex,I=e.onMouseEnter,$=e.onMouseLeave,ve=e.onPointerEnter,ae=e.onPointerDownCapture,fe=e.ready,ie=e.offsetX,oe=e.offsetY,U=e.offsetR,ye=e.offsetB,W=e.onAlign,F=e.onPrepare,y=e.stretch,se=e.targetWidth,K=e.targetHeight,j=typeof r=="function"?r():r,w=c||v,Re=(_==null?void 0:_.length)>0,or=i.useState(!_||!Re),ke=N(or,2),p=ke[0],sr=ke[1];if(be(function(){!p&&Re&&u&&sr(!0)},[p,Re,u]),!p)return null;var de="auto",J={left:"-1000vw",top:"-1000vh",right:de,bottom:de};if(fe||!c){var Fe,je=E.points,Ee=E.dynamicInset||((Fe=E._experimental)===null||Fe===void 0?void 0:Fe.dynamicInset),he=Ee&&je[0][1]==="r",X=Ee&&je[0][0]==="b";he?(J.right=U,J.left=de):(J.left=ie,J.right=de),X?(J.bottom=ye,J.top=de):(J.top=oe,J.bottom=de)}var O={};return y&&(y.includes("height")&&K?O.height=K:y.includes("minHeight")&&K&&(O.minHeight=K),y.includes("width")&&se?O.width=se:y.includes("minWidth")&&se&&(O.minWidth=se)),c||(O.pointerEvents="none"),i.createElement(H,{open:T||w,getContainer:_&&function(){return _(u)},autoDestroy:x},i.createElement(Wn,{prefixCls:a,open:c,zIndex:h,mask:M,motion:b}),i.createElement(Ct,{onResize:W,disabled:!c},function(we){return i.createElement(At,wt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:T,leavedClassName:"".concat(a,"-hidden")},g,{onAppearPrepare:F,onEnterPrepare:F,visible:c,onVisibleChanged:function(ze){var Q;g==null||(Q=g.onVisibleChanged)===null||Q===void 0||Q.call(g,ze),l(ze)}}),function(De,ze){var Q=De.className,Oe=De.style,Y=ar(a,Q,n);return i.createElement("div",{ref:Zt(we,t,ze),className:Y,style:V(V(V(V({"--arrow-x":"".concat(S.x||0,"px"),"--arrow-y":"".concat(S.y||0,"px")},J),O),Oe),{},{boxSizing:"border-box",zIndex:h},o),onMouseEnter:I,onMouseLeave:$,onPointerEnter:ve,onClick:m,onPointerDownCapture:ae},d&&i.createElement(Nn,{prefixCls:a,arrow:d,arrowPos:S,align:E}),i.createElement(Hn,{cache:!c&&!C},j))})}))}),Vn=i.forwardRef(function(e,t){var r=e.children,n=e.getTriggerDOMNode,a=Nt(r),o=i.useCallback(function(l){pt(t,n?n(l):l)},[n]),u=Ht(o,Wt(r));return a?i.cloneElement(r,{ref:u}):r}),kt=i.createContext(null);function Et(e){return e?Array.isArray(e)?e:[e]:[]}function Bn(e,t,r,n){return i.useMemo(function(){var a=Et(r??t),o=Et(n??t),u=new Set(a),l=new Set(o);return e&&(u.has("hover")&&(u.delete("hover"),u.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[u,l]},[e,t,r,n])}function $n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Fn(e,t,r,n){for(var a=r.points,o=Object.keys(e),u=0;u<o.length;u+=1){var l,c=o[u];if($n((l=e[c])===null||l===void 0?void 0:l.points,a,n))return"".concat(t,"-placement-").concat(c)}return""}function Dt(e,t,r,n){return t||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function wr(e){return e.ownerDocument.defaultView}function yt(e){for(var t=[],r=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];r;){var a=wr(r).getComputedStyle(r),o=a.overflowX,u=a.overflowY,l=a.overflow;[o,u,l].some(function(c){return n.includes(c)})&&t.push(r),r=r.parentElement}return t}function yr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function br(e){return yr(parseFloat(e),0)}function zt(e,t){var r=V({},e);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=wr(n).getComputedStyle(n),o=a.overflow,u=a.overflowClipMargin,l=a.borderTopWidth,c=a.borderBottomWidth,v=a.borderLeftWidth,C=a.borderRightWidth,m=n.getBoundingClientRect(),M=n.offsetHeight,d=n.clientHeight,S=n.offsetWidth,E=n.clientWidth,g=br(l),b=br(c),T=br(v),_=br(C),x=yr(Math.round(m.width/S*1e3)/1e3),H=yr(Math.round(m.height/M*1e3)/1e3),h=(S-E-T-_)*x,I=(M-d-g-b)*H,$=g*H,ve=b*H,ae=T*x,fe=_*x,ie=0,oe=0;if(o==="clip"){var U=br(u);ie=U*x,oe=U*H}var ye=m.x+ae-ie,W=m.y+$-oe,F=ye+m.width+2*ie-ae-fe-h,y=W+m.height+2*oe-$-ve-I;r.left=Math.max(r.left,ye),r.top=Math.max(r.top,W),r.right=Math.min(r.right,F),r.bottom=Math.min(r.bottom,y)}}),r}function Tt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function xt(e,t){var r=t||[],n=N(r,2),a=n[0],o=n[1];return[Tt(e.width,a),Tt(e.height,o)]}function Lt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function nr(e,t){var r=t[0],n=t[1],a,o;return r==="t"?o=e.y:r==="b"?o=e.y+e.height:o=e.y+e.height/2,n==="l"?a=e.x:n==="r"?a=e.x+e.width:a=e.x+e.width/2,{x:a,y:o}}function Be(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,a){return a===t?r[n]||"c":n}).join("")}function jn(e,t,r,n,a,o,u){var l=i.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),c=N(l,2),v=c[0],C=c[1],m=i.useRef(0),M=i.useMemo(function(){return t?yt(t):[]},[t]),d=i.useRef({}),S=function(){d.current={}};e||S();var E=Pe(function(){if(t&&r&&e){let ne=function(mr,Se){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ur,gr=w.x+mr,$r=w.y+Se,ut=gr+X,lt=$r+he,ct=Math.max(gr,Ve.left),s=Math.max($r,Ve.top),f=Math.min(ut,Ve.right),k=Math.min(lt,Ve.bottom);return Math.max(0,(f-ct)*(k-s))},tr=function(){Le=w.y+D,Ne=Le+he,Ke=w.x+R,_e=Ke+X};var T,_,x,H,h=t,I=h.ownerDocument,$=wr(h),ve=$.getComputedStyle(h),ae=ve.position,fe=h.style.left,ie=h.style.top,oe=h.style.right,U=h.style.bottom,ye=h.style.overflow,W=V(V({},a[n]),o),F=I.createElement("div");(T=h.parentElement)===null||T===void 0||T.appendChild(F),F.style.left="".concat(h.offsetLeft,"px"),F.style.top="".concat(h.offsetTop,"px"),F.style.position=ae,F.style.height="".concat(h.offsetHeight,"px"),F.style.width="".concat(h.offsetWidth,"px"),h.style.left="0",h.style.top="0",h.style.right="auto",h.style.bottom="auto",h.style.overflow="hidden";var y;if(Array.isArray(r))y={x:r[0],y:r[1],width:0,height:0};else{var se,K,j=r.getBoundingClientRect();j.x=(se=j.x)!==null&&se!==void 0?se:j.left,j.y=(K=j.y)!==null&&K!==void 0?K:j.top,y={x:j.x,y:j.y,width:j.width,height:j.height}}var w=h.getBoundingClientRect(),Re=$.getComputedStyle(h),or=Re.height,ke=Re.width;w.x=(_=w.x)!==null&&_!==void 0?_:w.left,w.y=(x=w.y)!==null&&x!==void 0?x:w.top;var p=I.documentElement,sr=p.clientWidth,de=p.clientHeight,J=p.scrollWidth,Fe=p.scrollHeight,je=p.scrollTop,Ee=p.scrollLeft,he=w.height,X=w.width,O=y.height,we=y.width,De={left:0,top:0,right:sr,bottom:de},ze={left:-Ee,top:-je,right:J-Ee,bottom:Fe-je},Q=W.htmlRegion,Oe="visible",Y="visibleFirst";Q!=="scroll"&&Q!==Y&&(Q=Oe);var qe=Q===Y,Ir=zt(ze,M),P=zt(De,M),ur=Q===Oe?P:Ir,A=qe?P:ur;h.style.left="auto",h.style.top="auto",h.style.right="0",h.style.bottom="0";var Cr=h.getBoundingClientRect();h.style.left=fe,h.style.top=ie,h.style.right=oe,h.style.bottom=U,h.style.overflow=ye,(H=h.parentElement)===null||H===void 0||H.removeChild(F);var Ce=yr(Math.round(X/parseFloat(ke)*1e3)/1e3),Te=yr(Math.round(he/parseFloat(or)*1e3)/1e3);if(Ce===0||Te===0||ht(r)&&!Xt(r))return;var Ur=W.offset,Mr=W.targetOffset,me=xt(w,Ur),_r=N(me,2),ee=_r[0],ue=_r[1],Ye=xt(y,Mr),Z=N(Ye,2),xe=Z[0],Kr=Z[1];y.x-=xe,y.y-=Kr;var Jr=W.points||[],Sr=N(Jr,2),Qr=Sr[0],Pr=Sr[1],Me=Lt(Pr),q=Lt(Qr),B=nr(y,Me),Rr=nr(w,q),re=V({},W),R=B.x-Rr.x+ee,D=B.y-Rr.y+ue,le=ne(R,D),Ge=ne(R,D,P),te=nr(y,["t","l"]),kr=nr(w,["t","l"]),lr=nr(y,["b","r"]),Ie=nr(w,["b","r"]),Ue=W.overflow||{},Zr=Ue.adjustX,Er=Ue.adjustY,er=Ue.shiftX,cr=Ue.shiftY,Dr=function(Se){return typeof Se=="boolean"?Se:Se>=0},Le,Ne,Ke,_e;tr();var zr=Dr(Er),G=q[0]===Me[0];if(zr&&q[0]==="t"&&(Ne>A.bottom||d.current.bt)){var Je=D;G?Je-=he-O:Je=te.y-Ie.y-ue;var Tr=ne(R,Je),pr=ne(R,Je,P);Tr>le||Tr===le&&(!qe||pr>=Ge)?(d.current.bt=!0,D=Je,ue=-ue,re.points=[Be(q,0),Be(Me,0)]):d.current.bt=!1}if(zr&&q[0]==="b"&&(Le<A.top||d.current.tb)){var Qe=D;G?Qe+=he-O:Qe=lr.y-kr.y-ue;var xr=ne(R,Qe),Xr=ne(R,Qe,P);xr>le||xr===le&&(!qe||Xr>=Ge)?(d.current.tb=!0,D=Qe,ue=-ue,re.points=[Be(q,0),Be(Me,0)]):d.current.tb=!1}var Lr=Dr(Zr),Nr=q[1]===Me[1];if(Lr&&q[1]==="l"&&(_e>A.right||d.current.rl)){var Ze=R;Nr?Ze-=X-we:Ze=te.x-Ie.x-ee;var pe=ne(Ze,D),vr=ne(Ze,D,P);pe>le||pe===le&&(!qe||vr>=Ge)?(d.current.rl=!0,R=Ze,ee=-ee,re.points=[Be(q,1),Be(Me,1)]):d.current.rl=!1}if(Lr&&q[1]==="r"&&(Ke<A.left||d.current.lr)){var Xe=R;Nr?Xe+=X-we:Xe=lr.x-kr.x-ee;var fr=ne(Xe,D),rr=ne(Xe,D,P);fr>le||fr===le&&(!qe||rr>=Ge)?(d.current.lr=!0,R=Xe,ee=-ee,re.points=[Be(q,1),Be(Me,1)]):d.current.lr=!1}tr();var ce=er===!0?0:er;typeof ce=="number"&&(Ke<P.left&&(R-=Ke-P.left-ee,y.x+we<P.left+ce&&(R+=y.x-P.left+we-ce)),_e>P.right&&(R-=_e-P.right-ee,y.x>P.right-ce&&(R+=y.x-P.right+ce)));var We=cr===!0?0:cr;typeof We=="number"&&(Le<P.top&&(D-=Le-P.top-ue,y.y+O<P.top+We&&(D+=y.y-P.top+O-We)),Ne>P.bottom&&(D-=Ne-P.bottom-ue,y.y>P.bottom-We&&(D+=y.y-P.bottom+We)));var He=w.x+R,Ae=He+X,dr=w.y+D,Yr=dr+he,Wr=y.x,Hr=Wr+we,Ar=y.y,et=Ar+O,rt=Math.max(He,Wr),Vr=Math.min(Ae,Hr),tt=(rt+Vr)/2,nt=tt-He,Br=Math.max(dr,Ar),at=Math.min(Yr,et),it=(Br+at)/2,ot=it-dr;u==null||u(t,re);var ge=Cr.right-w.x-(R+w.width),hr=Cr.bottom-w.y-(D+w.height);Ce===1&&(R=Math.round(R),ge=Math.round(ge)),Te===1&&(D=Math.round(D),hr=Math.round(hr));var st={ready:!0,offsetX:R/Ce,offsetY:D/Te,offsetR:ge/Ce,offsetB:hr/Te,arrowX:nt/Ce,arrowY:ot/Te,scaleX:Ce,scaleY:Te,align:re};C(st)}}),g=function(){m.current+=1;var _=m.current;Promise.resolve().then(function(){m.current===_&&E()})},b=function(){C(function(_){return V(V({},_),{},{ready:!1})})};return be(b,[n]),be(function(){e||b()},[e]),[v.ready,v.offsetX,v.offsetY,v.offsetR,v.offsetB,v.arrowX,v.arrowY,v.scaleX,v.scaleY,v.align,g]}function On(e,t,r,n,a){be(function(){if(e&&t&&r){let m=function(){n(),a()};var o=t,u=r,l=yt(o),c=yt(u),v=wr(u),C=new Set([v].concat(Pt(l),Pt(c)));return C.forEach(function(M){M.addEventListener("scroll",m,{passive:!0})}),v.addEventListener("resize",m,{passive:!0}),n(),function(){C.forEach(function(M){M.removeEventListener("scroll",m),v.removeEventListener("resize",m)})}}},[e,t,r])}function qn(e,t,r,n,a,o,u,l){var c=i.useRef(e);c.current=e;var v=i.useRef(!1);i.useEffect(function(){if(t&&n&&(!a||o)){var m=function(){v.current=!1},M=function(g){var b;c.current&&!u(((b=g.composedPath)===null||b===void 0||(b=b.call(g))===null||b===void 0?void 0:b[0])||g.target)&&!v.current&&l(!1)},d=wr(n);d.addEventListener("pointerdown",m,!0),d.addEventListener("mousedown",M,!0),d.addEventListener("contextmenu",M,!0);var S=mt(r);return S&&(S.addEventListener("mousedown",M,!0),S.addEventListener("contextmenu",M,!0)),function(){d.removeEventListener("pointerdown",m,!0),d.removeEventListener("mousedown",M,!0),d.removeEventListener("contextmenu",M,!0),S&&(S.removeEventListener("mousedown",M,!0),S.removeEventListener("contextmenu",M,!0))}}},[t,r,n,a,o]);function C(){v.current=!0}return C}var Gn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function In(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vt,t=i.forwardRef(function(r,n){var a=r.prefixCls,o=a===void 0?"rc-trigger-popup":a,u=r.children,l=r.action,c=l===void 0?"hover":l,v=r.showAction,C=r.hideAction,m=r.popupVisible,M=r.defaultPopupVisible,d=r.onPopupVisibleChange,S=r.afterPopupVisibleChange,E=r.mouseEnterDelay,g=r.mouseLeaveDelay,b=g===void 0?.1:g,T=r.focusDelay,_=r.blurDelay,x=r.mask,H=r.maskClosable,h=H===void 0?!0:H,I=r.getPopupContainer,$=r.forceRender,ve=r.autoDestroy,ae=r.destroyPopupOnHide,fe=r.popup,ie=r.popupClassName,oe=r.popupStyle,U=r.popupPlacement,ye=r.builtinPlacements,W=ye===void 0?{}:ye,F=r.popupAlign,y=r.zIndex,se=r.stretch,K=r.getPopupClassNameFromAlign,j=r.fresh,w=r.alignPoint,Re=r.onPopupClick,or=r.onPopupAlign,ke=r.arrow,p=r.popupMotion,sr=r.maskMotion,de=r.popupTransitionName,J=r.popupAnimation,Fe=r.maskTransitionName,je=r.maskAnimation,Ee=r.className,he=r.getTriggerDOMNode,X=Yt(r,Gn),O=ve||ae||!1,we=i.useState(!1),De=N(we,2),ze=De[0],Q=De[1];be(function(){Q(Ln())},[]);var Oe=i.useRef({}),Y=i.useContext(kt),qe=i.useMemo(function(){return{registerSubPopup:function(f,k){Oe.current[f]=k,Y==null||Y.registerSubPopup(f,k)}}},[Y]),Ir=en(),P=i.useState(null),ur=N(P,2),A=ur[0],Cr=ur[1],Ce=i.useRef(null),Te=Pe(function(s){Ce.current=s,ht(s)&&A!==s&&Cr(s),Y==null||Y.registerSubPopup(Ir,s)}),Ur=i.useState(null),Mr=N(Ur,2),me=Mr[0],_r=Mr[1],ee=i.useRef(null),ue=Pe(function(s){ht(s)&&me!==s&&(_r(s),ee.current=s)}),Ye=i.Children.only(u),Z=(Ye==null?void 0:Ye.props)||{},xe={},Kr=Pe(function(s){var f,k,L=me;return(L==null?void 0:L.contains(s))||((f=mt(L))===null||f===void 0?void 0:f.host)===s||s===L||(A==null?void 0:A.contains(s))||((k=mt(A))===null||k===void 0?void 0:k.host)===s||s===A||Object.values(Oe.current).some(function(z){return(z==null?void 0:z.contains(s))||s===z})}),Jr=Dt(o,p,J,de),Sr=Dt(o,sr,je,Fe),Qr=i.useState(M||!1),Pr=N(Qr,2),Me=Pr[0],q=Pr[1],B=m??Me,Rr=Pe(function(s){m===void 0&&q(s)});be(function(){q(m||!1)},[m]);var re=i.useRef(B);re.current=B;var R=i.useRef([]);R.current=[];var D=Pe(function(s){var f;Rr(s),((f=R.current[R.current.length-1])!==null&&f!==void 0?f:B)!==s&&(R.current.push(s),d==null||d(s))}),le=i.useRef(),Ge=function(){clearTimeout(le.current)},te=function(f){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Ge(),k===0?D(f):le.current=setTimeout(function(){D(f)},k*1e3)};i.useEffect(function(){return Ge},[]);var kr=i.useState(!1),lr=N(kr,2),Ie=lr[0],Ue=lr[1];be(function(s){(!s||B)&&Ue(!0)},[B]);var Zr=i.useState(null),Er=N(Zr,2),er=Er[0],cr=Er[1],Dr=i.useState(null),Le=N(Dr,2),Ne=Le[0],Ke=Le[1],_e=function(f){Ke([f.clientX,f.clientY])},zr=jn(B,A,w&&Ne!==null?Ne:me,U,W,F,or),G=N(zr,11),Je=G[0],Tr=G[1],pr=G[2],Qe=G[3],xr=G[4],Xr=G[5],Lr=G[6],Nr=G[7],Ze=G[8],pe=G[9],vr=G[10],Xe=Bn(ze,c,v,C),fr=N(Xe,2),rr=fr[0],ce=fr[1],We=rr.has("click"),He=ce.has("click")||ce.has("contextMenu"),Ae=Pe(function(){Ie||vr()}),dr=function(){re.current&&w&&He&&te(!1)};On(B,me,A,Ae,dr),be(function(){Ae()},[Ne,U]),be(function(){B&&!(W!=null&&W[U])&&Ae()},[JSON.stringify(F)]);var Yr=i.useMemo(function(){var s=Fn(W,o,pe,w);return ar(s,K==null?void 0:K(pe))},[pe,K,W,o,w]);i.useImperativeHandle(n,function(){return{nativeElement:ee.current,popupElement:Ce.current,forceAlign:Ae}});var Wr=i.useState(0),Hr=N(Wr,2),Ar=Hr[0],et=Hr[1],rt=i.useState(0),Vr=N(rt,2),tt=Vr[0],nt=Vr[1],Br=function(){if(se&&me){var f=me.getBoundingClientRect();et(f.width),nt(f.height)}},at=function(){Br(),Ae()},it=function(f){Ue(!1),vr(),S==null||S(f)},ot=function(){return new Promise(function(f){Br(),cr(function(){return f})})};be(function(){er&&(vr(),er(),cr(null))},[er]);function ge(s,f,k,L){xe[s]=function(z){var Fr;L==null||L(z),te(f,k);for(var vt=arguments.length,Mt=new Array(vt>1?vt-1:0),jr=1;jr<vt;jr++)Mt[jr-1]=arguments[jr];(Fr=Z[s])===null||Fr===void 0||Fr.call.apply(Fr,[Z,z].concat(Mt))}}(We||He)&&(xe.onClick=function(s){var f;re.current&&He?te(!1):!re.current&&We&&(_e(s),te(!0));for(var k=arguments.length,L=new Array(k>1?k-1:0),z=1;z<k;z++)L[z-1]=arguments[z];(f=Z.onClick)===null||f===void 0||f.call.apply(f,[Z,s].concat(L))});var hr=qn(B,He,me,A,x,h,Kr,te),st=rr.has("hover"),ne=ce.has("hover"),tr,mr;st&&(ge("onMouseEnter",!0,E,function(s){_e(s)}),ge("onPointerEnter",!0,E,function(s){_e(s)}),tr=function(f){(B||Ie)&&A!==null&&A!==void 0&&A.contains(f.target)&&te(!0,E)},w&&(xe.onMouseMove=function(s){var f;(f=Z.onMouseMove)===null||f===void 0||f.call(Z,s)})),ne&&(ge("onMouseLeave",!1,b),ge("onPointerLeave",!1,b),mr=function(){te(!1,b)}),rr.has("focus")&&ge("onFocus",!0,T),ce.has("focus")&&ge("onBlur",!1,_),rr.has("contextMenu")&&(xe.onContextMenu=function(s){var f;re.current&&ce.has("contextMenu")?te(!1):(_e(s),te(!0)),s.preventDefault();for(var k=arguments.length,L=new Array(k>1?k-1:0),z=1;z<k;z++)L[z-1]=arguments[z];(f=Z.onContextMenu)===null||f===void 0||f.call.apply(f,[Z,s].concat(L))}),Ee&&(xe.className=ar(Z.className,Ee));var Se=i.useRef(!1);Se.current||(Se.current=$||B||Ie);var Ve=V(V({},Z),xe),gr={},$r=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];$r.forEach(function(s){X[s]&&(gr[s]=function(){for(var f,k=arguments.length,L=new Array(k),z=0;z<k;z++)L[z]=arguments[z];(f=Ve[s])===null||f===void 0||f.call.apply(f,[Ve].concat(L)),X[s].apply(X,L)})});var ut=i.cloneElement(Ye,V(V({},Ve),gr)),lt={x:Xr,y:Lr},ct=ke?V({},ke!==!0?ke:{}):null;return i.createElement(i.Fragment,null,i.createElement(Ct,{disabled:!B,ref:ue,onResize:at},i.createElement(Vn,{getTriggerDOMNode:he},ut)),Se.current&&i.createElement(kt.Provider,{value:qe},i.createElement(An,{portal:e,ref:Te,prefixCls:o,popup:fe,className:ar(ie,Yr),style:oe,target:me,onMouseEnter:tr,onMouseLeave:mr,onPointerEnter:tr,zIndex:y,open:B,keepDom:Ie,fresh:j,onClick:Re,onPointerDownCapture:hr,mask:x,motion:Jr,maskMotion:Sr,onVisibleChanged:it,onPrepare:ot,forceRender:$,autoDestroy:O,getPopupContainer:I,align:pe,arrow:ct,arrowPos:lt,ready:Je,offsetX:Tr,offsetY:pr,offsetR:Qe,offsetB:xr,onAlign:Ae,stretch:se,targetWidth:Ar/Nr,targetHeight:tt/Ze})))});return t}const Jn=In(Vt),Qn=(e,t,r=void 0)=>{var n,a;const{variant:o,[e]:u}=i.useContext(rn),l=i.useContext(tn),c=u==null?void 0:u.variant;let v;typeof t<"u"?v=t:r===!1?v="borderless":v=(a=(n=l??c)!==null&&n!==void 0?n:o)!==null&&a!==void 0?a:"outlined";const C=nn.includes(v);return[v,C]};export{Ct as R,Jn as T,Qn as a,Ln as i,Kn as u};
