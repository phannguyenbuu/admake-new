import{r as l,q as j,s as e}from"./index-DiG4yKa1.js";import{b as C,c as S}from"./dashboard-CRx6I5Rc.js";import{F as m}from"./FormUser-BdzpwIQm.js";import{B as U}from"./Button-fq6tFEI7.js";import{T as R,a as v}from"./data-D5yL6C7l.js";import{R as T}from"./index-BQuhBOGA.js";import"./TitlePanel-B3fuJnba.js";import"./index-wUWx_h0q.js";import"./auth.service-BNtNnurU.js";import"./JobAsset-BYN67cfc.js";import"./Send-BgSxatO-.js";import"./index-BbdTex19.js";import"./QRCode-CY7Bpged.js";const G=()=>{const[t,h]=l.useState({openCreate:!1,openUpdate:!1}),{userId:I,username:N,userRoleId:k,userRole:z,userLeadId:u}=j(),[r,c]=l.useState({page:1,limit:10,lead:u,search:""}),[f,p]=l.useState(!1),x=C(r.search,500),{data:o,isLoading:g,refetch:b}=S({...r,search:x}),i=async()=>{p(!0);try{await b()}finally{setTimeout(()=>{p(!1)},500)}},[d,y]=l.useState(null),a=s=>()=>{h({...t,[s]:!t[s]})},w=s=>{c({...r,search:s,page:1})};return e.jsxs("div",{className:"min-h-screen p-2 w-full",children:[e.jsx(U,{toggle:a("openCreate"),refetch:i,title:"Thêm nhân sự",loading:f,onSearch:w}),e.jsx(R,{columns:v,dataSource:o==null?void 0:o.data,loading:g,rowSelection:{type:"radio",columnWidth:100,renderCell:(s,n)=>e.jsx(T,{className:"!text-cyan-600 !cursor-pointer !text-xl",onClick:()=>{y(n),a("openUpdate")()}})},pagination:{pageSize:r.limit,current:r.page,total:(o==null?void 0:o.total)||0,onChange:(s,n)=>{c({...r,page:s,limit:n})},showSizeChanger:!0,showTotal:(s,n)=>`${n[0]}-${n[1]} của ${s} nhân sự`,style:{paddingRight:"15px"},locale:{items_per_page:"/ Trang"}}}),t.openCreate&&e.jsxs("div",{className:"fixed inset-0 z-[50] flex justify-center items-center bg-black/30 px-2 overflow-y-auto min-h-screen py-6 hide-scrollbar",children:[e.jsx("style",{children:`
            .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}),e.jsx("div",{className:"w-full",children:e.jsx(m,{isAppend:!0,onCancel:a("openCreate"),onRefresh:()=>{a("openCreate")(),i()},isSupplier:!1})})]}),t.openUpdate&&d&&e.jsxs("div",{className:"fixed inset-0 z-[50] flex justify-center items-center bg-black/30 px-2 overflow-y-auto min-h-screen py-6 hide-scrollbar",children:[e.jsx("style",{children:`
            .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}),e.jsx("div",{className:"w-full",children:e.jsx(m,{isAppend:!1,onCancel:a("openUpdate"),onRefresh:()=>{a("openUpdate")(),i()},user:d,isSupplier:!1})})]})]})},H=async()=>(await new Promise(t=>setTimeout(t,2e3)),{userId:1,name:"John Doe"});export{G as default,H as loader};
