import{r as l,u as j,j as e}from"./index-DNmsICSd.js";import{u as C,F as u}from"./FormUser-ChGTbrFV.js";import{u as S,B as U}from"./useDebounce-BZ8OlV7k.js";import{T as R,a as v}from"./data-B7VLFLrs.js";import{R as T}from"./index-CwZZiXA_.js";import"./index-Wwl2uWzZ.js";import"./JobAsset-DRJ9ug4R.js";import"./TitlePanel-CItGy5xc.js";import"./Send-BsRJR_U0.js";import"./index-BRrfBtCy.js";import"./QRCode-DNPJqLp0.js";const P=()=>{const[t,m]=l.useState({openCreate:!1,openUpdate:!1}),{userId:I,username:N,userRoleId:k,userRole:z,userLeadId:h}=j(),[r,c]=l.useState({page:1,limit:10,lead:h,search:""}),[f,p]=l.useState(!1),x=S(r.search,500),{data:a,isLoading:g,refetch:y}=C({...r,search:x}),i=async()=>{p(!0);try{await y()}finally{setTimeout(()=>{p(!1)},500)}},[d,b]=l.useState(null),o=s=>()=>{m({...t,[s]:!t[s]})},w=s=>{c({...r,search:s,page:1})};return e.jsxs("div",{className:"min-h-screen p-2 w-full",children:[e.jsx(U,{toggle:o("openCreate"),refetch:i,title:"Thêm nhân sự",loading:f,onSearch:w}),e.jsx(R,{columns:v,dataSource:a==null?void 0:a.data,loading:g,rowSelection:{type:"radio",columnWidth:100,renderCell:(s,n)=>e.jsx(T,{className:"!text-cyan-600 !cursor-pointer !text-xl",onClick:()=>{b(n),o("openUpdate")()}})},pagination:{pageSize:r.limit,current:r.page,total:(a==null?void 0:a.total)||0,onChange:(s,n)=>{c({...r,page:s,limit:n})},showSizeChanger:!0,showTotal:(s,n)=>`${n[0]}-${n[1]} của ${s} nhân sự`,style:{paddingRight:"15px"},locale:{items_per_page:"/ Trang"}}}),t.openCreate&&e.jsxs("div",{className:"fixed inset-0 z-[50] flex justify-center items-center bg-black/30 px-2 overflow-y-auto min-h-screen py-6 hide-scrollbar",children:[e.jsx("style",{children:`
            .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}),e.jsx("div",{className:"w-full",children:e.jsx(u,{isAppend:!0,onCancel:o("openCreate"),onRefresh:()=>{o("openCreate")(),i()},isSupplier:!1})})]}),t.openUpdate&&d&&e.jsxs("div",{className:"fixed inset-0 z-[50] flex justify-center items-center bg-black/30 px-2 overflow-y-auto min-h-screen py-6 hide-scrollbar",children:[e.jsx("style",{children:`
            .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}),e.jsx("div",{className:"w-full",children:e.jsx(u,{isAppend:!1,onCancel:o("openUpdate"),onRefresh:()=>{o("openUpdate")(),i()},user:d,isSupplier:!1})})]})]})},W=async()=>(await new Promise(t=>setTimeout(t,2e3)),{userId:1,name:"John Doe"});export{P as default,W as loader};
