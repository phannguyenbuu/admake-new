import{r as m,aL as Ws,aX as zo,cy as Go,aG as Cr,ap as Ee,k as Tt,az as he,aC as Ze,ao as le,ar as H,h as $e,aN as _n,as as Xe,aq as wt,aE as Ys,aO as zs,au as kt,_ as pe,aD as Gs,b$ as Uo,an as en,aK as Us,aJ as qs,aR as Ro,aS as xe,ci as dr,aQ as Ks,cD as Xs,aT as Pa,aU as Qs,I as an,b2 as tn,bg as Js,cC as $i,aY as Oi,a_ as Ti,bY as Ai,bX as _i,c3 as Fi,cE as Bi,cw as Li,y as qo,j as w,Y as At,a as $t,$ as Ye,a3 as In,T as oo,bU as Zs,bK as Ra,X as ec,i as Pt,ak as ut,cF as tc,c0 as nc,at as ji,cG as rc,cH as oc}from"./index-D0MEbSpB.js";import{T as xt}from"./index-ZoXGdvuY.js";import{F as ot,I as Ko,R as ac,C as ic}from"./index-euVFnfQv.js";import{S as Yt,g as Xo,d as Ne,b as lc,c as sc,a as Na,u as cc,M as Sr,s as No}from"./index-PxL5M9pQ.js";import{T as uc,S as dc,U as wr}from"./useUpdateButtonTask-BHSQMoK3.js";import{F as fc,i as Ma,e as mc,s as gc,g as pc,f as vc,T as hc,C as bc,b as xc}from"./TitlePanel-Bv-1Xr5r.js";import{T as yc,a as Cc,b as ao,c as Zt}from"./TableRow-DR1I80jN.js";import{T as Sc}from"./index-CjqwyseN.js";import{T as wc,u as Dt,R as Vi,a as Hi}from"./useVariants-D2oC6RuT.js";import{c as Dc,a as Ic,m as Ec,n as Pc,o as Rc,p as Nc,i as Mc,q as kc,s as $c,v as Wi,w as Yi}from"./Input-C4V1iT1F.js";const{Option:ka}=Yt;function $a(e){return(e==null?void 0:e.type)&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const Oc=(e,t)=>{var n,r;const{prefixCls:o,className:a,popupClassName:i,dropdownClassName:l,children:s,dataSource:c,dropdownStyle:d,dropdownRender:u,popupRender:f,onDropdownVisibleChange:g,onOpenChange:v,styles:h,classNames:p}=e,b=Ws(s),x=((n=h==null?void 0:h.popup)===null||n===void 0?void 0:n.root)||d,S=((r=p==null?void 0:p.popup)===null||r===void 0?void 0:r.root)||i||l,y=f||u,C=v||g;let D;b.length===1&&m.isValidElement(b[0])&&!$a(b[0])&&([D]=b);const I=D?()=>D:void 0;let E;b.length&&$a(b[0])?E=s:E=c?c.map($=>{if(m.isValidElement($))return $;switch(typeof $){case"string":return m.createElement(ka,{key:$,value:$},$);case"object":{const{value:_}=$;return m.createElement(ka,{key:_,value:_},$.text)}default:return}}):[];const{getPrefixCls:R}=m.useContext(zo),P=R("select",o),[k]=Go("SelectLike",x==null?void 0:x.zIndex);return m.createElement(Yt,Object.assign({ref:t,suffixIcon:null},Cr(e,["dataSource","dropdownClassName","popupClassName"]),{prefixCls:P,classNames:{popup:{root:S},root:p==null?void 0:p.root},styles:{popup:{root:Object.assign(Object.assign({},x),{zIndex:k})},root:h==null?void 0:h.root},className:Ee(`${P}-auto-complete`,a),mode:Yt.SECRET_COMBOBOX_MODE_DO_NOT_USE,popupRender:y,onOpenChange:C,getInputElement:I}),E)},zi=m.forwardRef(Oc),{Option:Tc}=Yt,Ac=Xo(zi,"dropdownAlign",e=>Cr(e,["visible"])),Qo=zi;Qo.Option=Tc;Qo._InternalPanelDoNotUseOrYouWillBeFired=Ac;var nr={exports:{}},_c=nr.exports,Oa;function Fc(){return Oa||(Oa=1,(function(e,t){(function(n,r){e.exports=r()})(_c,(function(){return function(n,r){r.prototype.weekday=function(o){var a=this.$locale().weekStart||0,i=this.$W,l=(i<a?i+7:i)-a;return this.$utils().u(o)?l:this.subtract(l,"day").add(o,"day")}}}))})(nr)),nr.exports}var Bc=Fc();const Lc=Tt(Bc);var rr={exports:{}},jc=rr.exports,Ta;function Vc(){return Ta||(Ta=1,(function(e,t){(function(n,r){e.exports=r()})(jc,(function(){return function(n,r,o){var a=r.prototype,i=function(u){return u&&(u.indexOf?u:u.s)},l=function(u,f,g,v,h){var p=u.name?u:u.$locale(),b=i(p[f]),x=i(p[g]),S=b||x.map((function(C){return C.slice(0,v)}));if(!h)return S;var y=p.weekStart;return S.map((function(C,D){return S[(D+(y||0))%7]}))},s=function(){return o.Ls[o.locale()]},c=function(u,f){return u.formats[f]||(function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(v,h,p){return h||p.slice(1)}))})(u.formats[f.toUpperCase()])},d=function(){var u=this;return{months:function(f){return f?f.format("MMMM"):l(u,"months")},monthsShort:function(f){return f?f.format("MMM"):l(u,"monthsShort","months",3)},firstDayOfWeek:function(){return u.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):l(u,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):l(u,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):l(u,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(u.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return d.bind(this)()},o.localeData=function(){var u=s();return{firstDayOfWeek:function(){return u.weekStart||0},weekdays:function(){return o.weekdays()},weekdaysShort:function(){return o.weekdaysShort()},weekdaysMin:function(){return o.weekdaysMin()},months:function(){return o.months()},monthsShort:function(){return o.monthsShort()},longDateFormat:function(f){return c(u,f)},meridiem:u.meridiem,ordinal:u.ordinal}},o.months=function(){return l(s(),"months")},o.monthsShort=function(){return l(s(),"monthsShort","months",3)},o.weekdays=function(u){return l(s(),"weekdays",null,null,u)},o.weekdaysShort=function(u){return l(s(),"weekdaysShort","weekdays",3,u)},o.weekdaysMin=function(u){return l(s(),"weekdaysMin","weekdays",2,u)}}}))})(rr)),rr.exports}var Hc=Vc();const Wc=Tt(Hc);var or={exports:{}},Yc=or.exports,Aa;function zc(){return Aa||(Aa=1,(function(e,t){(function(n,r){e.exports=r()})(Yc,(function(){var n="week",r="year";return function(o,a,i){var l=a.prototype;l.week=function(s){if(s===void 0&&(s=null),s!==null)return this.add(7*(s-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var d=i(this).startOf(r).add(1,r).date(c),u=i(this).endOf(n);if(d.isBefore(u))return 1}var f=i(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),g=this.diff(f,n,!0);return g<0?i(this).startOf("week").week():Math.ceil(g)},l.weeks=function(s){return s===void 0&&(s=null),this.week(s)}}}))})(or)),or.exports}var Gc=zc();const Uc=Tt(Gc);var ar={exports:{}},qc=ar.exports,_a;function Kc(){return _a||(_a=1,(function(e,t){(function(n,r){e.exports=r()})(qc,(function(){return function(n,r){r.prototype.weekYear=function(){var o=this.month(),a=this.week(),i=this.year();return a===1&&o===11?i+1:o===0&&a>=52?i-1:i}}}))})(ar)),ar.exports}var Xc=Kc();const Qc=Tt(Xc);var ir={exports:{}},Jc=ir.exports,Fa;function Zc(){return Fa||(Fa=1,(function(e,t){(function(n,r){e.exports=r()})(Jc,(function(){return function(n,r){var o=r.prototype,a=o.format;o.format=function(i){var l=this,s=this.$locale();if(!this.isValid())return a.bind(this)(i);var c=this.$utils(),d=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(u){switch(u){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return s.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return s.ordinal(l.week(),"W");case"w":case"ww":return c.s(l.week(),u==="w"?1:2,"0");case"W":case"WW":return c.s(l.isoWeek(),u==="W"?1:2,"0");case"k":case"kk":return c.s(String(l.$H===0?24:l.$H),u==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return u}}));return a.bind(this)(d)}}}))})(ir)),ir.exports}var eu=Zc();const tu=Tt(eu);var lr={exports:{}},nu=lr.exports,Ba;function ru(){return Ba||(Ba=1,(function(e,t){(function(n,r){e.exports=r()})(nu,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d/,a=/\d\d/,i=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,s={},c=function(p){return(p=+p)+(p>68?1900:2e3)},d=function(p){return function(b){this[p]=+b}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=(function(b){if(!b||b==="Z")return 0;var x=b.match(/([+-]|\d\d)/g),S=60*x[1]+(+x[2]||0);return S===0?0:x[0]==="+"?-S:S})(p)}],f=function(p){var b=s[p];return b&&(b.indexOf?b:b.s.concat(b.f))},g=function(p,b){var x,S=s.meridiem;if(S){for(var y=1;y<=24;y+=1)if(p.indexOf(S(y,0,b))>-1){x=y>12;break}}else x=p===(b?"pm":"PM");return x},v={A:[l,function(p){this.afternoon=g(p,!1)}],a:[l,function(p){this.afternoon=g(p,!0)}],Q:[o,function(p){this.month=3*(p-1)+1}],S:[o,function(p){this.milliseconds=100*+p}],SS:[a,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[i,d("seconds")],ss:[i,d("seconds")],m:[i,d("minutes")],mm:[i,d("minutes")],H:[i,d("hours")],h:[i,d("hours")],HH:[i,d("hours")],hh:[i,d("hours")],D:[i,d("day")],DD:[a,d("day")],Do:[l,function(p){var b=s.ordinal,x=p.match(/\d+/);if(this.day=x[0],b)for(var S=1;S<=31;S+=1)b(S).replace(/\[|\]/g,"")===p&&(this.day=S)}],w:[i,d("week")],ww:[a,d("week")],M:[i,d("month")],MM:[a,d("month")],MMM:[l,function(p){var b=f("months"),x=(f("monthsShort")||b.map((function(S){return S.slice(0,3)}))).indexOf(p)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[l,function(p){var b=f("months").indexOf(p)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(p){this.year=c(p)}],YYYY:[/\d{4}/,d("year")],Z:u,ZZ:u};function h(p){var b,x;b=p,x=s&&s.formats;for(var S=(p=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(P,k,$){var _=$&&$.toUpperCase();return k||x[$]||n[$]||x[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(M,N,A){return N||A.slice(1)}))}))).match(r),y=S.length,C=0;C<y;C+=1){var D=S[C],I=v[D],E=I&&I[0],R=I&&I[1];S[C]=R?{regex:E,parser:R}:D.replace(/^\[|\]$/g,"")}return function(P){for(var k={},$=0,_=0;$<y;$+=1){var M=S[$];if(typeof M=="string")_+=M.length;else{var N=M.regex,A=M.parser,B=P.slice(_),L=N.exec(B)[0];A.call(k,L),P=P.replace(L,"")}}return(function(W){var j=W.afternoon;if(j!==void 0){var O=W.hours;j?O<12&&(W.hours+=12):O===12&&(W.hours=0),delete W.afternoon}})(k),k}}return function(p,b,x){x.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(c=p.parseTwoDigitYear);var S=b.prototype,y=S.parse;S.parse=function(C){var D=C.date,I=C.utc,E=C.args;this.$u=I;var R=E[1];if(typeof R=="string"){var P=E[2]===!0,k=E[3]===!0,$=P||k,_=E[2];k&&(_=E[2]),s=this.$locale(),!P&&_&&(s=x.Ls[_]),this.$d=(function(B,L,W,j){try{if(["x","X"].indexOf(L)>-1)return new Date((L==="X"?1e3:1)*B);var O=h(L)(B),T=O.year,F=O.month,V=O.day,J=O.hours,q=O.minutes,G=O.seconds,K=O.milliseconds,X=O.zone,Q=O.week,ee=new Date,re=V||(T||F?1:ee.getDate()),ae=T||ee.getFullYear(),se=0;T&&!F||(se=F>0?F-1:ee.getMonth());var Se,oe=J||0,be=q||0,ce=G||0,Me=K||0;return X?new Date(Date.UTC(ae,se,re,oe,be,ce,Me+60*X.offset*1e3)):W?new Date(Date.UTC(ae,se,re,oe,be,ce,Me)):(Se=new Date(ae,se,re,oe,be,ce,Me),Q&&(Se=j(Se).week(Q).toDate()),Se)}catch{return new Date("")}})(D,R,I,x),this.init(),_&&_!==!0&&(this.$L=this.locale(_).$L),$&&D!=this.format(R)&&(this.$d=new Date("")),s={}}else if(R instanceof Array)for(var M=R.length,N=1;N<=M;N+=1){E[1]=R[N-1];var A=x.apply(this,E);if(A.isValid()){this.$d=A.$d,this.$L=A.$L,this.init();break}N===M&&(this.$d=new Date(""))}else y.call(this,C)}}}))})(lr)),lr.exports}var ou=ru();const au=Tt(ou);Ne.extend(au);Ne.extend(tu);Ne.extend(Lc);Ne.extend(Wc);Ne.extend(Uc);Ne.extend(Qc);Ne.extend(function(e,t){var n=t.prototype,r=n.format;n.format=function(a){var i=(a||"").replace("Wo","wo");return r.bind(this)(i)}});var iu={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},jt=function(t){var n=iu[t];return n||t.split("_")[0]},lu={getNow:function(){var t=Ne();return typeof t.tz=="function"?t.tz():t},getFixedDate:function(t){return Ne(t,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(t){return t.endOf("month")},getWeekDay:function(t){var n=t.locale("en");return n.weekday()+n.localeData().firstDayOfWeek()},getYear:function(t){return t.year()},getMonth:function(t){return t.month()},getDate:function(t){return t.date()},getHour:function(t){return t.hour()},getMinute:function(t){return t.minute()},getSecond:function(t){return t.second()},getMillisecond:function(t){return t.millisecond()},addYear:function(t,n){return t.add(n,"year")},addMonth:function(t,n){return t.add(n,"month")},addDate:function(t,n){return t.add(n,"day")},setYear:function(t,n){return t.year(n)},setMonth:function(t,n){return t.month(n)},setDate:function(t,n){return t.date(n)},setHour:function(t,n){return t.hour(n)},setMinute:function(t,n){return t.minute(n)},setSecond:function(t,n){return t.second(n)},setMillisecond:function(t,n){return t.millisecond(n)},isAfter:function(t,n){return t.isAfter(n)},isValidate:function(t){return t.isValid()},locale:{getWeekFirstDay:function(t){return Ne().locale(jt(t)).localeData().firstDayOfWeek()},getWeekFirstDate:function(t,n){return n.locale(jt(t)).weekday(0)},getWeek:function(t,n){return n.locale(jt(t)).week()},getShortWeekDays:function(t){return Ne().locale(jt(t)).localeData().weekdaysMin()},getShortMonths:function(t){return Ne().locale(jt(t)).localeData().monthsShort()},format:function(t,n,r){return n.locale(jt(t)).format(r)},parse:function(t,n,r){for(var o=jt(t),a=0;a<r.length;a+=1){var i=r[a],l=n;if(i.includes("wo")||i.includes("Wo")){for(var s=l.split("-")[0],c=l.split("-")[1],d=Ne(s,"YYYY").startOf("year").locale(o),u=0;u<=52;u+=1){var f=d.add(u,"week");if(f.format("Wo")===c)return f}return null}var g=Ne(l,i,!0).locale(o);if(g.isValid())return g}return null}}};function su(e,t){return e!==void 0?e:t?"bottomRight":"bottomLeft"}var vt=m.createContext(null),cu={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function Gi(e){var t=e.popupElement,n=e.popupStyle,r=e.popupClassName,o=e.popupAlign,a=e.transitionName,i=e.getPopupContainer,l=e.children,s=e.range,c=e.placement,d=e.builtinPlacements,u=d===void 0?cu:d,f=e.direction,g=e.visible,v=e.onClose,h=m.useContext(vt),p=h.prefixCls,b="".concat(p,"-dropdown"),x=su(c,f==="rtl");return m.createElement(wc,{showAction:[],hideAction:["click"],popupPlacement:x,builtinPlacements:u,prefixCls:b,popupTransitionName:a,popup:t,popupAlign:o,popupVisible:g,popupClassName:Ee(r,he(he({},"".concat(b,"-range"),s),"".concat(b,"-rtl"),f==="rtl")),popupStyle:n,stretch:"minWidth",getPopupContainer:i,onPopupVisibleChange:function(y){y||v()}},l)}function Jo(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(r);return r}function Ut(e){return e==null?[]:Array.isArray(e)?e:[e]}function En(e,t,n){var r=Ze(e);return r[t]=n,r}function Dr(e,t){var n={},r=t||Object.keys(e);return r.forEach(function(o){e[o]!==void 0&&(n[o]=e[o])}),n}function Ui(e,t,n){if(n)return n;switch(e){case"time":return t.fieldTimeFormat;case"datetime":return t.fieldDateTimeFormat;case"month":return t.fieldMonthFormat;case"year":return t.fieldYearFormat;case"quarter":return t.fieldQuarterFormat;case"week":return t.fieldWeekFormat;default:return t.fieldDateFormat}}function qi(e,t,n){var r=n!==void 0?n:t[t.length-1],o=t.find(function(a){return e[a]});return r!==o?e[o]:void 0}function Ki(e){return Dr(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function Zo(e,t,n,r){var o=m.useMemo(function(){return e||function(i,l){var s=i;return t&&l.type==="date"?t(s,l.today):n&&l.type==="month"?n(s,l.locale):l.originNode}},[e,n,t]),a=m.useCallback(function(i,l){return o(i,le(le({},l),{},{range:r}))},[o,r]);return a}function Xi(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=m.useState([!1,!1]),o=H(r,2),a=o[0],i=o[1],l=function(d,u){i(function(f){return En(f,u,d)})},s=m.useMemo(function(){return a.map(function(c,d){if(c)return!0;var u=e[d];return u?!!(!n[d]&&!u||u&&t(u,{activeIndex:d})):!1})},[e,a,t,n]);return[s,l]}function Qi(e,t,n,r,o){var a="",i=[];return e&&i.push(o?"hh":"HH"),t&&i.push("mm"),n&&i.push("ss"),a=i.join(":"),r&&(a+=".SSS"),o&&(a+=" A"),a}function uu(e,t,n,r,o,a){var i=e.fieldDateTimeFormat,l=e.fieldDateFormat,s=e.fieldTimeFormat,c=e.fieldMonthFormat,d=e.fieldYearFormat,u=e.fieldWeekFormat,f=e.fieldQuarterFormat,g=e.yearFormat,v=e.cellYearFormat,h=e.cellQuarterFormat,p=e.dayFormat,b=e.cellDateFormat,x=Qi(t,n,r,o,a);return le(le({},e),{},{fieldDateTimeFormat:i||"YYYY-MM-DD ".concat(x),fieldDateFormat:l||"YYYY-MM-DD",fieldTimeFormat:s||x,fieldMonthFormat:c||"YYYY-MM",fieldYearFormat:d||"YYYY",fieldWeekFormat:u||"gggg-wo",fieldQuarterFormat:f||"YYYY-[Q]Q",yearFormat:g||"YYYY",cellYearFormat:v||"YYYY",cellQuarterFormat:h||"[Q]Q",cellDateFormat:b||p||"D"})}function Ji(e,t){var n=t.showHour,r=t.showMinute,o=t.showSecond,a=t.showMillisecond,i=t.use12Hours;return $e.useMemo(function(){return uu(e,n,r,o,a,i)},[e,n,r,o,a,i])}function bn(e,t,n){return n??t.some(function(r){return e.includes(r)})}var du=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function fu(e){var t=Dr(e,du),n=e.format,r=e.picker,o=null;return n&&(o=n,Array.isArray(o)&&(o=o[0]),o=_n(o)==="object"?o.format:o),r==="time"&&(t.format=o),[t,o]}function mu(e){return e&&typeof e=="string"}function Zi(e,t,n,r){return[e,t,n,r].some(function(o){return o!==void 0})}function el(e,t,n,r,o){var a=t,i=n,l=r;if(!e&&!a&&!i&&!l&&!o)a=!0,i=!0,l=!0;else if(e){var s,c,d,u=[a,i,l].some(function(v){return v===!1}),f=[a,i,l].some(function(v){return v===!0}),g=u?!0:!f;a=(s=a)!==null&&s!==void 0?s:g,i=(c=i)!==null&&c!==void 0?c:g,l=(d=l)!==null&&d!==void 0?d:g}return[a,i,l,o]}function tl(e){var t=e.showTime,n=fu(e),r=H(n,2),o=r[0],a=r[1],i=t&&_n(t)==="object"?t:{},l=le(le({defaultOpenValue:i.defaultOpenValue||i.defaultValue},o),i),s=l.showMillisecond,c=l.showHour,d=l.showMinute,u=l.showSecond,f=Zi(c,d,u,s),g=el(f,c,d,u,s),v=H(g,3);return c=v[0],d=v[1],u=v[2],[l,le(le({},l),{},{showHour:c,showMinute:d,showSecond:u,showMillisecond:s}),l.format,a]}function nl(e,t,n,r,o){var a=e==="time";if(e==="datetime"||a){for(var i=r,l=Ui(e,o,null),s=l,c=[t,n],d=0;d<c.length;d+=1){var u=Ut(c[d])[0];if(mu(u)){s=u;break}}var f=i.showHour,g=i.showMinute,v=i.showSecond,h=i.showMillisecond,p=i.use12Hours,b=bn(s,["a","A","LT","LLL","LTS"],p),x=Zi(f,g,v,h);x||(f=bn(s,["H","h","k","LT","LLL"]),g=bn(s,["m","LT","LLL"]),v=bn(s,["s","LTS"]),h=bn(s,["SSS"]));var S=el(x,f,g,v,h),y=H(S,3);f=y[0],g=y[1],v=y[2];var C=t||Qi(f,g,v,h,b);return le(le({},i),{},{format:C,showHour:f,showMinute:g,showSecond:v,showMillisecond:h,use12Hours:b})}return null}function gu(e,t,n){if(t===!1)return null;var r=t&&_n(t)==="object"?t:{};return r.clearIcon||n||m.createElement("span",{className:"".concat(e,"-clear-btn")})}var io=7;function _t(e,t,n){return!e&&!t||e===t?!0:!e||!t?!1:n()}function Mo(e,t,n){return _t(t,n,function(){var r=Math.floor(e.getYear(t)/10),o=Math.floor(e.getYear(n)/10);return r===o})}function zt(e,t,n){return _t(t,n,function(){return e.getYear(t)===e.getYear(n)})}function La(e,t){var n=Math.floor(e.getMonth(t)/3);return n+1}function pu(e,t,n){return _t(t,n,function(){return zt(e,t,n)&&La(e,t)===La(e,n)})}function ea(e,t,n){return _t(t,n,function(){return zt(e,t,n)&&e.getMonth(t)===e.getMonth(n)})}function ta(e,t,n){return _t(t,n,function(){return zt(e,t,n)&&ea(e,t,n)&&e.getDate(t)===e.getDate(n)})}function rl(e,t,n){return _t(t,n,function(){return e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)})}function ol(e,t,n){return _t(t,n,function(){return ta(e,t,n)&&rl(e,t,n)&&e.getMillisecond(t)===e.getMillisecond(n)})}function wn(e,t,n,r){return _t(n,r,function(){var o=e.locale.getWeekFirstDate(t,n),a=e.locale.getWeekFirstDate(t,r);return zt(e,o,a)&&e.locale.getWeek(t,n)===e.locale.getWeek(t,r)})}function Je(e,t,n,r,o){switch(o){case"date":return ta(e,n,r);case"week":return wn(e,t.locale,n,r);case"month":return ea(e,n,r);case"quarter":return pu(e,n,r);case"year":return zt(e,n,r);case"decade":return Mo(e,n,r);case"time":return rl(e,n,r);default:return ol(e,n,r)}}function Ir(e,t,n,r){return!t||!n||!r?!1:e.isAfter(r,t)&&e.isAfter(n,r)}function Un(e,t,n,r,o){return Je(e,t,n,r,o)?!0:e.isAfter(n,r)}function vu(e,t,n){var r=t.locale.getWeekFirstDay(e),o=t.setDate(n,1),a=t.getWeekDay(o),i=t.addDate(o,r-a);return t.getMonth(i)===t.getMonth(n)&&t.getDate(i)>1&&(i=t.addDate(i,-7)),i}function Ve(e,t){var n=t.generateConfig,r=t.locale,o=t.format;return e?typeof o=="function"?o(e):n.locale.format(r.locale,e,o):""}function fr(e,t,n){var r=t,o=["getHour","getMinute","getSecond","getMillisecond"],a=["setHour","setMinute","setSecond","setMillisecond"];return a.forEach(function(i,l){n?r=e[i](r,e[o[l]](n)):r=e[i](r,0)}),r}function hu(e,t,n,r,o){var a=Xe(function(i,l){return!!(n&&n(i,l)||r&&e.isAfter(r,i)&&!Je(e,t,r,i,l.type)||o&&e.isAfter(i,o)&&!Je(e,t,o,i,l.type))});return a}function bu(e,t,n){return m.useMemo(function(){var r=Ui(e,t,n),o=Ut(r),a=o[0],i=_n(a)==="object"&&a.type==="mask"?a.format:null;return[o.map(function(l){return typeof l=="string"||typeof l=="function"?l:l.format}),i]},[e,t,n])}function xu(e,t,n){return typeof e[0]=="function"||n?!0:t}function yu(e,t,n,r){var o=Xe(function(a,i){var l=le({type:t},i);if(delete l.activeIndex,!e.isValidate(a)||n&&n(a,l))return!0;if((t==="date"||t==="time")&&r){var s,c=i&&i.activeIndex===1?"end":"start",d=((s=r.disabledTime)===null||s===void 0?void 0:s.call(r,a,c,{from:l.from}))||{},u=d.disabledHours,f=d.disabledMinutes,g=d.disabledSeconds,v=d.disabledMilliseconds,h=r.disabledHours,p=r.disabledMinutes,b=r.disabledSeconds,x=u||h,S=f||p,y=g||b,C=e.getHour(a),D=e.getMinute(a),I=e.getSecond(a),E=e.getMillisecond(a);if(x&&x().includes(C)||S&&S(C).includes(D)||y&&y(C,D).includes(I)||v&&v(C,D,I).includes(E))return!0}return!1});return o}function qn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=m.useMemo(function(){var r=e&&Ut(e);return t&&r&&(r[1]=r[1]||r[0]),r},[e,t]);return n}function al(e,t){var n=e.generateConfig,r=e.locale,o=e.picker,a=o===void 0?"date":o,i=e.prefixCls,l=i===void 0?"rc-picker":i,s=e.styles,c=s===void 0?{}:s,d=e.classNames,u=d===void 0?{}:d,f=e.order,g=f===void 0?!0:f,v=e.components,h=v===void 0?{}:v,p=e.inputRender,b=e.allowClear,x=e.clearIcon,S=e.needConfirm,y=e.multiple,C=e.format,D=e.inputReadOnly,I=e.disabledDate,E=e.minDate,R=e.maxDate,P=e.showTime,k=e.value,$=e.defaultValue,_=e.pickerValue,M=e.defaultPickerValue,N=qn(k),A=qn($),B=qn(_),L=qn(M),W=a==="date"&&P?"datetime":a,j=W==="time"||W==="datetime",O=j||y,T=S??j,F=tl(e),V=H(F,4),J=V[0],q=V[1],G=V[2],K=V[3],X=Ji(r,q),Q=m.useMemo(function(){return nl(W,G,K,J,X)},[W,G,K,J,X]),ee=m.useMemo(function(){return le(le({},e),{},{prefixCls:l,locale:X,picker:a,styles:c,classNames:u,order:g,components:le({input:p},h),clearIcon:gu(l,b,x),showTime:Q,value:N,defaultValue:A,pickerValue:B,defaultPickerValue:L},t==null?void 0:t())},[e]),re=bu(W,X,C),ae=H(re,2),se=ae[0],Se=ae[1],oe=xu(se,D,y),be=hu(n,r,I,E,R),ce=yu(n,a,be,Q),Me=m.useMemo(function(){return le(le({},ee),{},{needConfirm:T,inputReadOnly:oe,disabledDate:be})},[ee,T,oe,be]);return[Me,W,O,se,Se,ce]}function Cu(e,t,n){var r=Dt(t,{value:e}),o=H(r,2),a=o[0],i=o[1],l=$e.useRef(e),s=$e.useRef(),c=function(){wt.cancel(s.current)},d=Xe(function(){i(l.current),n&&a!==l.current&&n(l.current)}),u=Xe(function(f,g){c(),l.current=f,f||g?d():s.current=wt(d)});return $e.useEffect(function(){return c},[]),[a,u]}function il(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,o=n.every(function(d){return d})?!1:e,a=Cu(o,t||!1,r),i=H(a,2),l=i[0],s=i[1];function c(d){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!u.inherit||l)&&s(d,u.force)}return[l,c]}function ll(e){var t=m.useRef();return m.useImperativeHandle(e,function(){var n;return{nativeElement:(n=t.current)===null||n===void 0?void 0:n.nativeElement,focus:function(o){var a;(a=t.current)===null||a===void 0||a.focus(o)},blur:function(){var o;(o=t.current)===null||o===void 0||o.blur()}}}),t}function sl(e,t){return m.useMemo(function(){return e||(t?(Ys(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(t).map(function(n){var r=H(n,2),o=r[0],a=r[1];return{label:o,value:a}})):[])},[e,t])}function na(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=m.useRef(t);r.current=t,zs(function(){if(e)r.current(e);else{var o=wt(function(){r.current(e)},n);return function(){wt.cancel(o)}}},[e])}function cl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=m.useState(0),o=H(r,2),a=o[0],i=o[1],l=m.useState(!1),s=H(l,2),c=s[0],d=s[1],u=m.useRef([]),f=m.useRef(null),g=m.useRef(null),v=function(y){f.current=y},h=function(y){return f.current===y},p=function(y){d(y)},b=function(y){return y&&(g.current=y),g.current},x=function(y){var C=u.current,D=new Set(C.filter(function(E){return y[E]||t[E]})),I=C[C.length-1]===0?1:0;return D.size>=2||e[I]?null:I};return na(c||n,function(){c||(u.current=[],v(null))}),m.useEffect(function(){c&&u.current.push(a)},[c,a]),[c,p,b,a,i,x,u.current,v,h]}function Su(e,t,n,r,o,a){var i=n[n.length-1],l=function(c,d){var u=H(e,2),f=u[0],g=u[1],v=le(le({},d),{},{from:qi(e,n)});return i===1&&t[0]&&f&&!Je(r,o,f,c,v.type)&&r.isAfter(f,c)||i===0&&t[1]&&g&&!Je(r,o,g,c,v.type)&&r.isAfter(c,g)?!0:a==null?void 0:a(c,v)};return l}function Dn(e,t,n,r){switch(t){case"date":case"week":return e.addMonth(n,r);case"month":case"quarter":return e.addYear(n,r);case"year":return e.addYear(n,r*10);case"decade":return e.addYear(n,r*100);default:return n}}var lo=[];function ul(e,t,n,r,o,a,i,l){var s=arguments.length>8&&arguments[8]!==void 0?arguments[8]:lo,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:lo,d=arguments.length>10&&arguments[10]!==void 0?arguments[10]:lo,u=arguments.length>11?arguments[11]:void 0,f=arguments.length>12?arguments[12]:void 0,g=arguments.length>13?arguments[13]:void 0,v=i==="time",h=a||0,p=function(B){var L=e.getNow();return v&&(L=fr(e,L)),s[B]||n[B]||L},b=H(c,2),x=b[0],S=b[1],y=Dt(function(){return p(0)},{value:x}),C=H(y,2),D=C[0],I=C[1],E=Dt(function(){return p(1)},{value:S}),R=H(E,2),P=R[0],k=R[1],$=m.useMemo(function(){var A=[D,P][h];return v?A:fr(e,A,d[h])},[v,D,P,h,e,d]),_=function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",W=[I,k][h];W(B);var j=[D,P];j[h]=B,u&&(!Je(e,t,D,j[0],i)||!Je(e,t,P,j[1],i))&&u(j,{source:L,range:h===1?"end":"start",mode:r})},M=function(B,L){if(l){var W={date:"month",week:"month",month:"year",quarter:"year"},j=W[i];if(j&&!Je(e,t,B,L,j))return Dn(e,i,L,-1);if(i==="year"&&B){var O=Math.floor(e.getYear(B)/10),T=Math.floor(e.getYear(L)/10);if(O!==T)return Dn(e,i,L,-1)}}return L},N=m.useRef(null);return kt(function(){if(o&&!s[h]){var A=v?null:e.getNow();if(N.current!==null&&N.current!==h?A=[D,P][h^1]:n[h]?A=h===0?n[0]:M(n[0],n[1]):n[h^1]&&(A=n[h^1]),A){f&&e.isAfter(f,A)&&(A=f);var B=l?Dn(e,i,A,1):A;g&&e.isAfter(B,g)&&(A=l?Dn(e,i,g,-1):g),_(A,"reset")}}},[o,h,n[h]]),m.useEffect(function(){o?N.current=h:N.current=null},[o,h]),kt(function(){o&&s&&s[h]&&_(s[h],"reset")},[o,h]),[$,_]}function dl(e,t){var n=m.useRef(e),r=m.useState({}),o=H(r,2),a=o[1],i=function(c){return c&&t!==void 0?t:n.current},l=function(c){n.current=c,a({})};return[i,l,i(!0)]}var wu=[];function fl(e,t,n){var r=function(i){return i.map(function(l){return Ve(l,{generateConfig:e,locale:t,format:n[0]})})},o=function(i,l){for(var s=Math.max(i.length,l.length),c=-1,d=0;d<s;d+=1){var u=i[d]||null,f=l[d]||null;if(u!==f&&!ol(e,u,f)){c=d;break}}return[c<0,c!==0]};return[r,o]}function ml(e,t){return Ze(e).sort(function(n,r){return t.isAfter(n,r)?1:-1})}function Du(e){var t=dl(e),n=H(t,2),r=n[0],o=n[1],a=Xe(function(){o(e)});return m.useEffect(function(){a()},[e]),[r,o]}function gl(e,t,n,r,o,a,i,l,s){var c=Dt(a,{value:i}),d=H(c,2),u=d[0],f=d[1],g=u||wu,v=Du(g),h=H(v,2),p=h[0],b=h[1],x=fl(e,t,n),S=H(x,2),y=S[0],C=S[1],D=Xe(function(E){var R=Ze(E);if(r)for(var P=0;P<2;P+=1)R[P]=R[P]||null;else o&&(R=ml(R.filter(function(A){return A}),e));var k=C(p(),R),$=H(k,2),_=$[0],M=$[1];if(!_&&(b(R),l)){var N=y(R);l(R,N,{range:M?"end":"start"})}}),I=function(){s&&s(p())};return[g,f,p,D,I]}function pl(e,t,n,r,o,a,i,l,s,c){var d=e.generateConfig,u=e.locale,f=e.picker,g=e.onChange,v=e.allowEmpty,h=e.order,p=a.some(function(_){return _})?!1:h,b=fl(d,u,i),x=H(b,2),S=x[0],y=x[1],C=dl(t),D=H(C,2),I=D[0],E=D[1],R=Xe(function(){E(t)});m.useEffect(function(){R()},[t]);var P=Xe(function(_){var M=_===null,N=Ze(_||I());if(M)for(var A=Math.max(a.length,N.length),B=0;B<A;B+=1)a[B]||(N[B]=null);p&&N[0]&&N[1]&&(N=ml(N,d)),o(N);var L=N,W=H(L,2),j=W[0],O=W[1],T=!j,F=!O,V=v?(!T||v[0])&&(!F||v[1]):!0,J=!h||T||F||Je(d,u,j,O,f)||d.isAfter(O,j),q=(a[0]||!j||!c(j,{activeIndex:0}))&&(a[1]||!O||!c(O,{from:j,activeIndex:1})),G=M||V&&J&&q;if(G){n(N);var K=y(N,t),X=H(K,1),Q=X[0];g&&!Q&&g(M&&N.every(function(ee){return!ee})?null:N,S(N))}return G}),k=Xe(function(_,M){var N=En(I(),_,r()[_]);E(N),M&&P()}),$=!l&&!s;return na(!$,function(){$&&(P(),o(t),R())},2),[k,P]}function vl(e,t,n,r,o){return t!=="date"&&t!=="time"?!1:n!==void 0?n:r!==void 0?r:!o&&(e==="date"||e==="time")}function Iu(e,t,n,r,o,a){var i=e;function l(u,f,g){var v=a[u](i),h=g.find(function(S){return S.value===v});if(!h||h.disabled){var p=g.filter(function(S){return!S.disabled}),b=Ze(p).reverse(),x=b.find(function(S){return S.value<=v})||p[0];x&&(v=x.value,i=a[f](i,v))}return v}var s=l("getHour","setHour",t()),c=l("getMinute","setMinute",n(s)),d=l("getSecond","setSecond",r(s,c));return l("getMillisecond","setMillisecond",o(s,c,d)),i}function Kn(){return[]}function Xn(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:2,i=[],l=n>=1?n|0:1,s=e;s<=t;s+=l){var c=o.includes(s);(!c||!r)&&i.push({label:Jo(s,a),value:s,disabled:c})}return i}function ra(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t||{},o=r.use12Hours,a=r.hourStep,i=a===void 0?1:a,l=r.minuteStep,s=l===void 0?1:l,c=r.secondStep,d=c===void 0?1:c,u=r.millisecondStep,f=u===void 0?100:u,g=r.hideDisabledOptions,v=r.disabledTime,h=r.disabledHours,p=r.disabledMinutes,b=r.disabledSeconds,x=m.useMemo(function(){return n||e.getNow()},[n,e]),S=m.useCallback(function(L){var W=(v==null?void 0:v(L))||{};return[W.disabledHours||h||Kn,W.disabledMinutes||p||Kn,W.disabledSeconds||b||Kn,W.disabledMilliseconds||Kn]},[v,h,p,b]),y=m.useMemo(function(){return S(x)},[x,S]),C=H(y,4),D=C[0],I=C[1],E=C[2],R=C[3],P=m.useCallback(function(L,W,j,O){var T=Xn(0,23,i,g,L()),F=o?T.map(function(G){return le(le({},G),{},{label:Jo(G.value%12||12,2)})}):T,V=function(K){return Xn(0,59,s,g,W(K))},J=function(K,X){return Xn(0,59,d,g,j(K,X))},q=function(K,X,Q){return Xn(0,999,f,g,O(K,X,Q),3)};return[F,V,J,q]},[g,i,o,f,s,d]),k=m.useMemo(function(){return P(D,I,E,R)},[P,D,I,E,R]),$=H(k,4),_=$[0],M=$[1],N=$[2],A=$[3],B=function(W,j){var O=function(){return _},T=M,F=N,V=A;if(j){var J=S(j),q=H(J,4),G=q[0],K=q[1],X=q[2],Q=q[3],ee=P(G,K,X,Q),re=H(ee,4),ae=re[0],se=re[1],Se=re[2],oe=re[3];O=function(){return ae},T=se,F=Se,V=oe}var be=Iu(W,O,T,F,V,e);return be};return[B,_,M,N,A]}function Eu(e){var t=e.mode,n=e.internalMode,r=e.renderExtraFooter,o=e.showNow,a=e.showTime,i=e.onSubmit,l=e.onNow,s=e.invalid,c=e.needConfirm,d=e.generateConfig,u=e.disabledDate,f=m.useContext(vt),g=f.prefixCls,v=f.locale,h=f.button,p=h===void 0?"button":h,b=d.getNow(),x=ra(d,a,b),S=H(x,1),y=S[0],C=r==null?void 0:r(t),D=u(b,{type:t}),I=function(){if(!D){var M=y(b);l(M)}},E="".concat(g,"-now"),R="".concat(E,"-btn"),P=o&&m.createElement("li",{className:E},m.createElement("a",{className:Ee(R,D&&"".concat(R,"-disabled")),"aria-disabled":D,onClick:I},n==="date"?v.today:v.now)),k=c&&m.createElement("li",{className:"".concat(g,"-ok")},m.createElement(p,{disabled:s,onClick:i},v.ok)),$=(P||k)&&m.createElement("ul",{className:"".concat(g,"-ranges")},P,k);return!C&&!$?null:m.createElement("div",{className:"".concat(g,"-footer")},C&&m.createElement("div",{className:"".concat(g,"-footer-extra")},C),$)}function hl(e,t,n){function r(o,a){var i=o.findIndex(function(s){return Je(e,t,s,a,n)});if(i===-1)return[].concat(Ze(o),[a]);var l=Ze(o);return l.splice(i,1),l}return r}var qt=m.createContext(null);function Er(){return m.useContext(qt)}function ln(e,t){var n=e.prefixCls,r=e.generateConfig,o=e.locale,a=e.disabledDate,i=e.minDate,l=e.maxDate,s=e.cellRender,c=e.hoverValue,d=e.hoverRangeValue,u=e.onHover,f=e.values,g=e.pickerValue,v=e.onSelect,h=e.prevIcon,p=e.nextIcon,b=e.superPrevIcon,x=e.superNextIcon,S=r.getNow(),y={now:S,values:f,pickerValue:g,prefixCls:n,disabledDate:a,minDate:i,maxDate:l,cellRender:s,hoverValue:c,hoverRangeValue:d,onHover:u,locale:o,generateConfig:r,onSelect:v,panelType:t,prevIcon:h,nextIcon:p,superPrevIcon:b,superNextIcon:x};return[y,S]}var Rt=m.createContext({});function Fn(e){for(var t=e.rowNum,n=e.colNum,r=e.baseDate,o=e.getCellDate,a=e.prefixColumn,i=e.rowClassName,l=e.titleFormat,s=e.getCellText,c=e.getCellClassName,d=e.headerCells,u=e.cellSelection,f=u===void 0?!0:u,g=e.disabledDate,v=Er(),h=v.prefixCls,p=v.panelType,b=v.now,x=v.disabledDate,S=v.cellRender,y=v.onHover,C=v.hoverValue,D=v.hoverRangeValue,I=v.generateConfig,E=v.values,R=v.locale,P=v.onSelect,k=g||x,$="".concat(h,"-cell"),_=m.useContext(Rt),M=_.onCellDblClick,N=function(F){return E.some(function(V){return V&&Je(I,R,F,V,p)})},A=[],B=0;B<t;B+=1){for(var L=[],W=void 0,j=function(){var F=B*n+O,V=o(r,F),J=k==null?void 0:k(V,{type:p});O===0&&(W=V,a&&L.push(a(W)));var q=!1,G=!1,K=!1;if(f&&D){var X=H(D,2),Q=X[0],ee=X[1];q=Ir(I,Q,ee,V),G=Je(I,R,V,Q,p),K=Je(I,R,V,ee,p)}var re=l?Ve(V,{locale:R,format:l,generateConfig:I}):void 0,ae=m.createElement("div",{className:"".concat($,"-inner")},s(V));L.push(m.createElement("td",{key:O,title:re,className:Ee($,le(he(he(he(he(he(he({},"".concat($,"-disabled"),J),"".concat($,"-hover"),(C||[]).some(function(se){return Je(I,R,V,se,p)})),"".concat($,"-in-range"),q&&!G&&!K),"".concat($,"-range-start"),G),"".concat($,"-range-end"),K),"".concat(h,"-cell-selected"),!D&&p!=="week"&&N(V)),c(V))),onClick:function(){J||P(V)},onDoubleClick:function(){!J&&M&&M()},onMouseEnter:function(){J||y==null||y(V)},onMouseLeave:function(){J||y==null||y(null)}},S?S(V,{prefixCls:h,originNode:ae,today:b,type:p,locale:R}):ae))},O=0;O<n;O+=1)j();A.push(m.createElement("tr",{key:B,className:i==null?void 0:i(W)},L))}return m.createElement("div",{className:"".concat(h,"-body")},m.createElement("table",{className:"".concat(h,"-content")},d&&m.createElement("thead",null,m.createElement("tr",null,d)),m.createElement("tbody",null,A)))}var Qn={visibility:"hidden"};function sn(e){var t=e.offset,n=e.superOffset,r=e.onChange,o=e.getStart,a=e.getEnd,i=e.children,l=Er(),s=l.prefixCls,c=l.prevIcon,d=c===void 0?"‹":c,u=l.nextIcon,f=u===void 0?"›":u,g=l.superPrevIcon,v=g===void 0?"«":g,h=l.superNextIcon,p=h===void 0?"»":h,b=l.minDate,x=l.maxDate,S=l.generateConfig,y=l.locale,C=l.pickerValue,D=l.panelType,I="".concat(s,"-header"),E=m.useContext(Rt),R=E.hidePrev,P=E.hideNext,k=E.hideHeader,$=m.useMemo(function(){if(!b||!t||!a)return!1;var T=a(t(-1,C));return!Un(S,y,T,b,D)},[b,t,C,a,S,y,D]),_=m.useMemo(function(){if(!b||!n||!a)return!1;var T=a(n(-1,C));return!Un(S,y,T,b,D)},[b,n,C,a,S,y,D]),M=m.useMemo(function(){if(!x||!t||!o)return!1;var T=o(t(1,C));return!Un(S,y,x,T,D)},[x,t,C,o,S,y,D]),N=m.useMemo(function(){if(!x||!n||!o)return!1;var T=o(n(1,C));return!Un(S,y,x,T,D)},[x,n,C,o,S,y,D]),A=function(F){t&&r(t(F,C))},B=function(F){n&&r(n(F,C))};if(k)return null;var L="".concat(I,"-prev-btn"),W="".concat(I,"-next-btn"),j="".concat(I,"-super-prev-btn"),O="".concat(I,"-super-next-btn");return m.createElement("div",{className:I},n&&m.createElement("button",{type:"button","aria-label":y.previousYear,onClick:function(){return B(-1)},tabIndex:-1,className:Ee(j,_&&"".concat(j,"-disabled")),disabled:_,style:R?Qn:{}},v),t&&m.createElement("button",{type:"button","aria-label":y.previousMonth,onClick:function(){return A(-1)},tabIndex:-1,className:Ee(L,$&&"".concat(L,"-disabled")),disabled:$,style:R?Qn:{}},d),m.createElement("div",{className:"".concat(I,"-view")},i),t&&m.createElement("button",{type:"button","aria-label":y.nextMonth,onClick:function(){return A(1)},tabIndex:-1,className:Ee(W,M&&"".concat(W,"-disabled")),disabled:M,style:P?Qn:{}},f),n&&m.createElement("button",{type:"button","aria-label":y.nextYear,onClick:function(){return B(1)},tabIndex:-1,className:Ee(O,N&&"".concat(O,"-disabled")),disabled:N,style:P?Qn:{}},p))}function Pr(e){var t=e.prefixCls,n=e.panelName,r=n===void 0?"date":n,o=e.locale,a=e.generateConfig,i=e.pickerValue,l=e.onPickerValueChange,s=e.onModeChange,c=e.mode,d=c===void 0?"date":c,u=e.disabledDate,f=e.onSelect,g=e.onHover,v=e.showWeek,h="".concat(t,"-").concat(r,"-panel"),p="".concat(t,"-cell"),b=d==="week",x=ln(e,d),S=H(x,2),y=S[0],C=S[1],D=a.locale.getWeekFirstDay(o.locale),I=a.setDate(i,1),E=vu(o.locale,a,I),R=a.getMonth(i),P=v===void 0?b:v,k=P?function(T){var F=u==null?void 0:u(T,{type:"week"});return m.createElement("td",{key:"week",className:Ee(p,"".concat(p,"-week"),he({},"".concat(p,"-disabled"),F)),onClick:function(){F||f(T)},onMouseEnter:function(){F||g==null||g(T)},onMouseLeave:function(){F||g==null||g(null)}},m.createElement("div",{className:"".concat(p,"-inner")},a.locale.getWeek(o.locale,T)))}:null,$=[],_=o.shortWeekDays||(a.locale.getShortWeekDays?a.locale.getShortWeekDays(o.locale):[]);k&&$.push(m.createElement("th",{key:"empty"},m.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},o.week)));for(var M=0;M<io;M+=1)$.push(m.createElement("th",{key:M},_[(M+D)%io]));var N=function(F,V){return a.addDate(F,V)},A=function(F){return Ve(F,{locale:o,format:o.cellDateFormat,generateConfig:a})},B=function(F){var V=he(he({},"".concat(t,"-cell-in-view"),ea(a,F,i)),"".concat(t,"-cell-today"),ta(a,F,C));return V},L=o.shortMonths||(a.locale.getShortMonths?a.locale.getShortMonths(o.locale):[]),W=m.createElement("button",{type:"button","aria-label":o.yearSelect,key:"year",onClick:function(){s("year",i)},tabIndex:-1,className:"".concat(t,"-year-btn")},Ve(i,{locale:o,format:o.yearFormat,generateConfig:a})),j=m.createElement("button",{type:"button","aria-label":o.monthSelect,key:"month",onClick:function(){s("month",i)},tabIndex:-1,className:"".concat(t,"-month-btn")},o.monthFormat?Ve(i,{locale:o,format:o.monthFormat,generateConfig:a}):L[R]),O=o.monthBeforeYear?[j,W]:[W,j];return m.createElement(qt.Provider,{value:y},m.createElement("div",{className:Ee(h,v&&"".concat(h,"-show-week"))},m.createElement(sn,{offset:function(F){return a.addMonth(i,F)},superOffset:function(F){return a.addYear(i,F)},onChange:l,getStart:function(F){return a.setDate(F,1)},getEnd:function(F){var V=a.setDate(F,1);return V=a.addMonth(V,1),a.addDate(V,-1)}},O),m.createElement(Fn,pe({titleFormat:o.fieldDateFormat},e,{colNum:io,rowNum:6,baseDate:E,headerCells:$,getCellDate:N,getCellText:A,getCellClassName:B,prefixColumn:k,cellSelection:!b}))))}var Pu=1/3;function Ru(e,t){var n=m.useRef(!1),r=m.useRef(null),o=m.useRef(null),a=function(){return n.current},i=function(){wt.cancel(r.current),n.current=!1},l=m.useRef(),s=function(){var u=e.current;if(o.current=null,l.current=0,u){var f=u.querySelector('[data-value="'.concat(t,'"]')),g=u.querySelector("li"),v=function h(){i(),n.current=!0,l.current+=1;var p=u.scrollTop,b=g.offsetTop,x=f.offsetTop,S=x-b;if(x===0&&f!==g||!Gs(u)){l.current<=5&&(r.current=wt(h));return}var y=p+(S-p)*Pu,C=Math.abs(S-y);if(o.current!==null&&o.current<C){i();return}if(o.current=C,C<=1){u.scrollTop=S,i();return}u.scrollTop=y,r.current=wt(h)};f&&g&&v()}},c=Xe(s);return[c,i,a]}var Nu=300;function Mu(e){return e.map(function(t){var n=t.value,r=t.label,o=t.disabled;return[n,r,o].join(",")}).join(";")}function xn(e){var t=e.units,n=e.value,r=e.optionalValue,o=e.type,a=e.onChange,i=e.onHover,l=e.onDblClick,s=e.changeOnScroll,c=Er(),d=c.prefixCls,u=c.cellRender,f=c.now,g=c.locale,v="".concat(d,"-time-panel"),h="".concat(d,"-time-panel-cell"),p=m.useRef(null),b=m.useRef(),x=function(){clearTimeout(b.current)},S=Ru(p,n??r),y=H(S,3),C=y[0],D=y[1],I=y[2];kt(function(){return C(),x(),function(){D(),x()}},[n,r,Mu(t)]);var E=function(k){x();var $=k.target;!I()&&s&&(b.current=setTimeout(function(){var _=p.current,M=_.querySelector("li").offsetTop,N=Array.from(_.querySelectorAll("li")),A=N.map(function(O){return O.offsetTop-M}),B=A.map(function(O,T){return t[T].disabled?Number.MAX_SAFE_INTEGER:Math.abs(O-$.scrollTop)}),L=Math.min.apply(Math,Ze(B)),W=B.findIndex(function(O){return O===L}),j=t[W];j&&!j.disabled&&a(j.value)},Nu))},R="".concat(v,"-column");return m.createElement("ul",{className:R,ref:p,"data-type":o,onScroll:E},t.map(function(P){var k=P.label,$=P.value,_=P.disabled,M=m.createElement("div",{className:"".concat(h,"-inner")},k);return m.createElement("li",{key:$,className:Ee(h,he(he({},"".concat(h,"-selected"),n===$),"".concat(h,"-disabled"),_)),onClick:function(){_||a($)},onDoubleClick:function(){!_&&l&&l()},onMouseEnter:function(){i($)},onMouseLeave:function(){i(null)},"data-value":$},u?u($,{prefixCls:d,originNode:M,today:f,type:"time",subType:o,locale:g}):M)}))}function Et(e){return e<12}function ku(e){var t=e.showHour,n=e.showMinute,r=e.showSecond,o=e.showMillisecond,a=e.use12Hours,i=e.changeOnScroll,l=Er(),s=l.prefixCls,c=l.values,d=l.generateConfig,u=l.locale,f=l.onSelect,g=l.onHover,v=g===void 0?function(){}:g,h=l.pickerValue,p=(c==null?void 0:c[0])||null,b=m.useContext(Rt),x=b.onCellDblClick,S=ra(d,e,p),y=H(S,5),C=y[0],D=y[1],I=y[2],E=y[3],R=y[4],P=function(Z){var Te=p&&d[Z](p),Re=h&&d[Z](h);return[Te,Re]},k=P("getHour"),$=H(k,2),_=$[0],M=$[1],N=P("getMinute"),A=H(N,2),B=A[0],L=A[1],W=P("getSecond"),j=H(W,2),O=j[0],T=j[1],F=P("getMillisecond"),V=H(F,2),J=V[0],q=V[1],G=_===null?null:Et(_)?"am":"pm",K=m.useMemo(function(){return a?Et(_)?D.filter(function(z){return Et(z.value)}):D.filter(function(z){return!Et(z.value)}):D},[_,D,a]),X=function(Z,Te){var Re,Le=Z.filter(function(mt){return!mt.disabled});return Te??(Le==null||(Re=Le[0])===null||Re===void 0?void 0:Re.value)},Q=X(D,_),ee=m.useMemo(function(){return I(Q)},[I,Q]),re=X(ee,B),ae=m.useMemo(function(){return E(Q,re)},[E,Q,re]),se=X(ae,O),Se=m.useMemo(function(){return R(Q,re,se)},[R,Q,re,se]),oe=X(Se,J),be=m.useMemo(function(){if(!a)return[];var z=d.getNow(),Z=d.setHour(z,6),Te=d.setHour(z,18),Re=function(mt,et){var gt=u.cellMeridiemFormat;return gt?Ve(mt,{generateConfig:d,locale:u,format:gt}):et};return[{label:Re(Z,"AM"),value:"am",disabled:D.every(function(Le){return Le.disabled||!Et(Le.value)})},{label:Re(Te,"PM"),value:"pm",disabled:D.every(function(Le){return Le.disabled||Et(Le.value)})}]},[D,a,d,u]),ce=function(Z){var Te=C(Z);f(Te)},Me=m.useMemo(function(){var z=p||h||d.getNow(),Z=function(Re){return Re!=null};return Z(_)?(z=d.setHour(z,_),z=d.setMinute(z,B),z=d.setSecond(z,O),z=d.setMillisecond(z,J)):Z(M)?(z=d.setHour(z,M),z=d.setMinute(z,L),z=d.setSecond(z,T),z=d.setMillisecond(z,q)):Z(Q)&&(z=d.setHour(z,Q),z=d.setMinute(z,re),z=d.setSecond(z,se),z=d.setMillisecond(z,oe)),z},[p,h,_,B,O,J,Q,re,se,oe,M,L,T,q,d]),we=function(Z,Te){return Z===null?null:d[Te](Me,Z)},De=function(Z){return we(Z,"setHour")},ke=function(Z){return we(Z,"setMinute")},je=function(Z){return we(Z,"setSecond")},_e=function(Z){return we(Z,"setMillisecond")},Oe=function(Z){return Z===null?null:Z==="am"&&!Et(_)?d.setHour(Me,_-12):Z==="pm"&&Et(_)?d.setHour(Me,_+12):Me},ve=function(Z){ce(De(Z))},He=function(Z){ce(ke(Z))},Fe=function(Z){ce(je(Z))},Be=function(Z){ce(_e(Z))},Ue=function(Z){ce(Oe(Z))},We=function(Z){v(De(Z))},fe=function(Z){v(ke(Z))},Pe=function(Z){v(je(Z))},U=function(Z){v(_e(Z))},te=function(Z){v(Oe(Z))},de={onDblClick:x,changeOnScroll:i};return m.createElement("div",{className:"".concat(s,"-content")},t&&m.createElement(xn,pe({units:K,value:_,optionalValue:M,type:"hour",onChange:ve,onHover:We},de)),n&&m.createElement(xn,pe({units:ee,value:B,optionalValue:L,type:"minute",onChange:He,onHover:fe},de)),r&&m.createElement(xn,pe({units:ae,value:O,optionalValue:T,type:"second",onChange:Fe,onHover:Pe},de)),o&&m.createElement(xn,pe({units:Se,value:J,optionalValue:q,type:"millisecond",onChange:Be,onHover:U},de)),a&&m.createElement(xn,pe({units:be,value:G,type:"meridiem",onChange:Ue,onHover:te},de)))}function bl(e){var t=e.prefixCls,n=e.value,r=e.locale,o=e.generateConfig,a=e.showTime,i=a||{},l=i.format,s="".concat(t,"-time-panel"),c=ln(e,"time"),d=H(c,1),u=d[0];return m.createElement(qt.Provider,{value:u},m.createElement("div",{className:Ee(s)},m.createElement(sn,null,n?Ve(n,{locale:r,format:l,generateConfig:o}):" "),m.createElement(ku,a)))}function $u(e){var t=e.prefixCls,n=e.generateConfig,r=e.showTime,o=e.onSelect,a=e.value,i=e.pickerValue,l=e.onHover,s="".concat(t,"-datetime-panel"),c=ra(n,r),d=H(c,1),u=d[0],f=function(p){return a?fr(n,p,a):fr(n,p,i)},g=function(p){l==null||l(p&&f(p))},v=function(p){var b=f(p);o(u(b,b))};return m.createElement("div",{className:s},m.createElement(Pr,pe({},e,{onSelect:v,onHover:g})),m.createElement(bl,e))}function Ou(e){var t=e.prefixCls,n=e.locale,r=e.generateConfig,o=e.pickerValue,a=e.disabledDate,i=e.onPickerValueChange,l="".concat(t,"-decade-panel"),s=ln(e,"decade"),c=H(s,1),d=c[0],u=function(D){var I=Math.floor(r.getYear(D)/100)*100;return r.setYear(D,I)},f=function(D){var I=u(D);return r.addYear(I,99)},g=u(o),v=f(o),h=r.addYear(g,-10),p=function(D,I){return r.addYear(D,I*10)},b=function(D){var I=n.cellYearFormat,E=Ve(D,{locale:n,format:I,generateConfig:r}),R=Ve(r.addYear(D,9),{locale:n,format:I,generateConfig:r});return"".concat(E,"-").concat(R)},x=function(D){return he({},"".concat(t,"-cell-in-view"),Mo(r,D,g)||Mo(r,D,v)||Ir(r,g,v,D))},S=a?function(C,D){var I=r.setDate(C,1),E=r.setMonth(I,0),R=r.setYear(E,Math.floor(r.getYear(E)/10)*10),P=r.addYear(R,10),k=r.addDate(P,-1);return a(R,D)&&a(k,D)}:null,y="".concat(Ve(g,{locale:n,format:n.yearFormat,generateConfig:r}),"-").concat(Ve(v,{locale:n,format:n.yearFormat,generateConfig:r}));return m.createElement(qt.Provider,{value:d},m.createElement("div",{className:l},m.createElement(sn,{superOffset:function(D){return r.addYear(o,D*100)},onChange:i,getStart:u,getEnd:f},y),m.createElement(Fn,pe({},e,{disabledDate:S,colNum:3,rowNum:4,baseDate:h,getCellDate:p,getCellText:b,getCellClassName:x}))))}function Tu(e){var t=e.prefixCls,n=e.locale,r=e.generateConfig,o=e.pickerValue,a=e.disabledDate,i=e.onPickerValueChange,l=e.onModeChange,s="".concat(t,"-month-panel"),c=ln(e,"month"),d=H(c,1),u=d[0],f=r.setMonth(o,0),g=n.shortMonths||(r.locale.getShortMonths?r.locale.getShortMonths(n.locale):[]),v=function(y,C){return r.addMonth(y,C)},h=function(y){var C=r.getMonth(y);return n.monthFormat?Ve(y,{locale:n,format:n.monthFormat,generateConfig:r}):g[C]},p=function(){return he({},"".concat(t,"-cell-in-view"),!0)},b=a?function(S,y){var C=r.setDate(S,1),D=r.setMonth(C,r.getMonth(C)+1),I=r.addDate(D,-1);return a(C,y)&&a(I,y)}:null,x=m.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){l("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Ve(o,{locale:n,format:n.yearFormat,generateConfig:r}));return m.createElement(qt.Provider,{value:u},m.createElement("div",{className:s},m.createElement(sn,{superOffset:function(y){return r.addYear(o,y)},onChange:i,getStart:function(y){return r.setMonth(y,0)},getEnd:function(y){return r.setMonth(y,11)}},x),m.createElement(Fn,pe({},e,{disabledDate:b,titleFormat:n.fieldMonthFormat,colNum:3,rowNum:4,baseDate:f,getCellDate:v,getCellText:h,getCellClassName:p}))))}function Au(e){var t=e.prefixCls,n=e.locale,r=e.generateConfig,o=e.pickerValue,a=e.onPickerValueChange,i=e.onModeChange,l="".concat(t,"-quarter-panel"),s=ln(e,"quarter"),c=H(s,1),d=c[0],u=r.setMonth(o,0),f=function(b,x){return r.addMonth(b,x*3)},g=function(b){return Ve(b,{locale:n,format:n.cellQuarterFormat,generateConfig:r})},v=function(){return he({},"".concat(t,"-cell-in-view"),!0)},h=m.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){i("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Ve(o,{locale:n,format:n.yearFormat,generateConfig:r}));return m.createElement(qt.Provider,{value:d},m.createElement("div",{className:l},m.createElement(sn,{superOffset:function(b){return r.addYear(o,b)},onChange:a,getStart:function(b){return r.setMonth(b,0)},getEnd:function(b){return r.setMonth(b,11)}},h),m.createElement(Fn,pe({},e,{titleFormat:n.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:u,getCellDate:f,getCellText:g,getCellClassName:v}))))}function _u(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.value,a=e.hoverValue,i=e.hoverRangeValue,l=r.locale,s="".concat(t,"-week-panel-row"),c=function(u){var f={};if(i){var g=H(i,2),v=g[0],h=g[1],p=wn(n,l,v,u),b=wn(n,l,h,u);f["".concat(s,"-range-start")]=p,f["".concat(s,"-range-end")]=b,f["".concat(s,"-range-hover")]=!p&&!b&&Ir(n,v,h,u)}return a&&(f["".concat(s,"-hover")]=a.some(function(x){return wn(n,l,u,x)})),Ee(s,he({},"".concat(s,"-selected"),!i&&wn(n,l,o,u)),f)};return m.createElement(Pr,pe({},e,{mode:"week",panelName:"week",rowClassName:c}))}function Fu(e){var t=e.prefixCls,n=e.locale,r=e.generateConfig,o=e.pickerValue,a=e.disabledDate,i=e.onPickerValueChange,l=e.onModeChange,s="".concat(t,"-year-panel"),c=ln(e,"year"),d=H(c,1),u=d[0],f=function(I){var E=Math.floor(r.getYear(I)/10)*10;return r.setYear(I,E)},g=function(I){var E=f(I);return r.addYear(E,9)},v=f(o),h=g(o),p=r.addYear(v,-1),b=function(I,E){return r.addYear(I,E)},x=function(I){return Ve(I,{locale:n,format:n.cellYearFormat,generateConfig:r})},S=function(I){return he({},"".concat(t,"-cell-in-view"),zt(r,I,v)||zt(r,I,h)||Ir(r,v,h,I))},y=a?function(D,I){var E=r.setMonth(D,0),R=r.setDate(E,1),P=r.addYear(R,1),k=r.addDate(P,-1);return a(R,I)&&a(k,I)}:null,C=m.createElement("button",{type:"button",key:"decade","aria-label":n.decadeSelect,onClick:function(){l("decade")},tabIndex:-1,className:"".concat(t,"-decade-btn")},Ve(v,{locale:n,format:n.yearFormat,generateConfig:r}),"-",Ve(h,{locale:n,format:n.yearFormat,generateConfig:r}));return m.createElement(qt.Provider,{value:u},m.createElement("div",{className:s},m.createElement(sn,{superOffset:function(I){return r.addYear(o,I*10)},onChange:i,getStart:f,getEnd:g},C),m.createElement(Fn,pe({},e,{disabledDate:y,titleFormat:n.fieldYearFormat,colNum:3,rowNum:4,baseDate:p,getCellDate:b,getCellText:x,getCellClassName:S}))))}var Bu={date:Pr,datetime:$u,week:_u,month:Tu,quarter:Au,year:Fu,decade:Ou,time:bl};function Lu(e,t){var n,r=e.locale,o=e.generateConfig,a=e.direction,i=e.prefixCls,l=e.tabIndex,s=l===void 0?0:l,c=e.multiple,d=e.defaultValue,u=e.value,f=e.onChange,g=e.onSelect,v=e.defaultPickerValue,h=e.pickerValue,p=e.onPickerValueChange,b=e.mode,x=e.onPanelChange,S=e.picker,y=S===void 0?"date":S,C=e.showTime,D=e.hoverValue,I=e.hoverRangeValue,E=e.cellRender,R=e.dateRender,P=e.monthCellRender,k=e.components,$=k===void 0?{}:k,_=e.hideHeader,M=((n=m.useContext(vt))===null||n===void 0?void 0:n.prefixCls)||i||"rc-picker",N=m.useRef();m.useImperativeHandle(t,function(){return{nativeElement:N.current}});var A=tl(e),B=H(A,4),L=B[0],W=B[1],j=B[2],O=B[3],T=Ji(r,W),F=y==="date"&&C?"datetime":y,V=m.useMemo(function(){return nl(F,j,O,L,T)},[F,j,O,L,T]),J=o.getNow(),q=Dt(y,{value:b,postState:function(te){return te||"date"}}),G=H(q,2),K=G[0],X=G[1],Q=K==="date"&&V?"datetime":K,ee=hl(o,r,F),re=Dt(d,{value:u}),ae=H(re,2),se=ae[0],Se=ae[1],oe=m.useMemo(function(){var U=Ut(se).filter(function(te){return te});return c?U:U.slice(0,1)},[se,c]),be=Xe(function(U){Se(U),f&&(U===null||oe.length!==U.length||oe.some(function(te,de){return!Je(o,r,te,U[de],F)}))&&(f==null||f(c?U:U[0]))}),ce=Xe(function(U){if(g==null||g(U),K===y){var te=c?ee(oe,U):[U];be(te)}}),Me=Dt(v||oe[0]||J,{value:h}),we=H(Me,2),De=we[0],ke=we[1];m.useEffect(function(){oe[0]&&!h&&ke(oe[0])},[oe[0]]);var je=function(te,de){x==null||x(te||h,de||K)},_e=function(te){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ke(te),p==null||p(te),de&&je(te)},Oe=function(te,de){X(te),de&&_e(de),je(de,te)},ve=function(te){if(ce(te),_e(te),K!==y){var de=["decade","year"],z=[].concat(de,["month"]),Z={quarter:[].concat(de,["quarter"]),week:[].concat(Ze(z),["week"]),date:[].concat(Ze(z),["date"])},Te=Z[y]||z,Re=Te.indexOf(K),Le=Te[Re+1];Le&&Oe(Le,te)}},He=m.useMemo(function(){var U,te;if(Array.isArray(I)){var de=H(I,2);U=de[0],te=de[1]}else U=I;return!U&&!te?null:(U=U||te,te=te||U,o.isAfter(U,te)?[te,U]:[U,te])},[I,o]),Fe=Zo(E,R,P),Be=$[Q]||Bu[Q]||Pr,Ue=m.useContext(Rt),We=m.useMemo(function(){return le(le({},Ue),{},{hideHeader:_})},[Ue,_]),fe="".concat(M,"-panel"),Pe=Dr(e,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return m.createElement(Rt.Provider,{value:We},m.createElement("div",{ref:N,tabIndex:s,className:Ee(fe,he({},"".concat(fe,"-rtl"),a==="rtl"))},m.createElement(Be,pe({},Pe,{showTime:V,prefixCls:M,locale:T,generateConfig:o,onModeChange:Oe,pickerValue:De,onPickerValueChange:function(te){_e(te,!0)},value:oe[0],onSelect:ve,values:oe,cellRender:Fe,hoverRangeValue:He,hoverValue:D}))))}var so=m.memo(m.forwardRef(Lu));function ju(e){var t=e.picker,n=e.multiplePanel,r=e.pickerValue,o=e.onPickerValueChange,a=e.needConfirm,i=e.onSubmit,l=e.range,s=e.hoverValue,c=m.useContext(vt),d=c.prefixCls,u=c.generateConfig,f=m.useCallback(function(x,S){return Dn(u,t,x,S)},[u,t]),g=m.useMemo(function(){return f(r,1)},[r,f]),v=function(S){o(f(S,-1))},h={onCellDblClick:function(){a&&i()}},p=t==="time",b=le(le({},e),{},{hoverValue:null,hoverRangeValue:null,hideHeader:p});return l?b.hoverRangeValue=s:b.hoverValue=s,n?m.createElement("div",{className:"".concat(d,"-panels")},m.createElement(Rt.Provider,{value:le(le({},h),{},{hideNext:!0})},m.createElement(so,b)),m.createElement(Rt.Provider,{value:le(le({},h),{},{hidePrev:!0})},m.createElement(so,pe({},b,{pickerValue:g,onPickerValueChange:v})))):m.createElement(Rt.Provider,{value:le({},h)},m.createElement(so,b))}function ja(e){return typeof e=="function"?e():e}function Vu(e){var t=e.prefixCls,n=e.presets,r=e.onClick,o=e.onHover;return n.length?m.createElement("div",{className:"".concat(t,"-presets")},m.createElement("ul",null,n.map(function(a,i){var l=a.label,s=a.value;return m.createElement("li",{key:i,onClick:function(){r(ja(s))},onMouseEnter:function(){o(ja(s))},onMouseLeave:function(){o(null)}},l)}))):null}function xl(e){var t=e.panelRender,n=e.internalMode,r=e.picker,o=e.showNow,a=e.range,i=e.multiple,l=e.activeInfo,s=l===void 0?[0,0,0]:l,c=e.presets,d=e.onPresetHover,u=e.onPresetSubmit,f=e.onFocus,g=e.onBlur,v=e.onPanelMouseDown,h=e.direction,p=e.value,b=e.onSelect,x=e.isInvalid,S=e.defaultOpenValue,y=e.onOk,C=e.onSubmit,D=m.useContext(vt),I=D.prefixCls,E="".concat(I,"-panel"),R=h==="rtl",P=m.useRef(null),k=m.useRef(null),$=m.useState(0),_=H($,2),M=_[0],N=_[1],A=m.useState(0),B=H(A,2),L=B[0],W=B[1],j=m.useState(0),O=H(j,2),T=O[0],F=O[1],V=function(ve){ve.width&&N(ve.width)},J=H(s,3),q=J[0],G=J[1],K=J[2],X=m.useState(0),Q=H(X,2),ee=Q[0],re=Q[1];m.useEffect(function(){re(10)},[q]),m.useEffect(function(){if(a&&k.current){var Oe,ve=((Oe=P.current)===null||Oe===void 0?void 0:Oe.offsetWidth)||0,He=k.current.getBoundingClientRect();if(!He.height||He.right<0){re(function(We){return Math.max(0,We-1)});return}var Fe=(R?G-ve:q)-He.left;if(F(Fe),M&&M<K){var Be=R?He.right-(G-ve+M):q+ve-He.left-M,Ue=Math.max(0,Be);W(Ue)}else W(0)}},[ee,R,M,q,G,K,a]);function ae(Oe){return Oe.filter(function(ve){return ve})}var se=m.useMemo(function(){return ae(Ut(p))},[p]),Se=r==="time"&&!se.length,oe=m.useMemo(function(){return Se?ae([S]):se},[Se,se,S]),be=Se?S:se,ce=m.useMemo(function(){return oe.length?oe.some(function(Oe){return x(Oe)}):!0},[oe,x]),Me=function(){Se&&b(S),y(),C()},we=m.createElement("div",{className:"".concat(I,"-panel-layout")},m.createElement(Vu,{prefixCls:I,presets:c,onClick:u,onHover:d}),m.createElement("div",null,m.createElement(ju,pe({},e,{value:be})),m.createElement(Eu,pe({},e,{showNow:i?!1:o,invalid:ce,onSubmit:Me}))));t&&(we=t(we));var De="".concat(E,"-container"),ke="marginLeft",je="marginRight",_e=m.createElement("div",{onMouseDown:v,tabIndex:-1,className:Ee(De,"".concat(I,"-").concat(n,"-panel-container")),style:he(he({},R?je:ke,L),R?ke:je,"auto"),onFocus:f,onBlur:g},we);return a&&(_e=m.createElement("div",{onMouseDown:v,ref:k,className:Ee("".concat(I,"-range-wrapper"),"".concat(I,"-").concat(r,"-range-wrapper"))},m.createElement("div",{ref:P,className:"".concat(I,"-range-arrow"),style:{left:T}}),m.createElement(Vi,{onResize:V},_e))),_e}function yl(e,t){var n=e.format,r=e.maskFormat,o=e.generateConfig,a=e.locale,i=e.preserveInvalidOnBlur,l=e.inputReadOnly,s=e.required,c=e["aria-required"],d=e.onSubmit,u=e.onFocus,f=e.onBlur,g=e.onInputChange,v=e.onInvalid,h=e.open,p=e.onOpenChange,b=e.onKeyDown,x=e.onChange,S=e.activeHelp,y=e.name,C=e.autoComplete,D=e.id,I=e.value,E=e.invalid,R=e.placeholder,P=e.disabled,k=e.activeIndex,$=e.allHelp,_=e.picker,M=function(T,F){var V=o.locale.parse(a.locale,T,[F]);return V&&o.isValidate(V)?V:null},N=n[0],A=m.useCallback(function(O){return Ve(O,{locale:a,format:N,generateConfig:o})},[a,o,N]),B=m.useMemo(function(){return I.map(A)},[I,A]),L=m.useMemo(function(){var O=_==="time"?8:10,T=typeof N=="function"?N(o.getNow()).length:N.length;return Math.max(O,T)+2},[N,_,o]),W=function(T){for(var F=0;F<n.length;F+=1){var V=n[F];if(typeof V=="string"){var J=M(T,V);if(J)return J}}return!1},j=function(T){function F(q){return T!==void 0?q[T]:q}var V=Uo(e,{aria:!0,data:!0}),J=le(le({},V),{},{format:r,validateFormat:function(G){return!!W(G)},preserveInvalidOnBlur:i,readOnly:l,required:s,"aria-required":c,name:y,autoComplete:C,size:L,id:F(D),value:F(B)||"",invalid:F(E),placeholder:F(R),active:k===T,helped:$||S&&k===T,disabled:F(P),onFocus:function(G){u(G,T)},onBlur:function(G){f(G,T)},onSubmit:d,onChange:function(G){g();var K=W(G);if(K){v(!1,T),x(K,T);return}v(!!G,T)},onHelp:function(){p(!0,{index:T})},onKeyDown:function(G){var K=!1;if(b==null||b(G,function(){K=!0}),!G.defaultPrevented&&!K)switch(G.key){case"Escape":p(!1,{index:T});break;case"Enter":h||p(!0);break}}},t==null?void 0:t({valueTexts:B}));return Object.keys(J).forEach(function(q){J[q]===void 0&&delete J[q]}),J};return[j,A]}var Hu=["onMouseEnter","onMouseLeave"];function Cl(e){return m.useMemo(function(){return Dr(e,Hu)},[e])}var Wu=["icon","type"],Yu=["onClear"];function Rr(e){var t=e.icon,n=e.type,r=en(e,Wu),o=m.useContext(vt),a=o.prefixCls;return t?m.createElement("span",pe({className:"".concat(a,"-").concat(n)},r),t):null}function ko(e){var t=e.onClear,n=en(e,Yu);return m.createElement(Rr,pe({},n,{type:"clear",role:"button",onMouseDown:function(o){o.preventDefault()},onClick:function(o){o.stopPropagation(),t()}}))}var co=["YYYY","MM","DD","HH","mm","ss","SSS"],Va="顧",zu=(function(){function e(t){qs(this,e),he(this,"format",void 0),he(this,"maskFormat",void 0),he(this,"cells",void 0),he(this,"maskCells",void 0),this.format=t;var n=co.map(function(l){return"(".concat(l,")")}).join("|"),r=new RegExp(n,"g");this.maskFormat=t.replace(r,function(l){return Va.repeat(l.length)});var o=new RegExp("(".concat(co.join("|"),")")),a=(t.split(o)||[]).filter(function(l){return l}),i=0;this.cells=a.map(function(l){var s=co.includes(l),c=i,d=i+l.length;return i=d,{text:l,mask:s,start:c,end:d}}),this.maskCells=this.cells.filter(function(l){return l.mask})}return Us(e,[{key:"getSelection",value:function(n){var r=this.maskCells[n]||{},o=r.start,a=r.end;return[o||0,a||0]}},{key:"match",value:function(n){for(var r=0;r<this.maskFormat.length;r+=1){var o=this.maskFormat[r],a=n[r];if(!a||o!==Va&&o!==a)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(n){for(var r=Number.MAX_SAFE_INTEGER,o=0,a=0;a<this.maskCells.length;a+=1){var i=this.maskCells[a],l=i.start,s=i.end;if(n>=l&&n<=s)return a;var c=Math.min(Math.abs(n-l),Math.abs(n-s));c<r&&(r=c,o=a)}return o}}]),e})();function Gu(e){var t={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return t[e]}var Uu=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],$o=m.forwardRef(function(e,t){var n=e.active,r=e.showActiveCls,o=r===void 0?!0:r,a=e.suffixIcon,i=e.format,l=e.validateFormat,s=e.onChange;e.onInput;var c=e.helped,d=e.onHelp,u=e.onSubmit,f=e.onKeyDown,g=e.preserveInvalidOnBlur,v=g===void 0?!1:g,h=e.invalid,p=e.clearIcon,b=en(e,Uu),x=e.value,S=e.onFocus,y=e.onBlur,C=e.onMouseUp,D=m.useContext(vt),I=D.prefixCls,E=D.input,R=E===void 0?"input":E,P="".concat(I,"-input"),k=m.useState(!1),$=H(k,2),_=$[0],M=$[1],N=m.useState(x),A=H(N,2),B=A[0],L=A[1],W=m.useState(""),j=H(W,2),O=j[0],T=j[1],F=m.useState(null),V=H(F,2),J=V[0],q=V[1],G=m.useState(null),K=H(G,2),X=K[0],Q=K[1],ee=B||"";m.useEffect(function(){L(x)},[x]);var re=m.useRef(),ae=m.useRef();m.useImperativeHandle(t,function(){return{nativeElement:re.current,inputElement:ae.current,focus:function(U){ae.current.focus(U)},blur:function(){ae.current.blur()}}});var se=m.useMemo(function(){return new zu(i||"")},[i]),Se=m.useMemo(function(){return c?[0,0]:se.getSelection(J)},[se,J,c]),oe=H(Se,2),be=oe[0],ce=oe[1],Me=function(U){U&&U!==i&&U!==x&&d()},we=Xe(function(Pe){l(Pe)&&s(Pe),L(Pe),Me(Pe)}),De=function(U){if(!i){var te=U.target.value;Me(te),L(te),s(te)}},ke=function(U){var te=U.clipboardData.getData("text");l(te)&&we(te)},je=m.useRef(!1),_e=function(){je.current=!0},Oe=function(U){var te=U.target,de=te.selectionStart,z=se.getMaskCellIndex(de);q(z),Q({}),C==null||C(U),je.current=!1},ve=function(U){M(!0),q(0),T(""),S(U)},He=function(U){y(U)},Fe=function(U){M(!1),He(U)};na(n,function(){!n&&!v&&L(x)});var Be=function(U){U.key==="Enter"&&l(ee)&&u(),f==null||f(U)},Ue=function(U){Be(U);var te=U.key,de=null,z=null,Z=ce-be,Te=i.slice(be,ce),Re=function(gt){q(function(st){var Qe=st+gt;return Qe=Math.max(Qe,0),Qe=Math.min(Qe,se.size()-1),Qe})},Le=function(gt){var st=Gu(Te),Qe=H(st,3),yt=Qe[0],Kt=Qe[1],Xt=Qe[2],It=ee.slice(be,ce),Ft=Number(It);if(isNaN(Ft))return String(Xt||(gt>0?yt:Kt));var Bt=Ft+gt,Lt=Kt-yt+1;return String(yt+(Lt+Bt-yt)%Lt)};switch(te){case"Backspace":case"Delete":de="",z=Te;break;case"ArrowLeft":de="",Re(-1);break;case"ArrowRight":de="",Re(1);break;case"ArrowUp":de="",z=Le(1);break;case"ArrowDown":de="",z=Le(-1);break;default:isNaN(Number(te))||(de=O+te,z=de);break}if(de!==null&&(T(de),de.length>=Z&&(Re(1),T(""))),z!==null){var mt=ee.slice(0,be)+Jo(z,Z)+ee.slice(ce);we(mt.slice(0,i.length))}Q({})},We=m.useRef();kt(function(){if(!(!_||!i||je.current)){if(!se.match(ee)){we(i);return}return ae.current.setSelectionRange(be,ce),We.current=wt(function(){ae.current.setSelectionRange(be,ce)}),function(){wt.cancel(We.current)}}},[se,i,_,ee,J,be,ce,X,we]);var fe=i?{onFocus:ve,onBlur:Fe,onKeyDown:Ue,onMouseDown:_e,onMouseUp:Oe,onPaste:ke}:{};return m.createElement("div",{ref:re,className:Ee(P,he(he({},"".concat(P,"-active"),n&&o),"".concat(P,"-placeholder"),c))},m.createElement(R,pe({ref:ae,"aria-invalid":h,autoComplete:"off"},b,{onKeyDown:Be,onBlur:He},fe,{value:ee,onChange:De})),m.createElement(Rr,{type:"suffix",icon:a}),p)}),qu=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],Ku=["index"];function Xu(e,t){var n=e.id,r=e.prefix,o=e.clearIcon,a=e.suffixIcon,i=e.separator,l=i===void 0?"~":i,s=e.activeIndex;e.activeHelp,e.allHelp;var c=e.focused;e.onFocus,e.onBlur,e.onKeyDown,e.locale,e.generateConfig;var d=e.placeholder,u=e.className,f=e.style,g=e.onClick,v=e.onClear,h=e.value;e.onChange,e.onSubmit,e.onInputChange,e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid;var p=e.disabled,b=e.invalid;e.inputReadOnly;var x=e.direction;e.onOpenChange;var S=e.onActiveInfo;e.placement;var y=e.onMouseDown;e.required,e["aria-required"];var C=e.autoFocus,D=e.tabIndex,I=en(e,qu),E=x==="rtl",R=m.useContext(vt),P=R.prefixCls,k=m.useMemo(function(){if(typeof n=="string")return[n];var X=n||{};return[X.start,X.end]},[n]),$=m.useRef(),_=m.useRef(),M=m.useRef(),N=function(Q){var ee;return(ee=[_,M][Q])===null||ee===void 0?void 0:ee.current};m.useImperativeHandle(t,function(){return{nativeElement:$.current,focus:function(Q){if(_n(Q)==="object"){var ee,re=Q||{},ae=re.index,se=ae===void 0?0:ae,Se=en(re,Ku);(ee=N(se))===null||ee===void 0||ee.focus(Se)}else{var oe;(oe=N(Q??0))===null||oe===void 0||oe.focus()}},blur:function(){var Q,ee;(Q=N(0))===null||Q===void 0||Q.blur(),(ee=N(1))===null||ee===void 0||ee.blur()}}});var A=Cl(I),B=m.useMemo(function(){return Array.isArray(d)?d:[d,d]},[d]),L=yl(le(le({},e),{},{id:k,placeholder:B})),W=H(L,1),j=W[0],O=m.useState({position:"absolute",width:0}),T=H(O,2),F=T[0],V=T[1],J=Xe(function(){var X=N(s);if(X){var Q=X.nativeElement.getBoundingClientRect(),ee=$.current.getBoundingClientRect(),re=Q.left-ee.left;V(function(ae){return le(le({},ae),{},{width:Q.width,left:re})}),S([Q.left,Q.right,ee.width])}});m.useEffect(function(){J()},[s]);var q=o&&(h[0]&&!p[0]||h[1]&&!p[1]),G=C&&!p[0],K=C&&!G&&!p[1];return m.createElement(Vi,{onResize:J},m.createElement("div",pe({},A,{className:Ee(P,"".concat(P,"-range"),he(he(he(he({},"".concat(P,"-focused"),c),"".concat(P,"-disabled"),p.every(function(X){return X})),"".concat(P,"-invalid"),b.some(function(X){return X})),"".concat(P,"-rtl"),E),u),style:f,ref:$,onClick:g,onMouseDown:function(Q){var ee=Q.target;ee!==_.current.inputElement&&ee!==M.current.inputElement&&Q.preventDefault(),y==null||y(Q)}}),r&&m.createElement("div",{className:"".concat(P,"-prefix")},r),m.createElement($o,pe({ref:_},j(0),{autoFocus:G,tabIndex:D,"date-range":"start"})),m.createElement("div",{className:"".concat(P,"-range-separator")},l),m.createElement($o,pe({ref:M},j(1),{autoFocus:K,tabIndex:D,"date-range":"end"})),m.createElement("div",{className:"".concat(P,"-active-bar"),style:F}),m.createElement(Rr,{type:"suffix",icon:a}),q&&m.createElement(ko,{icon:o,onClear:v})))}var Qu=m.forwardRef(Xu);function Ha(e,t){var n=e??t;return Array.isArray(n)?n:[n,n]}function Jn(e){return e===1?"end":"start"}function Ju(e,t){var n=al(e,function(){var ye=e.disabled,ue=e.allowEmpty,ge=Ha(ye,!1),Ae=Ha(ue,!1);return{disabled:ge,allowEmpty:Ae}}),r=H(n,6),o=r[0],a=r[1],i=r[2],l=r[3],s=r[4],c=r[5],d=o.prefixCls,u=o.styles,f=o.classNames,g=o.defaultValue,v=o.value,h=o.needConfirm,p=o.onKeyDown,b=o.disabled,x=o.allowEmpty,S=o.disabledDate,y=o.minDate,C=o.maxDate,D=o.defaultOpen,I=o.open,E=o.onOpenChange,R=o.locale,P=o.generateConfig,k=o.picker,$=o.showNow,_=o.showToday,M=o.showTime,N=o.mode,A=o.onPanelChange,B=o.onCalendarChange,L=o.onOk,W=o.defaultPickerValue,j=o.pickerValue,O=o.onPickerValueChange,T=o.inputReadOnly,F=o.suffixIcon,V=o.onFocus,J=o.onBlur,q=o.presets,G=o.ranges,K=o.components,X=o.cellRender,Q=o.dateRender,ee=o.monthCellRender,re=o.onClick,ae=ll(t),se=il(I,D,b,E),Se=H(se,2),oe=Se[0],be=Se[1],ce=function(ue,ge){(b.some(function(Ae){return!Ae})||!ue)&&be(ue,ge)},Me=gl(P,R,l,!0,!1,g,v,B,L),we=H(Me,5),De=we[0],ke=we[1],je=we[2],_e=we[3],Oe=we[4],ve=je(),He=cl(b,x,oe),Fe=H(He,9),Be=Fe[0],Ue=Fe[1],We=Fe[2],fe=Fe[3],Pe=Fe[4],U=Fe[5],te=Fe[6],de=Fe[7],z=Fe[8],Z=function(ue,ge){Ue(!0),V==null||V(ue,{range:Jn(ge??fe)})},Te=function(ue,ge){Ue(!1),J==null||J(ue,{range:Jn(ge??fe)})},Re=m.useMemo(function(){if(!M)return null;var ye=M.disabledTime,ue=ye?function(ge){var Ae=Jn(fe),qe=qi(ve,te,fe);return ye(ge,Ae,{from:qe})}:void 0;return le(le({},M),{},{disabledTime:ue})},[M,fe,ve,te]),Le=Dt([k,k],{value:N}),mt=H(Le,2),et=mt[0],gt=mt[1],st=et[fe]||k,Qe=st==="date"&&Re?"datetime":st,yt=Qe===k&&Qe!=="time",Kt=vl(k,st,$,_,!0),Xt=pl(o,De,ke,je,_e,b,l,Be,oe,c),It=H(Xt,2),Ft=It[0],Bt=It[1],Lt=Su(ve,b,te,P,R,S),_r=Xi(ve,c,x),jn=H(_r,2),Fr=jn[0],Br=jn[1],Vn=ul(P,R,ve,et,oe,fe,a,yt,W,j,Re==null?void 0:Re.defaultOpenValue,O,y,C),Hn=H(Vn,2),Lr=Hn[0],Wn=Hn[1],Ct=Xe(function(ye,ue,ge){var Ae=En(et,fe,ue);if((Ae[0]!==et[0]||Ae[1]!==et[1])&&gt(Ae),A&&ge!==!1){var qe=Ze(ve);ye&&(qe[fe]=ye),A(qe,Ae)}}),mn=function(ue,ge){return En(ve,ge,ue)},ht=function(ue,ge){var Ae=ve;ue&&(Ae=mn(ue,fe)),de(fe);var qe=U(Ae);_e(Ae),Ft(fe,qe===null),qe===null?ce(!1,{force:!0}):ge||ae.current.focus({index:qe})},jr=function(ue){var ge,Ae=ue.target.getRootNode();if(!ae.current.nativeElement.contains((ge=Ae.activeElement)!==null&&ge!==void 0?ge:document.activeElement)){var qe=b.findIndex(function(Hs){return!Hs});qe>=0&&ae.current.focus({index:qe})}ce(!0),re==null||re(ue)},Yn=function(){Bt(null),ce(!1,{force:!0})},Vr=m.useState(null),gn=H(Vr,2),Hr=gn[0],pn=gn[1],St=m.useState(null),Qt=H(St,2),Jt=Qt[0],vn=Qt[1],zn=m.useMemo(function(){return Jt||ve},[ve,Jt]);m.useEffect(function(){oe||vn(null)},[oe]);var Wr=m.useState([0,0,0]),hn=H(Wr,2),Yr=hn[0],zr=hn[1],Gr=sl(q,G),Ur=function(ue){vn(ue),pn("preset")},qr=function(ue){var ge=Bt(ue);ge&&ce(!1,{force:!0})},Kr=function(ue){ht(ue)},Xr=function(ue){vn(ue?mn(ue,fe):null),pn("cell")},Qr=function(ue){ce(!0),Z(ue)},Jr=function(){We("panel")},Zr=function(ue){var ge=En(ve,fe,ue);_e(ge),!h&&!i&&a===Qe&&ht(ue)},eo=function(){ce(!1)},to=Zo(X,Q,ee,Jn(fe)),no=ve[fe]||null,ro=Xe(function(ye){return c(ye,{activeIndex:fe})}),me=m.useMemo(function(){var ye=Uo(o,!1),ue=Cr(o,[].concat(Ze(Object.keys(ye)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return ue},[o]),ie=m.createElement(xl,pe({},me,{showNow:Kt,showTime:Re,range:!0,multiplePanel:yt,activeInfo:Yr,disabledDate:Lt,onFocus:Qr,onBlur:Te,onPanelMouseDown:Jr,picker:k,mode:st,internalMode:Qe,onPanelChange:Ct,format:s,value:no,isInvalid:ro,onChange:null,onSelect:Zr,pickerValue:Lr,defaultOpenValue:Ut(M==null?void 0:M.defaultOpenValue)[fe],onPickerValueChange:Wn,hoverValue:zn,onHover:Xr,needConfirm:h,onSubmit:ht,onOk:Oe,presets:Gr,onPresetHover:Ur,onPresetSubmit:qr,onNow:Kr,cellRender:to})),rt=function(ue,ge){var Ae=mn(ue,ge);_e(Ae)},bt=function(){We("input")},Gn=function(ue,ge){var Ae=te.length,qe=te[Ae-1];if(Ae&&qe!==ge&&h&&!x[qe]&&!z(qe)&&ve[qe]){ae.current.focus({index:qe});return}We("input"),ce(!0,{inherit:!0}),fe!==ge&&oe&&!h&&i&&ht(null,!0),Pe(ge),Z(ue,ge)},Ls=function(ue,ge){if(ce(!1),!h&&We()==="input"){var Ae=U(ve);Ft(fe,Ae===null)}Te(ue,ge)},js=function(ue,ge){ue.key==="Tab"&&ht(null,!0),p==null||p(ue,ge)},Vs=m.useMemo(function(){return{prefixCls:d,locale:R,generateConfig:P,button:K.button,input:K.input}},[d,R,P,K.button,K.input]);return kt(function(){oe&&fe!==void 0&&Ct(null,k,!1)},[oe,fe,k]),kt(function(){var ye=We();!oe&&ye==="input"&&(ce(!1),ht(null,!0)),!oe&&i&&!h&&ye==="panel"&&(ce(!0),ht())},[oe]),m.createElement(vt.Provider,{value:Vs},m.createElement(Gi,pe({},Ki(o),{popupElement:ie,popupStyle:u.popup,popupClassName:f.popup,visible:oe,onClose:eo,range:!0}),m.createElement(Qu,pe({},o,{ref:ae,suffixIcon:F,activeIndex:Be||oe?fe:null,activeHelp:!!Jt,allHelp:!!Jt&&Hr==="preset",focused:Be,onFocus:Gn,onBlur:Ls,onKeyDown:js,onSubmit:ht,value:zn,maskFormat:s,onChange:rt,onInputChange:bt,format:l,inputReadOnly:T,disabled:b,open:oe,onOpenChange:ce,onClick:jr,onClear:Yn,invalid:Fr,onInvalid:Br,onActiveInfo:zr}))))}var Zu=m.forwardRef(Ju);function ed(e){var t=e.prefixCls,n=e.value,r=e.onRemove,o=e.removeIcon,a=o===void 0?"×":o,i=e.formatDate,l=e.disabled,s=e.maxTagCount,c=e.placeholder,d="".concat(t,"-selector"),u="".concat(t,"-selection"),f="".concat(u,"-overflow");function g(p,b){return m.createElement("span",{className:Ee("".concat(u,"-item")),title:typeof p=="string"?p:null},m.createElement("span",{className:"".concat(u,"-item-content")},p),!l&&b&&m.createElement("span",{onMouseDown:function(S){S.preventDefault()},onClick:b,className:"".concat(u,"-item-remove")},a))}function v(p){var b=i(p),x=function(y){y&&y.stopPropagation(),r(p)};return g(b,x)}function h(p){var b="+ ".concat(p.length," ...");return g(b)}return m.createElement("div",{className:d},m.createElement(fc,{prefixCls:f,data:n,renderItem:v,renderRest:h,itemKey:function(b){return i(b)},maxCount:s}),!n.length&&m.createElement("span",{className:"".concat(t,"-selection-placeholder")},c))}var td=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function nd(e,t){e.id;var n=e.open,r=e.prefix,o=e.clearIcon,a=e.suffixIcon;e.activeHelp,e.allHelp;var i=e.focused;e.onFocus,e.onBlur,e.onKeyDown;var l=e.locale,s=e.generateConfig,c=e.placeholder,d=e.className,u=e.style,f=e.onClick,g=e.onClear,v=e.internalPicker,h=e.value,p=e.onChange,b=e.onSubmit;e.onInputChange;var x=e.multiple,S=e.maxTagCount;e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid;var y=e.disabled,C=e.invalid;e.inputReadOnly;var D=e.direction;e.onOpenChange;var I=e.onMouseDown;e.required,e["aria-required"];var E=e.autoFocus,R=e.tabIndex,P=e.removeIcon,k=en(e,td),$=D==="rtl",_=m.useContext(vt),M=_.prefixCls,N=m.useRef(),A=m.useRef();m.useImperativeHandle(t,function(){return{nativeElement:N.current,focus:function(G){var K;(K=A.current)===null||K===void 0||K.focus(G)},blur:function(){var G;(G=A.current)===null||G===void 0||G.blur()}}});var B=Cl(k),L=function(G){p([G])},W=function(G){var K=h.filter(function(X){return X&&!Je(s,l,X,G,v)});p(K),n||b()},j=yl(le(le({},e),{},{onChange:L}),function(q){var G=q.valueTexts;return{value:G[0]||"",active:i}}),O=H(j,2),T=O[0],F=O[1],V=!!(o&&h.length&&!y),J=x?m.createElement(m.Fragment,null,m.createElement(ed,{prefixCls:M,value:h,onRemove:W,formatDate:F,maxTagCount:S,disabled:y,removeIcon:P,placeholder:c}),m.createElement("input",{className:"".concat(M,"-multiple-input"),value:h.map(F).join(","),ref:A,readOnly:!0,autoFocus:E,tabIndex:R}),m.createElement(Rr,{type:"suffix",icon:a}),V&&m.createElement(ko,{icon:o,onClear:g})):m.createElement($o,pe({ref:A},T(),{autoFocus:E,tabIndex:R,suffixIcon:a,clearIcon:V&&m.createElement(ko,{icon:o,onClear:g}),showActiveCls:!1}));return m.createElement("div",pe({},B,{className:Ee(M,he(he(he(he(he({},"".concat(M,"-multiple"),x),"".concat(M,"-focused"),i),"".concat(M,"-disabled"),y),"".concat(M,"-invalid"),C),"".concat(M,"-rtl"),$),d),style:u,ref:N,onClick:f,onMouseDown:function(G){var K,X=G.target;X!==((K=A.current)===null||K===void 0?void 0:K.inputElement)&&G.preventDefault(),I==null||I(G)}}),r&&m.createElement("div",{className:"".concat(M,"-prefix")},r),J)}var rd=m.forwardRef(nd);function od(e,t){var n=al(e),r=H(n,6),o=r[0],a=r[1],i=r[2],l=r[3],s=r[4],c=r[5],d=o,u=d.prefixCls,f=d.styles,g=d.classNames,v=d.order,h=d.defaultValue,p=d.value,b=d.needConfirm,x=d.onChange,S=d.onKeyDown,y=d.disabled,C=d.disabledDate,D=d.minDate,I=d.maxDate,E=d.defaultOpen,R=d.open,P=d.onOpenChange,k=d.locale,$=d.generateConfig,_=d.picker,M=d.showNow,N=d.showToday,A=d.showTime,B=d.mode,L=d.onPanelChange,W=d.onCalendarChange,j=d.onOk,O=d.multiple,T=d.defaultPickerValue,F=d.pickerValue,V=d.onPickerValueChange,J=d.inputReadOnly,q=d.suffixIcon,G=d.removeIcon,K=d.onFocus,X=d.onBlur,Q=d.presets,ee=d.components,re=d.cellRender,ae=d.dateRender,se=d.monthCellRender,Se=d.onClick,oe=ll(t);function be(me){return me===null?null:O?me:me[0]}var ce=hl($,k,a),Me=il(R,E,[y],P),we=H(Me,2),De=we[0],ke=we[1],je=function(ie,rt,bt){if(W){var Gn=le({},bt);delete Gn.range,W(be(ie),be(rt),Gn)}},_e=function(ie){j==null||j(be(ie))},Oe=gl($,k,l,!1,v,h,p,je,_e),ve=H(Oe,5),He=ve[0],Fe=ve[1],Be=ve[2],Ue=ve[3],We=ve[4],fe=Be(),Pe=cl([y]),U=H(Pe,4),te=U[0],de=U[1],z=U[2],Z=U[3],Te=function(ie){de(!0),K==null||K(ie,{})},Re=function(ie){de(!1),X==null||X(ie,{})},Le=Dt(_,{value:B}),mt=H(Le,2),et=mt[0],gt=mt[1],st=et==="date"&&A?"datetime":et,Qe=vl(_,et,M,N),yt=x&&function(me,ie){x(be(me),be(ie))},Kt=pl(le(le({},o),{},{onChange:yt}),He,Fe,Be,Ue,[],l,te,De,c),Xt=H(Kt,2),It=Xt[1],Ft=Xi(fe,c),Bt=H(Ft,2),Lt=Bt[0],_r=Bt[1],jn=m.useMemo(function(){return Lt.some(function(me){return me})},[Lt]),Fr=function(ie,rt){if(V){var bt=le(le({},rt),{},{mode:rt.mode[0]});delete bt.range,V(ie[0],bt)}},Br=ul($,k,fe,[et],De,Z,a,!1,T,F,Ut(A==null?void 0:A.defaultOpenValue),Fr,D,I),Vn=H(Br,2),Hn=Vn[0],Lr=Vn[1],Wn=Xe(function(me,ie,rt){if(gt(ie),L&&rt!==!1){var bt=me||fe[fe.length-1];L(bt,ie)}}),Ct=function(){It(Be()),ke(!1,{force:!0})},mn=function(ie){!y&&!oe.current.nativeElement.contains(document.activeElement)&&oe.current.focus(),ke(!0),Se==null||Se(ie)},ht=function(){It(null),ke(!1,{force:!0})},jr=m.useState(null),Yn=H(jr,2),Vr=Yn[0],gn=Yn[1],Hr=m.useState(null),pn=H(Hr,2),St=pn[0],Qt=pn[1],Jt=m.useMemo(function(){var me=[St].concat(Ze(fe)).filter(function(ie){return ie});return O?me:me.slice(0,1)},[fe,St,O]),vn=m.useMemo(function(){return!O&&St?[St]:fe.filter(function(me){return me})},[fe,St,O]);m.useEffect(function(){De||Qt(null)},[De]);var zn=sl(Q),Wr=function(ie){Qt(ie),gn("preset")},hn=function(ie){var rt=O?ce(Be(),ie):[ie],bt=It(rt);bt&&!O&&ke(!1,{force:!0})},Yr=function(ie){hn(ie)},zr=function(ie){Qt(ie),gn("cell")},Gr=function(ie){ke(!0),Te(ie)},Ur=function(ie){if(z("panel"),!(O&&st!==_)){var rt=O?ce(Be(),ie):[ie];Ue(rt),!b&&!i&&a===st&&Ct()}},qr=function(){ke(!1)},Kr=Zo(re,ae,se),Xr=m.useMemo(function(){var me=Uo(o,!1),ie=Cr(o,[].concat(Ze(Object.keys(me)),["onChange","onCalendarChange","style","className","onPanelChange"]));return le(le({},ie),{},{multiple:o.multiple})},[o]),Qr=m.createElement(xl,pe({},Xr,{showNow:Qe,showTime:A,disabledDate:C,onFocus:Gr,onBlur:Re,picker:_,mode:et,internalMode:st,onPanelChange:Wn,format:s,value:fe,isInvalid:c,onChange:null,onSelect:Ur,pickerValue:Hn,defaultOpenValue:A==null?void 0:A.defaultOpenValue,onPickerValueChange:Lr,hoverValue:Jt,onHover:zr,needConfirm:b,onSubmit:Ct,onOk:We,presets:zn,onPresetHover:Wr,onPresetSubmit:hn,onNow:Yr,cellRender:Kr})),Jr=function(ie){Ue(ie)},Zr=function(){z("input")},eo=function(ie){z("input"),ke(!0,{inherit:!0}),Te(ie)},to=function(ie){ke(!1),Re(ie)},no=function(ie,rt){ie.key==="Tab"&&Ct(),S==null||S(ie,rt)},ro=m.useMemo(function(){return{prefixCls:u,locale:k,generateConfig:$,button:ee.button,input:ee.input}},[u,k,$,ee.button,ee.input]);return kt(function(){De&&Z!==void 0&&Wn(null,_,!1)},[De,Z,_]),kt(function(){var me=z();!De&&me==="input"&&(ke(!1),Ct()),!De&&i&&!b&&me==="panel"&&Ct()},[De]),m.createElement(vt.Provider,{value:ro},m.createElement(Gi,pe({},Ki(o),{popupElement:Qr,popupStyle:f.popup,popupClassName:g.popup,visible:De,onClose:qr}),m.createElement(rd,pe({},o,{ref:oe,suffixIcon:q,removeIcon:G,activeHelp:!!St,allHelp:!!St&&Vr==="preset",focused:te,onFocus:eo,onBlur:to,onKeyDown:no,onSubmit:Ct,value:vn,maskFormat:s,onChange:Jr,onInputChange:Zr,internalPicker:a,format:l,inputReadOnly:J,disabled:y,open:De,onOpenChange:ke,onClick:mn,onClear:ht,invalid:jn,onInvalid:function(ie){_r(ie,0)}}))))}var ad=m.forwardRef(od);const uo=(e,t)=>{const{componentCls:n,controlHeight:r}=e,o=t?`${n}-${t}`:"",a=sc(e);return[{[`${n}-multiple${o}`]:{paddingBlock:a.containerPadding,paddingInlineStart:a.basePadding,minHeight:r,[`${n}-selection-item`]:{height:a.itemHeight,lineHeight:xe(a.itemLineHeight)}}}]},id=e=>{const{componentCls:t,calc:n,lineWidth:r}=e,o=Ro(e,{fontHeight:e.fontSize,selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS,controlHeight:e.controlHeightSM}),a=Ro(e,{fontHeight:n(e.multipleItemHeightLG).sub(n(r).mul(2).equal()).equal(),fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius,controlHeight:e.controlHeightLG});return[uo(o,"small"),uo(e),uo(a,"large"),{[`${t}${t}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${t}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}}},lc(e)),{[`${t}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},ld=e=>{const{pickerCellCls:t,pickerCellInnerCls:n,cellHeight:r,borderRadiusSM:o,motionDurationMid:a,cellHoverBg:i,lineWidth:l,lineType:s,colorPrimary:c,cellActiveWithRangeBg:d,colorTextLightSolid:u,colorTextDisabled:f,cellBgDisabled:g,colorFillSecondary:v}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:r,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[n]:{position:"relative",zIndex:2,display:"inline-block",minWidth:r,height:r,lineHeight:xe(r),borderRadius:o,transition:`background ${a}`},[`&:hover:not(${t}-in-view):not(${t}-disabled),
    &:hover:not(${t}-selected):not(${t}-range-start):not(${t}-range-end):not(${t}-disabled)`]:{[n]:{background:i}},[`&-in-view${t}-today ${n}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${xe(l)} ${s} ${c}`,borderRadius:o,content:'""'}},[`&-in-view${t}-in-range,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{position:"relative",[`&:not(${t}-disabled):before`]:{background:d}},[`&-in-view${t}-selected,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{[`&:not(${t}-disabled) ${n}`]:{color:u,background:c},[`&${t}-disabled ${n}`]:{background:v}},[`&-in-view${t}-range-start:not(${t}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${t}-range-end:not(${t}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${t}-range-start:not(${t}-range-end) ${n}`]:{borderStartStartRadius:o,borderEndStartRadius:o,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${t}-range-end:not(${t}-range-start) ${n}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o},"&-disabled":{color:f,cursor:"not-allowed",[n]:{background:"transparent"},"&::before":{background:g}},[`&-disabled${t}-today ${n}::before`]:{borderColor:f}}},sd=e=>{const{componentCls:t,pickerCellCls:n,pickerCellInnerCls:r,pickerYearMonthCellWidth:o,pickerControlIconSize:a,cellWidth:i,paddingSM:l,paddingXS:s,paddingXXS:c,colorBgContainer:d,lineWidth:u,lineType:f,borderRadiusLG:g,colorPrimary:v,colorTextHeading:h,colorSplit:p,pickerControlIconBorderWidth:b,colorIcon:x,textHeight:S,motionDurationMid:y,colorIconHover:C,fontWeightStrong:D,cellHeight:I,pickerCellPaddingVertical:E,colorTextDisabled:R,colorText:P,fontSize:k,motionDurationSlow:$,withoutTimeCellHeight:_,pickerQuarterPanelContentHeight:M,borderRadiusSM:N,colorTextLightSolid:A,cellHoverBg:B,timeColumnHeight:L,timeColumnWidth:W,timeCellHeight:j,controlItemBgActive:O,marginXXS:T,pickerDatePanelPaddingHorizontal:F,pickerControlIconMargin:V}=e,J=e.calc(i).mul(7).add(e.calc(F).mul(2)).equal();return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:d,borderRadius:g,outline:"none","&-focused":{borderColor:v},"&-rtl":{[`${t}-prev-icon,
              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,
              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${t}-time-panel`]:{[`${t}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:J},"&-header":{display:"flex",padding:`0 ${xe(s)}`,color:h,borderBottom:`${xe(u)} ${f} ${p}`,"> *":{flex:"none"},button:{padding:0,color:x,lineHeight:xe(S),background:"transparent",border:0,cursor:"pointer",transition:`color ${y}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:k,"&:hover":{color:C},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:D,lineHeight:xe(S),"> button":{color:"inherit",fontWeight:"inherit",verticalAlign:"top","&:not(:first-child)":{marginInlineStart:s},"&:hover":{color:v}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:a,height:a,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:a,height:a,border:"0 solid currentcolor",borderBlockStartWidth:b,borderInlineStartWidth:b,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:V,insetInlineStart:V,display:"inline-block",width:a,height:a,border:"0 solid currentcolor",borderBlockStartWidth:b,borderInlineStartWidth:b,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:I,fontWeight:"normal"},th:{height:e.calc(I).add(e.calc(E).mul(2)).equal(),color:P,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${xe(E)} 0`,color:R,cursor:"pointer","&-in-view":{color:P}},ld(e)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-content`]:{height:e.calc(_).mul(4).equal()},[r]:{padding:`0 ${xe(s)}`}},"&-quarter-panel":{[`${t}-content`]:{height:M}},"&-decade-panel":{[r]:{padding:`0 ${xe(e.calc(s).div(2).equal())}`},[`${t}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-body`]:{padding:`0 ${xe(s)}`},[r]:{width:o}},"&-date-panel":{[`${t}-body`]:{padding:`${xe(s)} ${xe(F)}`},[`${t}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel-row":{td:{"&:before":{transition:`background ${y}`},"&:first-child:before":{borderStartStartRadius:N,borderEndStartRadius:N},"&:last-child:before":{borderStartEndRadius:N,borderEndEndRadius:N}},"&:hover td:before":{background:B},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${n}`]:{"&:before":{background:v},[`&${t}-cell-week`]:{color:new dr(A).setA(.5).toHexString()},[r]:{color:A}}},"&-range-hover td:before":{background:O}},"&-week-panel, &-date-panel-show-week":{[`${t}-body`]:{padding:`${xe(s)} ${xe(l)}`},[`${t}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${xe(u)} ${f} ${p}`},[`${t}-date-panel,
          ${t}-time-panel`]:{transition:`opacity ${$}`},"&-active":{[`${t}-date-panel,
            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${t}-content`]:{display:"flex",flex:"auto",height:L},"&-column":{flex:"1 0 auto",width:W,margin:`${xe(c)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${y}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colorTextTertiary,borderRadius:e.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${e.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${xe(j)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${xe(u)} ${f} ${p}`},"&-active":{background:new dr(O).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:T,[`${t}-time-panel-cell-inner`]:{display:"block",width:e.calc(W).sub(e.calc(T).mul(2)).equal(),height:j,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:e.calc(W).sub(j).div(2).equal(),color:P,lineHeight:xe(j),borderRadius:N,cursor:"pointer",transition:`background ${y}`,"&:hover":{background:B}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:O}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:R,background:"transparent",cursor:"not-allowed"}}}}}}}}},cd=e=>{const{componentCls:t,textHeight:n,lineWidth:r,paddingSM:o,antCls:a,colorPrimary:i,cellActiveWithRangeBg:l,colorPrimaryBorder:s,lineType:c,colorSplit:d}=e;return{[`${t}-dropdown`]:{[`${t}-footer`]:{borderTop:`${xe(r)} ${c} ${d}`,"&-extra":{padding:`0 ${xe(o)}`,lineHeight:xe(e.calc(n).sub(e.calc(r).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${xe(r)} ${c} ${d}`}}},[`${t}-panels + ${t}-footer ${t}-ranges`]:{justifyContent:"space-between"},[`${t}-ranges`]:{marginBlock:0,paddingInline:xe(o),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:xe(e.calc(n).sub(e.calc(r).mul(2)).equal()),display:"inline-block"},[`${t}-now-btn-disabled`]:{pointerEvents:"none",color:e.colorTextDisabled},[`${t}-preset > ${a}-tag-blue`]:{color:i,background:l,borderColor:s,cursor:"pointer"},[`${t}-ok`]:{paddingBlock:e.calc(r).mul(2).equal(),marginInlineStart:"auto"}}}}},ud=e=>{const{componentCls:t,controlHeightLG:n,paddingXXS:r,padding:o}=e;return{pickerCellCls:`${t}-cell`,pickerCellInnerCls:`${t}-cell-inner`,pickerYearMonthCellWidth:e.calc(n).mul(1.5).equal(),pickerQuarterPanelContentHeight:e.calc(n).mul(1.4).equal(),pickerCellPaddingVertical:e.calc(r).add(e.calc(r).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:e.calc(o).add(e.calc(r).div(2)).equal()}},dd=e=>{const{colorBgContainerDisabled:t,controlHeight:n,controlHeightSM:r,controlHeightLG:o,paddingXXS:a,lineWidth:i}=e,l=a*2,s=i*2,c=Math.min(n-l,n-s),d=Math.min(r-l,r-s),u=Math.min(o-l,o-s);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(a/2),cellHoverBg:e.controlItemBgHover,cellActiveWithRangeBg:e.controlItemBgActive,cellHoverWithRangeBg:new dr(e.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new dr(e.colorPrimary).lighten(20).toHexString(),cellBgDisabled:t,timeColumnWidth:o*1.4,timeColumnHeight:224,timeCellHeight:28,cellWidth:r*1.5,cellHeight:r,textHeight:o,withoutTimeCellHeight:o*1.65,multipleItemBg:e.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:c,multipleItemHeightSM:d,multipleItemHeightLG:u,multipleSelectorBgDisabled:t,multipleItemColorDisabled:e.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}},fd=e=>Object.assign(Object.assign(Object.assign(Object.assign({},Dc(e)),dd(e)),Ic(e)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:e.zIndexPopupBase+50}),md=e=>{const{componentCls:t}=e;return{[t]:[Object.assign(Object.assign(Object.assign(Object.assign({},Ec(e)),Pc(e)),Rc(e)),Nc(e)),{"&-outlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${xe(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-filled":{[`&${t}-multiple ${t}-selection-item`]:{background:e.colorBgContainer,border:`${xe(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}},"&-borderless":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${xe(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-underlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${xe(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}]}},fo=(e,t)=>({padding:`${xe(e)} ${xe(t)}`}),gd=e=>{const{componentCls:t,colorError:n,colorWarning:r}=e;return{[`${t}:not(${t}-disabled):not([disabled])`]:{[`&${t}-status-error`]:{[`${t}-active-bar`]:{background:n}},[`&${t}-status-warning`]:{[`${t}-active-bar`]:{background:r}}}}},pd=e=>{var t;const{componentCls:n,antCls:r,paddingInline:o,lineWidth:a,lineType:i,colorBorder:l,borderRadius:s,motionDurationMid:c,colorTextDisabled:d,colorTextPlaceholder:u,fontSizeLG:f,inputFontSizeLG:g,fontSizeSM:v,inputFontSizeSM:h,controlHeightSM:p,paddingInlineSM:b,paddingXS:x,marginXS:S,colorIcon:y,lineWidthBold:C,colorPrimary:D,motionDurationSlow:I,zIndexPopup:E,paddingXXS:R,sizePopupArrow:P,colorBgElevated:k,borderRadiusLG:$,boxShadowSecondary:_,borderRadiusSM:M,colorSplit:N,cellHoverBg:A,presetsWidth:B,presetsMaxWidth:L,boxShadowPopoverArrow:W,fontHeight:j,lineHeightLG:O}=e;return[{[n]:Object.assign(Object.assign(Object.assign({},Pa(e)),fo(e.paddingBlock,e.paddingInline)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:s,transition:`border ${c}, box-shadow ${c}, background ${c}`,[`${n}-prefix`]:{flex:"0 0 auto",marginInlineEnd:e.inputAffixPadding},[`${n}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:(t=e.inputFontSize)!==null&&t!==void 0?t:e.fontSize,lineHeight:e.lineHeight,transition:`all ${c}`},$c(u)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:d,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:u}}},"&-large":Object.assign(Object.assign({},fo(e.paddingBlockLG,e.paddingInlineLG)),{[`${n}-input > input`]:{fontSize:g??f,lineHeight:O}}),"&-small":Object.assign(Object.assign({},fo(e.paddingBlockSM,e.paddingInlineSM)),{[`${n}-input > input`]:{fontSize:h??v}}),[`${n}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:e.calc(x).div(2).equal(),color:d,lineHeight:1,pointerEvents:"none",transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:S}}},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:d,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top"},"&:hover":{color:y}},"&:hover":{[`${n}-clear`]:{opacity:1},[`${n}-suffix:not(:last-child)`]:{opacity:0}},[`${n}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:f,color:d,fontSize:f,verticalAlign:"top",cursor:"default",[`${n}-focused &`]:{color:y},[`${n}-range-separator &`]:{[`${n}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${n}-active-bar`]:{bottom:e.calc(a).mul(-1).equal(),height:C,background:D,opacity:0,transition:`all ${I} ease-out`,pointerEvents:"none"},[`&${n}-focused`]:{[`${n}-active-bar`]:{opacity:1}},[`${n}-range-separator`]:{alignItems:"center",padding:`0 ${xe(x)}`,lineHeight:1}},"&-range, &-multiple":{[`${n}-clear`]:{insetInlineEnd:o},[`&${n}-small`]:{[`${n}-clear`]:{insetInlineEnd:b}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},Pa(e)),sd(e)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:E,[`&${n}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${n}-dropdown-placement-bottomLeft,
            &${n}-dropdown-placement-bottomRight`]:{[`${n}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${n}-dropdown-placement-topLeft,
            &${n}-dropdown-placement-topRight`]:{[`${n}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${r}-slide-up-appear, &${r}-slide-up-enter`]:{[`${n}-range-arrow${n}-range-arrow`]:{transition:"none"}},[`&${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-topLeft,
          &${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-topRight,
          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-topLeft,
          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-topRight`]:{animationName:vc},[`&${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-bottomLeft,
          &${r}-slide-up-enter${r}-slide-up-enter-active${n}-dropdown-placement-bottomRight,
          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-bottomLeft,
          &${r}-slide-up-appear${r}-slide-up-appear-active${n}-dropdown-placement-bottomRight`]:{animationName:pc},[`&${r}-slide-up-leave ${n}-panel-container`]:{pointerEvents:"none"},[`&${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-topLeft,
          &${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-topRight`]:{animationName:gc},[`&${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-bottomLeft,
          &${r}-slide-up-leave${r}-slide-up-leave-active${n}-dropdown-placement-bottomRight`]:{animationName:mc},[`${n}-panel > ${n}-time-panel`]:{paddingTop:R},[`${n}-range-wrapper`]:{display:"flex",position:"relative"},[`${n}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:e.calc(o).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${I} ease-out`},kc(e,k,W)),{"&:before":{insetInlineStart:e.calc(o).mul(1.5).equal()}}),[`${n}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:k,borderRadius:$,boxShadow:_,transition:`margin ${I}`,display:"inline-block",pointerEvents:"auto",[`${n}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${n}-presets`]:{display:"flex",flexDirection:"column",minWidth:B,maxWidth:L,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:x,borderInlineEnd:`${xe(a)} ${i} ${N}`,li:Object.assign(Object.assign({},Qs),{borderRadius:M,paddingInline:x,paddingBlock:e.calc(p).sub(j).div(2).equal(),cursor:"pointer",transition:`all ${I}`,"+ li":{marginTop:S},"&:hover":{background:A}})}},[`${n}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${n}-panel`]:{borderWidth:0}}},[`${n}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${n}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:l}}}}),"&-dropdown-range":{padding:`${xe(e.calc(P).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${n}-separator`]:{transform:"scale(-1, 1)"},[`${n}-footer`]:{"&-extra":{direction:"rtl"}}}})},Ma(e,"slide-up"),Ma(e,"slide-down"),Na(e,"move-up"),Na(e,"move-down")]},Sl=Ks("DatePicker",e=>{const t=Ro(Mc(e),ud(e),{inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[cd(t),pd(t),md(t),gd(t),id(t),Xs(e,{focusElCls:`${e.componentCls}-focused`})]},fd);var vd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},hd=function(t,n){return m.createElement(an,pe({},t,{ref:n,icon:vd}))},oa=m.forwardRef(hd),bd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},xd=function(t,n){return m.createElement(an,pe({},t,{ref:n,icon:bd}))},wl=m.forwardRef(xd),yd={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},Cd=function(t,n){return m.createElement(an,pe({},t,{ref:n,icon:yd}))},Sd=m.forwardRef(Cd);function wd(e,t,n){return n!==void 0?n:t==="year"&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function Dd(e,t,n){return n!==void 0?n:t==="year"&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function Dl(e,t){const{allowClear:n=!0}=e,{clearIcon:r,removeIcon:o}=cc(Object.assign(Object.assign({},e),{prefixCls:t,componentName:"DatePicker"}));return[m.useMemo(()=>n===!1?!1:Object.assign({clearIcon:r},n===!0?{}:n),[n,r]),o]}const[Id,Ed]=["week","WeekPicker"],[Pd,Rd]=["month","MonthPicker"],[Nd,Md]=["year","YearPicker"],[kd,$d]=["quarter","QuarterPicker"],[Oo,Wa]=["time","TimePicker"],Od=e=>m.createElement(tn,Object.assign({size:"small",type:"primary"},e));function Il(e){return m.useMemo(()=>Object.assign({button:Od},e),[e])}function El(e,...t){const n=e||{};return t.reduce((r,o)=>(Object.keys(o||{}).forEach(a=>{const i=n[a],l=o[a];if(i&&typeof i=="object")if(l&&typeof l=="object")r[a]=El(i,r[a],l);else{const{_default:s}=i;r[a]=r[a]||{},r[a][s]=Ee(r[a][s],l)}else r[a]=Ee(r[a],l)}),r),{})}function Td(e,...t){return m.useMemo(()=>El.apply(void 0,[e].concat(t)),[t])}function Ad(...e){return m.useMemo(()=>e.reduce((t,n={})=>(Object.keys(n).forEach(r=>{t[r]=Object.assign(Object.assign({},t[r]),n[r])}),t),{}),[e])}function To(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(r=>{if(r!=="_default"){const o=t[r],a=n[r]||{};n[r]=o?To(a,o):a}}),n}function _d(e,t,n){const r=Td.apply(void 0,[n].concat(Ze(e))),o=Ad.apply(void 0,Ze(t));return m.useMemo(()=>[To(r,n),To(o,n)],[r,o])}const Pl=(e,t,n,r,o)=>{const{classNames:a,styles:i}=Js(e),[l,s]=_d([a,t],[i,n],{popup:{_default:"root"}});return m.useMemo(()=>{var c,d;const u=Object.assign(Object.assign({},l),{popup:Object.assign(Object.assign({},l.popup),{root:Ee((c=l.popup)===null||c===void 0?void 0:c.root,r)})}),f=Object.assign(Object.assign({},s),{popup:Object.assign(Object.assign({},s.popup),{root:Object.assign(Object.assign({},(d=s.popup)===null||d===void 0?void 0:d.root),o)})});return[u,f]},[l,s,r,o])};var Fd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Bd=e=>m.forwardRef((n,r)=>{var o;const{prefixCls:a,getPopupContainer:i,components:l,className:s,style:c,placement:d,size:u,disabled:f,bordered:g=!0,placeholder:v,popupStyle:h,popupClassName:p,dropdownClassName:b,status:x,rootClassName:S,variant:y,picker:C,styles:D,classNames:I}=n,E=Fd(n,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupStyle","popupClassName","dropdownClassName","status","rootClassName","variant","picker","styles","classNames"]),R=C===Oo?"timePicker":"datePicker",P=m.useRef(null),{getPrefixCls:k,direction:$,getPopupContainer:_,rangePicker:M}=m.useContext(zo),N=k("picker",a),{compactSize:A,compactItemClassnames:B}=$i(N,$),L=k(),[W,j]=Hi("rangePicker",y,g),O=Oi(N),[T,F,V]=Sl(N,O),[J,q]=Pl(R,I,D,p||b,h),[G]=Dl(n,N),K=Il(l),X=Ti(we=>{var De;return(De=u??A)!==null&&De!==void 0?De:we}),Q=m.useContext(Ai),ee=f??Q,re=m.useContext(_i),{hasFeedback:ae,status:se,feedbackIcon:Se}=re,oe=m.createElement(m.Fragment,null,C===Oo?m.createElement(wl,null):m.createElement(oa,null),ae&&Se);m.useImperativeHandle(r,()=>P.current);const[be]=Fi("Calendar",Bi),ce=Object.assign(Object.assign({},be),n.locale),[Me]=Go("DatePicker",(o=q.popup.root)===null||o===void 0?void 0:o.zIndex);return T(m.createElement(Li,{space:!0},m.createElement(Zu,Object.assign({separator:m.createElement("span",{"aria-label":"to",className:`${N}-separator`},m.createElement(Sd,null)),disabled:ee,ref:P,placement:d,placeholder:Dd(ce,C,v),suffixIcon:oe,prevIcon:m.createElement("span",{className:`${N}-prev-icon`}),nextIcon:m.createElement("span",{className:`${N}-next-icon`}),superPrevIcon:m.createElement("span",{className:`${N}-super-prev-icon`}),superNextIcon:m.createElement("span",{className:`${N}-super-next-icon`}),transitionName:`${L}-slide-up`,picker:C},E,{className:Ee({[`${N}-${X}`]:X,[`${N}-${W}`]:j},Wi(N,Yi(se,x),ae),F,B,s,M==null?void 0:M.className,V,O,S,J.root),style:Object.assign(Object.assign(Object.assign({},M==null?void 0:M.style),c),q.root),locale:ce.lang,prefixCls:N,getPopupContainer:i||_,generateConfig:e,components:K,direction:$,classNames:{popup:Ee(F,V,O,S,J.popup.root)},styles:{popup:Object.assign(Object.assign({},q.popup.root),{zIndex:Me})},allowClear:G}))))});var Ld=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const jd=e=>{const t=(s,c)=>{const d=c===Wa?"timePicker":"datePicker";return m.forwardRef((f,g)=>{var v;const{prefixCls:h,getPopupContainer:p,components:b,style:x,className:S,rootClassName:y,size:C,bordered:D,placement:I,placeholder:E,popupStyle:R,popupClassName:P,dropdownClassName:k,disabled:$,status:_,variant:M,onCalendarChange:N,styles:A,classNames:B}=f,L=Ld(f,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupStyle","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange","styles","classNames"]),{getPrefixCls:W,direction:j,getPopupContainer:O,[d]:T}=m.useContext(zo),F=W("picker",h),{compactSize:V,compactItemClassnames:J}=$i(F,j),q=m.useRef(null),[G,K]=Hi("datePicker",M,D),X=Oi(F),[Q,ee,re]=Sl(F,X);m.useImperativeHandle(g,()=>q.current);const ae={showToday:!0},se=s||f.picker,Se=W(),{onSelect:oe,multiple:be}=L,ce=oe&&s==="time"&&!be,Me=(de,z,Z)=>{N==null||N(de,z,Z),ce&&oe(de)},[we,De]=Pl(d,B,A,P||k,R),[ke,je]=Dl(f,F),_e=Il(b),Oe=Ti(de=>{var z;return(z=C??V)!==null&&z!==void 0?z:de}),ve=m.useContext(Ai),He=$??ve,Fe=m.useContext(_i),{hasFeedback:Be,status:Ue,feedbackIcon:We}=Fe,fe=m.createElement(m.Fragment,null,se==="time"?m.createElement(wl,null):m.createElement(oa,null),Be&&We),[Pe]=Fi("DatePicker",Bi),U=Object.assign(Object.assign({},Pe),f.locale),[te]=Go("DatePicker",(v=De.popup.root)===null||v===void 0?void 0:v.zIndex);return Q(m.createElement(Li,{space:!0},m.createElement(ad,Object.assign({ref:q,placeholder:wd(U,se,E),suffixIcon:fe,placement:I,prevIcon:m.createElement("span",{className:`${F}-prev-icon`}),nextIcon:m.createElement("span",{className:`${F}-next-icon`}),superPrevIcon:m.createElement("span",{className:`${F}-super-prev-icon`}),superNextIcon:m.createElement("span",{className:`${F}-super-next-icon`}),transitionName:`${Se}-slide-up`,picker:s,onCalendarChange:Me},ae,L,{locale:U.lang,className:Ee({[`${F}-${Oe}`]:Oe,[`${F}-${G}`]:K},Wi(F,Yi(Ue,_),Be),ee,J,T==null?void 0:T.className,S,re,X,y,we.root),style:Object.assign(Object.assign(Object.assign({},T==null?void 0:T.style),x),De.root),prefixCls:F,getPopupContainer:p||O,generateConfig:e,components:_e,direction:j,disabled:He,classNames:{popup:Ee(ee,re,X,y,we.popup.root)},styles:{popup:Object.assign(Object.assign({},De.popup.root),{zIndex:te})},allowClear:ke,removeIcon:je}))))})},n=t(),r=t(Id,Ed),o=t(Pd,Rd),a=t(Nd,Md),i=t(kd,$d),l=t(Oo,Wa);return{DatePicker:n,WeekPicker:r,MonthPicker:o,YearPicker:a,TimePicker:l,QuarterPicker:i}},Rl=e=>{const{DatePicker:t,WeekPicker:n,MonthPicker:r,YearPicker:o,TimePicker:a,QuarterPicker:i}=jd(e),l=Bd(e),s=t;return s.WeekPicker=n,s.MonthPicker=r,s.YearPicker=o,s.RangePicker=l,s.TimePicker=a,s.QuarterPicker=i,s},cn=Rl(lu),Vd=Xo(cn,"popupAlign",void 0,"picker");cn._InternalPanelDoNotUseOrYouWillBeFired=Vd;const Hd=Xo(cn.RangePicker,"popupAlign",void 0,"picker");cn._InternalRangePanelDoNotUseOrYouWillBeFired=Hd;cn.generatePicker=Rl;var Wd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},Yd=function(t,n){return m.createElement(an,pe({},t,{ref:n,icon:Wd}))},zd=m.forwardRef(Yd),Gd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M280 752h80c4.4 0 8-3.6 8-8V280c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8zm192-280h80c4.4 0 8-3.6 8-8V280c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8v184c0 4.4 3.6 8 8 8zm192 72h80c4.4 0 8-3.6 8-8V280c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8v256c0 4.4 3.6 8 8 8zm216-432H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"project",theme:"outlined"},Ud=function(t,n){return m.createElement(an,pe({},t,{ref:n,icon:Gd}))},qd=m.forwardRef(Ud),Kd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]},name:"star",theme:"outlined"},Xd=function(t,n){return m.createElement(an,pe({},t,{ref:n,icon:Kd}))},Qd=m.forwardRef(Xd);const Ao=qo(w.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));var sr={exports:{}},Jd=sr.exports,Ya;function Zd(){return Ya||(Ya=1,(function(e,t){(function(n,r){e.exports=r()})(Jd,(function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(a,i,l){var s=i.prototype;l.utc=function(h){var p={date:h,utc:!0,args:arguments};return new i(p)},s.utc=function(h){var p=l(this.toDate(),{locale:this.$L,utc:!0});return h?p.add(this.utcOffset(),n):p},s.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var c=s.parse;s.parse=function(h){h.utc&&(this.$u=!0),this.$utils().u(h.$offset)||(this.$offset=h.$offset),c.call(this,h)};var d=s.init;s.init=function(){if(this.$u){var h=this.$d;this.$y=h.getUTCFullYear(),this.$M=h.getUTCMonth(),this.$D=h.getUTCDate(),this.$W=h.getUTCDay(),this.$H=h.getUTCHours(),this.$m=h.getUTCMinutes(),this.$s=h.getUTCSeconds(),this.$ms=h.getUTCMilliseconds()}else d.call(this)};var u=s.utcOffset;s.utcOffset=function(h,p){var b=this.$utils().u;if(b(h))return this.$u?0:b(this.$offset)?u.call(this):this.$offset;if(typeof h=="string"&&(h=(function(C){C===void 0&&(C="");var D=C.match(r);if(!D)return null;var I=(""+D[0]).match(o)||["-",0,0],E=I[0],R=60*+I[1]+ +I[2];return R===0?0:E==="+"?R:-R})(h),h===null))return this;var x=Math.abs(h)<=16?60*h:h;if(x===0)return this.utc(p);var S=this.clone();if(p)return S.$offset=x,S.$u=!1,S;var y=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(S=this.local().add(x+y,n)).$offset=x,S.$x.$localOffset=y,S};var f=s.format;s.format=function(h){var p=h||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,p)},s.valueOf=function(){var h=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*h},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var g=s.toDate;s.toDate=function(h){return h==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var v=s.diff;s.diff=function(h,p,b){if(h&&this.$u===h.$u)return v.call(this,h,p,b);var x=this.local(),S=l(h).local();return v.call(x,S,p,b)}}}))})(sr)),sr.exports}var ef=Zd();const tf=Tt(ef);var cr={exports:{}},nf=cr.exports,za;function rf(){return za||(za=1,(function(e,t){(function(n,r){e.exports=r()})(nf,(function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(o,a,i){var l,s=function(f,g,v){v===void 0&&(v={});var h=new Date(f),p=(function(b,x){x===void 0&&(x={});var S=x.timeZoneName||"short",y=b+"|"+S,C=r[y];return C||(C=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:S}),r[y]=C),C})(g,v);return p.formatToParts(h)},c=function(f,g){for(var v=s(f,g),h=[],p=0;p<v.length;p+=1){var b=v[p],x=b.type,S=b.value,y=n[x];y>=0&&(h[y]=parseInt(S,10))}var C=h[3],D=C===24?0:C,I=h[0]+"-"+h[1]+"-"+h[2]+" "+D+":"+h[4]+":"+h[5]+":000",E=+f;return(i.utc(I).valueOf()-(E-=E%1e3))/6e4},d=a.prototype;d.tz=function(f,g){f===void 0&&(f=l);var v,h=this.utcOffset(),p=this.toDate(),b=p.toLocaleString("en-US",{timeZone:f}),x=Math.round((p-new Date(b))/1e3/60),S=15*-Math.round(p.getTimezoneOffset()/15)-x;if(!Number(S))v=this.utcOffset(0,g);else if(v=i(b,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(S,!0),g){var y=v.utcOffset();v=v.add(h-y,"minute")}return v.$x.$timezone=f,v},d.offsetName=function(f){var g=this.$x.$timezone||i.tz.guess(),v=s(this.valueOf(),g,{timeZoneName:f}).find((function(h){return h.type.toLowerCase()==="timezonename"}));return v&&v.value};var u=d.startOf;d.startOf=function(f,g){if(!this.$x||!this.$x.$timezone)return u.call(this,f,g);var v=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return u.call(v,f,g).tz(this.$x.$timezone,!0)},i.tz=function(f,g,v){var h=v&&g,p=v||g||l,b=c(+i(),p);if(typeof f!="string")return i(f).tz(p);var x=(function(D,I,E){var R=D-60*I*1e3,P=c(R,E);if(I===P)return[R,I];var k=c(R-=60*(P-I)*1e3,E);return P===k?[R,P]:[D-60*Math.min(P,k)*1e3,Math.max(P,k)]})(i.utc(f,h).valueOf(),b,p),S=x[0],y=x[1],C=i(S).utcOffset(y);return C.$x.$timezone=p,C},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(f){l=f}}}))})(cr)),cr.exports}var of=rf();const af=Tt(of),lf=qo(w.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),sf=qo(w.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),_o=({title:e,type:t,onDelete:n,readOnly:r=!1})=>{const{taskDetail:o}=At(),{userId:a,username:i,isMobile:l}=$t(),[s,c]=m.useState([]),[d,u]=m.useState([]),[f,g]=m.useState(!1),v=C=>{const D=I=>I<10?"0"+I:I;return C.getFullYear().toString()+D(C.getMonth()+1)+D(C.getDate())+"_"+D(C.getHours())+D(C.getMinutes())+D(C.getSeconds())};m.useEffect(()=>{if(!o||!o.assets)return;const C=o.assets.filter(I=>I.type===t&&I.file_url&&I.file_url!=""),D=o.assets.filter(I=>I.type===t&&I.text&&I.text!="");console.log("JobAsset taskdetail:",C.length,D.length),console.log(D),u(C),c(D)},[o]);const h=async C=>{g(!0);const I=v(new Date),E=new FormData;E.append("time",I),E.append("type",t||""),E.append("file",C),E.append("user_id",a||""),E.append("type",t||""),E.append("task_id",(o==null?void 0:o.id.toString())??"");try{const R=await fetch(`${Pt()}/task/${o==null?void 0:o.id}/upload`,{method:"PUT",body:E});if(!R.ok)throw new Error(`HTTP error! Status: ${R.status}`);const P=await R.json();ut.success({message:"Đã upload thành công!",description:P}),u(k=>k?[...k,P.message]:[P.message])}catch(R){ut.error({message:"Lỗi upload ảnh:",description:R.message})}finally{g(!1)}},p=C=>{if(!(!o||!(o!=null&&o.id))&&C.target.files&&C.target.files.length>0){const D=C.target.files[0];h(D)}};function b(C){return C.substring(C.lastIndexOf("/")+1)}const x=C=>{fetch(`${Pt()}/message/${C}`,{method:"DELETE"}).then(D=>{D.ok?(ut.success({message:"Message deleted successfully",description:C}),u(I=>I.filter(E=>E.message_id!==C))):ut.error({message:"Failed to delete message",description:C})}).catch(D=>{console.error("Error deleting message:",D)})},S=async C=>{g(!0);const I=v(new Date),E=new FormData;E.append("time",I),E.append("type",t||""),E.append("user_id",a||""),E.append("username",i||""),E.append("type",t||""),E.append("text",C||""),E.append("task_id",(o==null?void 0:o.id.toString())??"");try{const R=await fetch(`${Pt()}/task/${o==null?void 0:o.id}/message`,{method:"PUT",body:E});if(!R.ok)throw new Error(`HTTP error! Status: ${R.status}`);const P=await R.json();ut.success({message:"Đã gửi comment thành công!",description:P}),c(k=>k?[...k,P.message]:[P.message])}catch(R){ut.error({message:"Lỗi gửi comment:",description:R.message})}finally{g(!1)}},y=C=>{fetch(`${Pt()}/message/${C}`,{method:"DELETE"}).then(D=>{D.ok?(ut.success({message:"Message deleted successfully",description:C}),c(I=>I.filter(E=>E.message_id!==C))):ut.error({message:"Failed to delete message",description:C})}).catch(D=>{console.error("Error deleting message:",D)})};return w.jsxs(Ye,{style:{maxWidth:l?300:"100%"},children:[w.jsxs(Ye,{direction:"row",sx:{width:"100%"},children:[w.jsx("label",{htmlFor:`upload-image-file-${t}`,children:w.jsx(In,{color:"primary",component:"span","aria-label":"upload picture",size:"small",sx:{border:"1px dashed #3f51b5",width:40,height:40},children:w.jsx(lf,{})})}),!r&&w.jsx(cf,{onSend:S,title:e??""})]}),s.map((C,D)=>w.jsxs(Ye,{direction:"row",spacing:1,alignItems:"center",children:[r&&w.jsx(In,{size:"small","aria-label":"delete",color:"error",onClick:()=>y(C.message_id),sx:{color:"#777",top:-10,"&:hover":{color:"red",backgroundColor:"rgba(255, 0, 0, 0.1)"}},children:w.jsx(Ao,{})}),w.jsxs(oo,{style:{fontSize:12,fontWeight:700},children:[C.username,":"]}),w.jsx(oo,{style:{fontSize:10,fontWeight:500},children:C.text})]},D)),w.jsxs(Ye,{direction:"row",spacing:1,children:[w.jsx(Ye,{direction:"row",spacing:1,useFlexGap:!0,sx:{flexWrap:"wrap",overflowY:"auto",height:150,width:"100%",minHeight:200},children:d.map((C,D)=>{const I=C.file_url?b(C.file_url):null;return w.jsxs(Ye,{direction:"column",alignItems:"center",spacing:1,sx:{width:"calc(33.33% - 8px)"},children:[I?f&&D===d.length-1?w.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:100},children:w.jsx(Zs,{size:24})}):w.jsx("a",{href:`${Ra()}/${I}`,target:"_blank",rel:"noreferrer",children:w.jsx("img",{src:`${Ra()}/${I}`,alt:`asset-${D}`,style:{maxWidth:100,maxHeight:100,borderRadius:4}})}):w.jsx(sf,{fontSize:"large"}),w.jsxs(Ye,{direction:"row",gap:0,children:[r&&w.jsx(In,{size:"small","aria-label":"delete",color:"error",onClick:()=>x(C.message_id),sx:{color:"#777",top:-10,"&:hover":{color:"red",backgroundColor:"rgba(255, 0, 0, 0.1)"}},children:w.jsx(Ao,{})}),w.jsx(oo,{fontSize:12,sx:{maxWidth:100,whiteSpace:"nowrap"},children:I&&I.length>9?`${I.substring(0,9)}...`:I})]})]},D)})}),w.jsx("input",{accept:"image/*",style:{display:"none"},id:`upload-image-file-${t}`,type:"file",onChange:p},`file-change-${t}`)]})]})},cf=({title:e,onSend:t})=>{const[n,r]=m.useState(""),{userId:o,username:a,isMobile:i}=$t(),l=()=>{n.trim()!==""&&(t(n),r(""))},s=c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),l())};return w.jsxs(ec,{display:"flex",alignItems:"center",padding:1,borderTop:"1px solid #ccc",children:[w.jsx(uc,{placeholder:e,multiline:!0,maxRows:4,fullWidth:!0,variant:"standard",value:n,onChange:c=>r(c.target.value),onKeyPress:s,sx:{marginRight:1,minWidth:i?200:300}}),w.jsx(In,{color:"primary",onClick:l,"aria-label":"send message",children:w.jsx(dc,{})})]})};Ne.extend(tf);Ne.extend(af);const{Text:uf}=xt,df=({form:e})=>{const{taskDetail:t,setTaskDetail:n}=At(),[r,o]=m.useState(t!=null&&t.start_time?Ne(t.start_time):null),[a,i]=m.useState(t!=null&&t.end_time?Ne(t.end_time):null),[l,s]=m.useState(null),[c,d]=m.useState(null);m.useEffect(()=>{if(o(t!=null&&t.start_time?Ne(t.start_time):null),i(t!=null&&t.end_time?Ne(t.end_time):null),t!=null&&t.start_time&&(t!=null&&t.end_time)){const g=Ne(t==null?void 0:t.start_time),v=Ne(t==null?void 0:t.end_time),h=v.diff(g,"day")+1;s(h>0?h:0);const p=Ne(),b=v.diff(p,"day")+1;d(b>0?b:0)}else s(null),d(null)},[t==null?void 0:t.start_time,t==null?void 0:t.end_time]),m.useEffect(()=>{if(e)if(console.log("TTY",t,e),t?e.setFieldsValue({type:t.type,reward:t.reward}):e.setFieldsValue({type:"",reward:0}),r&&a){const g=a.diff(r,"day")+1;s(g>0?g:0);const v=a.diff(Ne(),"day")+1;d(v>0?v:0)}else s(null),d(null)},[e,t,r,a]);const u=g=>{n(v=>v&&{...v,type:g})},{isMobile:f}=$t();return w.jsxs(Ye,{spacing:.5,sx:{minWidth:400,overflowX:"hidden"},children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[w.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-md bg-gradient-to-r from-orange-100 to-orange-200 flex items-center justify-center",children:w.jsx(oa,{className:"!text-orange-600 !text-xs sm:!text-sm"})}),w.jsx(uf,{strong:!0,className:"!text-gray-800 !text-sm sm:!text-base",children:e?"Thời gian & quy trình":(t==null?void 0:t.title)??""})]}),w.jsx(yc,{style:{overflowX:"hidden",padding:5,width:f?300:"",borderRadius:2,background:"#ddd"},children:w.jsxs(Cc,{sx:{"& .MuiTableCell-root":{padding:0}},children:[e&&w.jsxs(ao,{style:{maxWidth:150},children:[w.jsx(Zt,{children:w.jsx(Ga,{form:e,mode:"start_time",title:"Bắt đầu",taskDetail:t,timeValue:r,onChange:g=>o(g),disabledDateFunc:g=>g&&g<Ne().startOf("day")})}),w.jsxs(Zt,{children:[w.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-1.5",children:[w.jsx("div",{className:"w-1 h-1 bg-orange-500 rounded-full"}),w.jsx("span",{className:"text-gray-800 font-medium text-xs sm:text-sm",children:"Tổng"})]}),w.jsx("div",{className:"bg-cyan-600 text-white px-3 py-2 rounded-lg text-xs sm:text-sm font-bold text-center shadow-md h-9 sm:h-10 flex items-center justify-center",children:l!==null?`⏱️ ${l} ngày`:"-"})]})]}),w.jsxs(ao,{style:{maxWidth:150},children:[w.jsx(Zt,{style:{maxWidth:150},children:e?w.jsx(Ga,{form:e,mode:"end_time",title:"Kết thúc",taskDetail:t,timeValue:a,onChange:g=>i(g),disabledDateFunc:g=>g&&g<Ne(t==null?void 0:t.start_time).startOf("day")}):w.jsxs(xt,{children:["Đến ",w.jsx("span",{style:{color:"#0092b8"},children:(t==null?void 0:t.end_time)??""})]})}),w.jsxs(Zt,{style:{maxWidth:150},children:[w.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-1.5",children:[w.jsx("div",{className:"w-1 h-1 bg-orange-500 rounded-full"}),w.jsx("span",{className:"text-gray-800 font-medium text-xs sm:text-sm",children:"Còn lại"})]}),w.jsx("div",{className:"bg-cyan-600 text-white px-3 py-2 rounded-lg text-xs sm:text-sm font-bold text-center shadow-md h-9 sm:h-10 flex items-center justify-center",children:!c||c===0?"Hết hạn":`${c} ngày`})]})]}),w.jsx(ao,{}),w.jsx(Zt,{style:{maxWidth:150},children:e?w.jsxs(ot.Item,{name:"type",rules:[{required:!1,message:"Chọn hình thức làm việc"}],className:"!mb-0",style:{minWidth:300},children:[w.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[w.jsx("div",{className:"w-1 h-1 bg-orange-500 rounded-full"}),w.jsx("span",{className:"text-gray-800 font-medium text-xs sm:text-sm",children:"Trả lương"})]}),w.jsxs(Yt,{placeholder:"Chọn hình thức",size:"middle",style:{width:150},value:t==null?void 0:t.type,onChange:u,children:[w.jsx(Yt.Option,{value:"REWARD",children:"💼 Công khoán"}),w.jsx(Yt.Option,{value:"MONTHLY",children:"📅 Lương tháng"})]})]}):w.jsx(xt,{style:{fontWeight:700,color:"#0092b8"},children:"Phụ cấp"})}),w.jsx(Zt,{style:{maxWidth:150},children:e?w.jsxs(ot.Item,{name:"reward",rules:[{required:!1,message:"Nhập mức lương"}],className:"!mb-0",style:{minWidth:300},children:[w.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[w.jsx("div",{className:"w-1 h-1 bg-orange-500 rounded-full"}),w.jsx("span",{className:"text-gray-800 font-medium text-xs sm:text-sm",children:t&&(t==null?void 0:t.type)==="REWARD"?"Tiền công":"Phụ cấp"})]}),w.jsx(Sc,{style:{maxWidth:150},size:"large",controls:!1,placeholder:"Nhập mức lương",className:"!w-full !rounded-lg !border !transition-all !duration-200 !text-xs sm:!text-sm !shadow-sm",min:0,step:1e3,value:t==null?void 0:t.reward,formatter:g=>`${g??0}`.replace(/\B(?=(\d{3})+(?!\d))/g,"."),parser:g=>{if(!g)return 0;const v=g.replace(/\./g,"");return Number(v)||0},onBlur:g=>{const h=g.target.value.replace(/\./g,""),p=Number(h)||0;n(b=>b&&{...b,reward:p})}})]}):w.jsx(xt,{style:{fontWeight:700,color:"#0092b8"},children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format((t==null?void 0:t.reward)||0)})})]})}),(t==null?void 0:t.type)==="REWARD"&&e&&w.jsx(_o,{title:"Ứng tiền cho thầu phụ",type:"cash"},"cash-assets")]})};function Ga({taskDetail:e,mode:t,title:n,timeValue:r,disabledDateFunc:o,form:a,onChange:i}){m.useEffect(()=>{a&&(console.log("TIME",t,r),a.setFieldsValue({[t]:r}))},[r]);const l=c=>{if(c){const d=c.hour(0).minute(0).second(0).millisecond(0);a&&a.setFieldsValue({[t]:d}),e&&(t==="end_time"?e.end_time=d:e.start_time=d),i&&i(d)}else a&&a.setFieldsValue({[t]:null}),e&&(t==="end_time"?e.end_time=null:e.start_time=null),i&&i(null)},s=a?a.getFieldValue(t):null;return w.jsxs(ot.Item,{name:t,rules:[{required:!0,message:"Chọn ngày"}],className:"!mb-0",children:[w.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[w.jsx("div",{className:"w-1 h-1 bg-orange-500 rounded-full"}),w.jsx("span",{className:"text-gray-800 font-medium text-xs sm:text-sm",children:n}),w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx(cn,{className:"!flex-1 !h-9 sm:!h-10 !text-xs sm:!text-sm !rounded-lg !border !border-gray-300 focus:!border-cyan-500 focus:!shadow-lg hover:!border-cyan-500 !transition-all !duration-200 !shadow-sm",format:"DD/MM/YYYY",placeholder:"Chọn ngày",onChange:l,value:s,size:"middle",disabledDate:o})]})}const{Text:ff}=xt,mf=({currentStatus:e,taskDetail:t,form:n})=>(m.useEffect(()=>{t?n.setFieldsValue({title:t.title||""}):n.setFieldsValue({title:""})},[t,n]),w.jsxs(Ye,{style:{minWidth:400},children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[w.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-md bg-gradient-to-r from-cyan-500/10 to-cyan-600/10 flex items-center justify-center",children:w.jsx(qd,{className:"!text-cyan-600 !text-xs sm:!text-sm"})}),w.jsx(ff,{strong:!0,className:"!text-gray-800 !text-sm sm:!text-base",children:"Thông tin"})]}),w.jsx(Ye,{direction:"row",spacing:1,children:w.jsx(ot.Item,{name:"title",rules:[{required:!0,message:"Vui lòng nhập tên công việc"},{min:3,message:"Ít nhất 3 ký tự"}],className:"!mb-0 w-110",children:w.jsx(Ko,{placeholder:"Nhập tên công việc...",className:"w-full !h-9 sm:!h-10 !text-xs sm:!text-sm !rounded-lg !border !border-gray-300 focus:!border-cyan-500 focus:!shadow-lg hover:!border-cyan-500 !transition-all !duration-200 !shadow-sm",size:"middle"})})})]})),{Text:mo}=xt,gf=({form:e,users:t,mode:n,searchValue:r,setSearchValue:o,selectedCustomer:a,setSelectedCustomer:i})=>{const[l,s]=m.useState([]),c=n==="customer"?"khách hàng":"nhân viên",d=g=>{if(o(g),!g){s(t.map(p=>({value:p.fullName||"",label:w.jsxs("div",{children:[w.jsx("div",{children:p.fullName}),w.jsxs("small",{children:[p.phone||"","workAddress"in p&&p.workAddress?`• ${p.workAddress}`:"","role"in p&&p.role?`• ${p.role}`:""]})]})})));return}const v=f(g),h=t.filter(p=>p.fullName?f(p.fullName).includes(v):!1);s(h.map(p=>({value:p.fullName||"",label:w.jsxs("div",{children:[w.jsx("div",{children:p.fullName}),w.jsxs("small",{children:[p.phone||""," ","workAddress"in p&&p.workAddress?`• ${p.workAddress}`:"","role"in p&&p.role?`• ${p.role}`:""]})]})})))},u=g=>{const v=t.find(h=>h.fullName===g)||null;i(v),e.setFieldsValue({[n]:g})};function f(g){return g?(g=String(g).toLowerCase(),g=g.normalize("NFD").replace(/[\u0300-\u036f]/g,""),g=g.replace(/đ/g,"d"),g):""}return w.jsxs(w.Fragment,{children:[w.jsx(ot.Item,{label:`Tìm ${c}`,name:n,className:"mb-3",children:w.jsx(Qo,{style:{minWidth:200,maxWidth:300},options:l,value:r,onSearch:d,onSelect:u,placeholder:`Nhập tên hoặc số điện thoại ${c}`,allowClear:!0})}),a&&w.jsxs("div",{children:[w.jsxs(mo,{strong:!0,children:["Tên ",c,":"]})," ",a.fullName||"-"," ",w.jsx("br",{}),w.jsx(mo,{strong:!0,children:"Số điện thoại:"})," ",a.phone?w.jsx("a",{href:`tel:${a.phone.replace(/\s/g,"")}`,children:a.phone}):"-"," ",w.jsx("br",{}),a.workAddress&&w.jsxs(w.Fragment,{children:[w.jsx(mo,{strong:!0,children:"Địa chỉ làm việc:"})," ",a.workAddress]})]})]})},{Text:pf}=xt,{TextArea:vf}=Ko,hf=({form:e})=>{const{taskDetail:t,setTaskDetail:n}=At(),[r,o]=m.useState("task");return m.useEffect(()=>{t?e.setFieldsValue({description:t.description}):e.setFieldsValue({description:""})},[t,e]),w.jsxs(Ye,{style:{minWidth:400},children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[w.jsx("span",{className:"text-green-600 text-xs sm:text-sm",children:"📝"}),w.jsx(pf,{strong:!0,className:"!text-gray-800 !text-sm sm:!text-base",children:"Mô tả công việc"})]}),w.jsx(ot.Item,{name:"description",className:"!mb-0",children:w.jsx(vf,{rows:3,showCount:!0,maxLength:1e3,placeholder:"Mô tả chi tiết về công việc cần thực hiện...",className:"!rounded-lg !border !border-gray-300 focus:!border-cyan-500 focus:!shadow-lg hover:!border-cyan-500 !transition-all !duration-200 !shadow-sm !resize-none !text-xs sm:!text-sm h-40"})}),w.jsx(hc,{activeKey:r,onChange:a=>o(a),items:[{key:"task",label:"Tài Liệu",children:w.jsx(_o,{title:"Thông tin admin đưa ra",type:"task"})},{key:"comments",label:"Bình luận",children:w.jsx(_o,{title:"Bình luận cho mọi người",type:"comment"})}]})]})},{Title:bf,Text:nb}=xt;function xf({onSuccess:e,onUpdate:t}){const{taskDetail:n,isLoading:r,updateTaskStatus:o}=At();if(!m.useContext(wr))throw new Error("UpdateButtonContext not found");const[i,l]=m.useState(!1);m.useEffect(()=>{l((n==null?void 0:n.status)==="REWARD")},[n]);const s=async()=>{if(n&&o){try{await o(n.id,"REWARD"),console.log("Nghiệm thu thành công!",n)}catch(c){console.error("Lỗi nghiệm thu:",c)}e&&e()}};return w.jsxs(Ye,{direction:"row",spacing:5,children:[w.jsxs("div",{className:"flex items-center gap-2 px-4 py-3",children:[w.jsx("div",{className:"icon-container"}),w.jsx("div",{children:w.jsx(bf,{level:5,children:n?"Cập nhật công việc":"Tạo công việc mới"})})]}),w.jsx(Ye,{direction:"row",spacing:1,children:!i&&((n==null?void 0:n.status)!=="DONE"?w.jsx(tn,{type:"primary",onClick:t,children:"✅ Cập nhật"}):w.jsx(tn,{type:"primary",onClick:s,children:"🏆 Nghiệm Thu"}))})]})}const{Title:rb,Text:ob}=xt,yf={maxWidth:400,minWidth:400};function Cf({open:e,onCancel:t,onSuccess:n,users:r}){const{workspaceId:o}=$t(),{taskDetail:a,setTaskDetail:i}=At(),l=m.useContext(wr);if(!l)throw new Error("UpdateButtonContext not found");const{setShowUpdateButton:s}=l,[c]=ot.useForm(),[d,u]=m.useState(""),[f,g]=m.useState(""),[v,h]=m.useState(null),[p,b]=m.useState(null),[x,S]=m.useState([]);m.useEffect(()=>{if(!a||!(a!=null&&a.assign_ids))return;const E=a==null?void 0:a.assign_ids.map(R=>r.find(P=>P.user_id===R)).filter(R=>R!==void 0);S(E),(a==null?void 0:a.status)==="DONE"&&(a!=null&&a.check_reward)?s(1):(a==null?void 0:a.status)==="REWARD"?s(2):s(0)},[a]);const y=E=>{const R=x.filter(P=>P.user_id!==E);S(R)};m.useEffect(()=>{p&&S(E=>E.some(P=>P.user_id===p.user_id)?E:[...E,{user_id:p.user_id,fullName:p.fullName??null,role:p.role??"",phone:p.phone??"",workAddress:p.workAddress??""}])},[p]);const[C,D]=m.useState(!1),I=async()=>{try{D(!0);const E=await c.validateFields();console.log("values",c.getFieldsValue());const R={...E,start_time:E.start_time?E.start_time.format("YYYY-MM-DD"):null,end_time:E.end_time?E.end_time.format("YYYY-MM-DD"):null};if(a){const P=JSON.stringify(R);console.log("Update_JSON_values",P);const k=await fetch(`${Pt()}/task/${a.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:P});if(k.ok){const $=await k.json();console.log("Cập nhật công việc thành công!",a.id,$)}else throw new Error("Cập nhật công việc thất bại")}else{R.status="OPEN";const P=JSON.stringify(R);if(console.log("New_JSON_values",P),(await fetch(`${Pt()}/task/`,{method:"POST",headers:{"Content-Type":"application/json"},body:P})).ok)console.log("Tạo công việc thành công!");else throw new Error("Tạo công việc thất bại")}n&&n()}catch(E){console.error("Update error:",E)}finally{D(!1)}};return m.useEffect(()=>{c.setFieldsValue({assign_ids:x?x.map(E=>E.user_id):[]})},[x,c]),m.useEffect(()=>{g(""),b(null),u(""),h(null),a!=null&&a.id||S([]),c.setFieldValue("workspace_id",o)},[a,o]),w.jsxs(Sr,{open:e,onCancel:t,footer:null,width:900,children:[w.jsx(xf,{onUpdate:I,onSuccess:n}),w.jsx(ot,{form:c,style:{overflowX:"hidden",maxHeight:"90vh",overflowY:"auto"},children:w.jsxs(Ye,{spacing:1,children:[w.jsx(ot.Item,{name:"workspace_id",initialValue:o,hidden:!0}),w.jsx(ot.Item,{name:"assign_ids",initialValue:x==null?void 0:x.map(E=>E.user_id),hidden:!0}),w.jsxs(Ye,{direction:"row",spacing:2,children:[w.jsx(mf,{taskDetail:a??null,currentStatus:(a==null?void 0:a.status)??"",form:c}),w.jsxs(Ye,{style:yf,children:[w.jsx(gf,{form:c,mode:"user",users:r,searchValue:f,setSearchValue:g,selectedCustomer:p,setSelectedCustomer:b}),x&&x.map(E=>w.jsx(Sf,{user:E,onDelete:y}))]})]}),w.jsxs(Ye,{direction:"row",spacing:5,children:[w.jsx(hf,{form:c}),w.jsx(df,{form:c})]})]})})]})}const Sf=({user:e,onDelete:t})=>w.jsxs(Ye,{direction:"row",spacing:1,alignItems:"center",children:[w.jsx(xt,{children:e.fullName}),w.jsx("button",{onClick:()=>t&&t(e.user_id),style:{color:"red",cursor:"pointer",background:"transparent",border:"none",fontSize:"16px"},"aria-label":`Xóa ${e.fullName}`,type:"button",children:"×"})]});function nt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wf=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ua=wf,qa=()=>Math.random().toString(36).substring(7).split("").join("."),Df={INIT:`@@redux/INIT${qa()}`,REPLACE:`@@redux/REPLACE${qa()}`},Ka=Df;function If(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Nl(e,t,n){if(typeof e!="function")throw new Error(nt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nt(1));return n(Nl)(e,t)}let r=e,o=t,a=new Map,i=a,l=0,s=!1;function c(){i===a&&(i=new Map,a.forEach((p,b)=>{i.set(b,p)}))}function d(){if(s)throw new Error(nt(3));return o}function u(p){if(typeof p!="function")throw new Error(nt(4));if(s)throw new Error(nt(5));let b=!0;c();const x=l++;return i.set(x,p),function(){if(b){if(s)throw new Error(nt(6));b=!1,c(),i.delete(x),a=null}}}function f(p){if(!If(p))throw new Error(nt(7));if(typeof p.type>"u")throw new Error(nt(8));if(typeof p.type!="string")throw new Error(nt(17));if(s)throw new Error(nt(9));try{s=!0,o=r(o,p)}finally{s=!1}return(a=i).forEach(x=>{x()}),p}function g(p){if(typeof p!="function")throw new Error(nt(10));r=p,f({type:Ka.REPLACE})}function v(){const p=u;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(nt(11));function x(){const y=b;y.next&&y.next(d())}return x(),{unsubscribe:p(x)}},[Ua](){return this}}}return f({type:Ka.INIT}),{dispatch:f,subscribe:u,getState:d,replaceReducer:g,[Ua]:v}}function Xa(e,t){return function(...n){return t(e.apply(this,n))}}function Qa(e,t){if(typeof e=="function")return Xa(e,t);if(typeof e!="object"||e===null)throw new Error(nt(16));const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=Xa(o,t))}return n}function Ml(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Ef(...e){return t=>(n,r)=>{const o=t(n,r);let a=()=>{throw new Error(nt(15))};const i={getState:o.getState,dispatch:(s,...c)=>a(s,...c)},l=e.map(s=>s(i));return a=Ml(...l)(o.dispatch),{...o,dispatch:a}}}var go={exports:{}},po={},Ja;function Pf(){if(Ja)return po;Ja=1;/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=tc();function t(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,a=e.useEffect,i=e.useMemo,l=e.useDebugValue;return po.useSyncExternalStoreWithSelector=function(s,c,d,u,f){var g=o(null);if(g.current===null){var v={hasValue:!1,value:null};g.current=v}else v=g.current;g=i(function(){function p(C){if(!b){if(b=!0,x=C,C=u(C),f!==void 0&&v.hasValue){var D=v.value;if(f(D,C))return S=D}return S=C}if(D=S,n(x,C))return D;var I=u(C);return f!==void 0&&f(D,I)?(x=C,D):(x=C,S=I)}var b=!1,x,S,y=d===void 0?null:d;return[function(){return p(c())},y===null?void 0:function(){return p(y())}]},[c,d,u,f]);var h=r(s,g[0],g[1]);return a(function(){v.hasValue=!0,v.value=h},[h]),l(h),h},po}var Za;function Rf(){return Za||(Za=1,go.exports=Pf()),go.exports}Rf();var Nf=m.version.startsWith("19"),Mf=Symbol.for(Nf?"react.transitional.element":"react.element"),kf=Symbol.for("react.portal"),$f=Symbol.for("react.fragment"),Of=Symbol.for("react.strict_mode"),Tf=Symbol.for("react.profiler"),Af=Symbol.for("react.consumer"),_f=Symbol.for("react.context"),kl=Symbol.for("react.forward_ref"),Ff=Symbol.for("react.suspense"),Bf=Symbol.for("react.suspense_list"),aa=Symbol.for("react.memo"),Lf=Symbol.for("react.lazy"),jf=kl,Vf=aa;function Hf(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case Mf:switch(e=e.type,e){case $f:case Tf:case Of:case Ff:case Bf:return e;default:switch(e=e&&e.$$typeof,e){case _f:case kl:case Lf:case aa:return e;case Af:return e;default:return t}}case kf:return t}}}function Wf(e){return Hf(e)===aa}function Yf(e,t,n,r,{areStatesEqual:o,areOwnPropsEqual:a,areStatePropsEqual:i}){let l=!1,s,c,d,u,f;function g(x,S){return s=x,c=S,d=e(s,c),u=t(r,c),f=n(d,u,c),l=!0,f}function v(){return d=e(s,c),t.dependsOnOwnProps&&(u=t(r,c)),f=n(d,u,c),f}function h(){return e.dependsOnOwnProps&&(d=e(s,c)),t.dependsOnOwnProps&&(u=t(r,c)),f=n(d,u,c),f}function p(){const x=e(s,c),S=!i(x,d);return d=x,S&&(f=n(d,u,c)),f}function b(x,S){const y=!a(S,c),C=!o(x,s,S,c);return s=x,c=S,y&&C?v():y?h():C?p():f}return function(S,y){return l?b(S,y):g(S,y)}}function zf(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...o}){const a=t(e,o),i=n(e,o),l=r(e,o);return Yf(a,i,l,e,o)}function Gf(e,t){const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=(...a)=>t(o(...a)))}return n}function Fo(e){return function(n){const r=e(n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function ei(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function $l(e,t){return function(r,{displayName:o}){const a=function(l,s){return a.dependsOnOwnProps?a.mapToProps(l,s):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,s){a.mapToProps=e,a.dependsOnOwnProps=ei(e);let c=a(l,s);return typeof c=="function"&&(a.mapToProps=c,a.dependsOnOwnProps=ei(c),c=a(l,s)),c},a}}function ia(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function Uf(e){return e&&typeof e=="object"?Fo(t=>Gf(e,t)):e?typeof e=="function"?$l(e):ia(e,"mapDispatchToProps"):Fo(t=>({dispatch:t}))}function qf(e){return e?typeof e=="function"?$l(e):ia(e,"mapStateToProps"):Fo(()=>({}))}function Kf(e,t,n){return{...n,...e,...t}}function Xf(e){return function(n,{displayName:r,areMergedPropsEqual:o}){let a=!1,i;return function(s,c,d){const u=e(s,c,d);return a?o(u,i)||(i=u):(a=!0,i=u),i}}}function Qf(e){return e?typeof e=="function"?Xf(e):ia(e,"mergeProps"):()=>Kf}function Jf(e){e()}function Zf(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Jf(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var ti={notify(){},get:()=>[]};function Ol(e,t){let n,r=ti,o=0,a=!1;function i(h){d();const p=r.subscribe(h);let b=!1;return()=>{b||(b=!0,p(),u())}}function l(){r.notify()}function s(){v.onStateChange&&v.onStateChange()}function c(){return a}function d(){o++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=Zf())}function u(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=ti)}function f(){a||(a=!0,d())}function g(){a&&(a=!1,u())}const v={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:s,isSubscribed:c,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>r};return v}var em=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tm=em(),nm=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rm=nm(),om=()=>tm||rm?m.useLayoutEffect:m.useEffect,mr=om();function ni(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function vo(e,t){if(ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!ni(e[n[o]],t[n[o]]))return!1;return!0}var am={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},im={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},lm={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Tl={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sm={[jf]:lm,[Vf]:Tl};function ri(e){return Wf(e)?Tl:sm[e.$$typeof]||am}var cm=Object.defineProperty,um=Object.getOwnPropertyNames,oi=Object.getOwnPropertySymbols,dm=Object.getOwnPropertyDescriptor,fm=Object.getPrototypeOf,ai=Object.prototype;function Bo(e,t){if(typeof t!="string"){if(ai){const a=fm(t);a&&a!==ai&&Bo(e,a)}let n=um(t);oi&&(n=n.concat(oi(t)));const r=ri(e),o=ri(t);for(let a=0;a<n.length;++a){const i=n[a];if(!im[i]&&!(o&&o[i])&&!(r&&r[i])){const l=dm(t,i);try{cm(e,i,l)}catch{}}}}return e}var ho=Symbol.for("react-redux-context"),bo=typeof globalThis<"u"?globalThis:{};function mm(){if(!m.createContext)return{};const e=bo[ho]??(bo[ho]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var Al=mm(),gm=[null,null];function pm(e,t,n){mr(()=>e(...t),n)}function vm(e,t,n,r,o,a){e.current=r,n.current=!1,o.current&&(o.current=null,a())}function hm(e,t,n,r,o,a,i,l,s,c,d){if(!e)return()=>{};let u=!1,f=null;const g=()=>{if(u||!l.current)return;const h=t.getState();let p,b;try{p=r(h,o.current)}catch(x){b=x,f=x}b||(f=null),p===a.current?i.current||c():(a.current=p,s.current=p,i.current=!0,d())};return n.onStateChange=g,n.trySubscribe(),g(),()=>{if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function bm(e,t){return e===t}function xm(e,t,n,{pure:r,areStatesEqual:o=bm,areOwnPropsEqual:a=vo,areStatePropsEqual:i=vo,areMergedPropsEqual:l=vo,forwardRef:s=!1,context:c=Al}={}){const d=c,u=qf(e),f=Uf(t),g=Qf(n),v=!!e;return p=>{const b=p.displayName||p.name||"Component",x=`Connect(${b})`,S={shouldHandleStateChanges:v,displayName:x,wrappedComponentName:b,WrappedComponent:p,initMapStateToProps:u,initMapDispatchToProps:f,initMergeProps:g,areStatesEqual:o,areStatePropsEqual:i,areOwnPropsEqual:a,areMergedPropsEqual:l};function y(I){const[E,R,P]=m.useMemo(()=>{const{reactReduxForwardedRef:re,...ae}=I;return[I.context,re,ae]},[I]),k=m.useMemo(()=>{let re=d;return E!=null&&E.Consumer,re},[E,d]),$=m.useContext(k),_=!!I.store&&!!I.store.getState&&!!I.store.dispatch,M=!!$&&!!$.store,N=_?I.store:$.store,A=M?$.getServerState:N.getState,B=m.useMemo(()=>zf(N.dispatch,S),[N]),[L,W]=m.useMemo(()=>{if(!v)return gm;const re=Ol(N,_?void 0:$.subscription),ae=re.notifyNestedSubs.bind(re);return[re,ae]},[N,_,$]),j=m.useMemo(()=>_?$:{...$,subscription:L},[_,$,L]),O=m.useRef(void 0),T=m.useRef(P),F=m.useRef(void 0),V=m.useRef(!1),J=m.useRef(!1),q=m.useRef(void 0);mr(()=>(J.current=!0,()=>{J.current=!1}),[]);const G=m.useMemo(()=>()=>F.current&&P===T.current?F.current:B(N.getState(),P),[N,P]),K=m.useMemo(()=>ae=>L?hm(v,N,L,B,T,O,V,J,F,W,ae):()=>{},[L]);pm(vm,[T,O,V,P,F,W]);let X;try{X=m.useSyncExternalStore(K,G,A?()=>B(A(),P):G)}catch(re){throw q.current&&(re.message+=`
The error may be correlated with this previous error:
${q.current.stack}

`),re}mr(()=>{q.current=void 0,F.current=void 0,O.current=X});const Q=m.useMemo(()=>m.createElement(p,{...X,ref:R}),[R,p,X]);return m.useMemo(()=>v?m.createElement(k.Provider,{value:j},Q):Q,[k,Q,j])}const D=m.memo(y);if(D.WrappedComponent=p,D.displayName=y.displayName=x,s){const E=m.forwardRef(function(P,k){return m.createElement(D,{...P,reactReduxForwardedRef:k})});return E.displayName=x,E.WrappedComponent=p,Bo(E,p)}return Bo(D,p)}}var _l=xm;function ym(e){const{children:t,context:n,serverState:r,store:o}=e,a=m.useMemo(()=>{const s=Ol(o);return{store:o,subscription:s,getServerState:r?()=>r:void 0}},[o,r]),i=m.useMemo(()=>o.getState(),[o]);mr(()=>{const{subscription:s}=a;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),i!==o.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[a,i]);const l=n||Al;return m.createElement(l.Provider,{value:a},t)}var Cm=ym,Sm="Invariant failed";function wm(e,t){throw new Error(Sm)}var pt=function(t){var n=t.top,r=t.right,o=t.bottom,a=t.left,i=r-a,l=o-n,s={top:n,right:r,bottom:o,left:a,width:i,height:l,x:a,y:n,center:{x:(r+a)/2,y:(o+n)/2}};return s},la=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},ii=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Dm=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},xo={top:0,right:0,bottom:0,left:0},sa=function(t){var n=t.borderBox,r=t.margin,o=r===void 0?xo:r,a=t.border,i=a===void 0?xo:a,l=t.padding,s=l===void 0?xo:l,c=pt(la(n,o)),d=pt(ii(n,i)),u=pt(ii(d,s));return{marginBox:c,borderBox:pt(n),paddingBox:d,contentBox:u,margin:o,border:i,padding:s}},ct=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var o=Number(n);return isNaN(o)&&wm(),o},Im=function(){return{x:window.pageXOffset,y:window.pageYOffset}},gr=function(t,n){var r=t.borderBox,o=t.border,a=t.margin,i=t.padding,l=Dm(r,n);return sa({borderBox:l,border:o,margin:a,padding:i})},pr=function(t,n){return n===void 0&&(n=Im()),gr(t,n)},Fl=function(t,n){var r={top:ct(n.marginTop),right:ct(n.marginRight),bottom:ct(n.marginBottom),left:ct(n.marginLeft)},o={top:ct(n.paddingTop),right:ct(n.paddingRight),bottom:ct(n.paddingBottom),left:ct(n.paddingLeft)},a={top:ct(n.borderTopWidth),right:ct(n.borderRightWidth),bottom:ct(n.borderBottomWidth),left:ct(n.borderLeftWidth)};return sa({borderBox:t,margin:r,padding:o,border:a})},Bl=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return Fl(n,r)},Nn=function(t){var n=[],r=null,o=function(){for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return o.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},o};function Ll(e,t){}Ll.bind(null,"warn");Ll.bind(null,"error");function Nt(){}function Em(e,t){return{...e,...t}}function dt(e,t,n){const r=t.map(o=>{const a=Em(n,o.options);return e.addEventListener(o.eventName,o.fn,a),function(){e.removeEventListener(o.eventName,o.fn,a)}});return function(){r.forEach(a=>{a()})}}const Pm="Invariant failed";class vr extends Error{}vr.prototype.toString=function(){return this.message};function Y(e,t){throw new vr(Pm)}class Rm extends $e.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Nt,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof vr&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=dt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof vr){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Nm=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,hr=e=>e+1,Mm=e=>`
  You have lifted an item in position ${hr(e.source.index)}
`,jl=(e,t)=>{const n=e.droppableId===t.droppableId,r=hr(e.index),o=hr(t.index);return n?`
      You have moved the item from position ${r}
      to position ${o}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${o}
  `},Vl=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,km=e=>{const t=e.destination;if(t)return jl(e.source,t);const n=e.combine;return n?Vl(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},li=e=>`
  The item has returned to its starting position
  of ${hr(e.index)}
`,$m=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${li(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${jl(e.source,t)}
    `:n?`
      You have dropped the item.
      ${Vl(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${li(e.source)}
  `},ur={dragHandleUsageInstructions:Nm,onDragStart:Mm,onDragUpdate:km,onDragEnd:$m};function Om(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function Hl(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Om(e[n],t[n]))return!1;return!0}function Ce(e,t){const n=m.useState(()=>({inputs:t,result:e()}))[0],r=m.useRef(!0),o=m.useRef(n),i=r.current||!!(t&&o.current.inputs&&Hl(t,o.current.inputs))?o.current:{inputs:t,result:e()};return m.useEffect(()=>{r.current=!1,o.current=i},[i]),i.result}function ne(e,t){return Ce(()=>e,t)}const Ge={x:0,y:0},Ke=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),at=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Mt=(e,t)=>e.x===t.x&&e.y===t.y,un=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Gt=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Mn=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),si=(e,t)=>Math.min(...t.map(n=>Mn(e,n))),Wl=e=>t=>({x:e(t.x),y:e(t.y)});var Tm=(e,t)=>{const n=pt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Bn=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),ci=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Am={top:0,right:0,bottom:0,left:0},_m=(e,t)=>t?Bn(e,t.scroll.diff.displacement):e,Fm=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,Bm=(e,t)=>t&&t.shouldClipSubject?Tm(t.pageMarginBox,e):pt(e);var nn=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const o=_m(e.marginBox,r),a=Fm(o,n,t),i=Bm(a,r);return{page:e,withPlaceholder:t,active:i}},ca=(e,t)=>{e.frame||Y();const n=e.frame,r=at(t,n.scroll.initial),o=un(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}},i=nn({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:i}};function ze(e,t=Hl){let n=null;function r(...o){if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;const a=e.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){n=null},r}const Yl=ze(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),zl=ze(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Nr=ze(e=>Object.values(e)),Lm=ze(e=>Object.values(e));var dn=ze((e,t)=>Lm(t).filter(r=>e===r.descriptor.droppableId).sort((r,o)=>r.descriptor.index-o.descriptor.index));function ua(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Mr(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var kr=ze((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),jm=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:o})=>{if(!n.isCombineEnabled||!ua(o))return null;function i(g){const v={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return{...o,at:v}}const l=o.displaced.all,s=l.length?l[0]:null;if(e)return s?i(s):null;const c=kr(t,r);if(!s){if(!c.length)return null;const g=c[c.length-1];return i(g.descriptor.id)}const d=c.findIndex(g=>g.descriptor.id===s);d===-1&&Y();const u=d-1;if(u<0)return null;const f=c[u];return i(f.descriptor.id)},fn=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Gl={point:Ge,value:0},kn={invisible:{},visible:{},all:[]},Vm={displaced:kn,displacedBy:Gl,at:null};var ft=(e,t)=>n=>e<=n&&n<=t,Ul=e=>{const t=ft(e.top,e.bottom),n=ft(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(a&&i)return!0;const s=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return s&&c?!0:s&&i||c&&a}},Hm=e=>{const t=ft(e.top,e.bottom),n=ft(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const da={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ql={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Wm=e=>t=>{const n=ft(t.top,t.bottom),r=ft(t.left,t.right);return o=>e===da?n(o.top)&&n(o.bottom):r(o.left)&&r(o.right)};const Ym=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Ge;return Bn(e,n)},zm=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,Gm=(e,t,n)=>n(t)(e),fa=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:o})=>{const a=r?Ym(e,t):e;return zm(a,t,o)&&Gm(a,n,o)},Um=e=>fa({...e,isVisibleThroughFrameFn:Ul}),Kl=e=>fa({...e,isVisibleThroughFrameFn:Hm}),qm=e=>fa({...e,isVisibleThroughFrameFn:Wm(e.destination.axis)}),Km=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:o}=t;if(r[e])return!1;const a=o[e];return a?a.shouldAnimate:!0};function Xm(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return pt(la(n,r))}function $n({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:o,last:a}){return e.reduce(function(l,s){const c=Xm(s,n),d=s.descriptor.id;if(l.all.push(d),!Um({target:c,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[s.descriptor.id]=!0,l;const f=Km(d,a,o),g={draggableId:d,shouldAnimate:f};return l.visible[d]=g,l},{all:[],visible:{},invisible:{}})}function Qm(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function ui({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const o=Qm(e,{inHomeList:t});return{displaced:kn,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function br({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:o,last:a,index:i,forceShouldAnimate:l}){const s=fn(e,n);if(i==null)return ui({insideDestination:t,inHomeList:s,displacedBy:o,destination:n});const c=t.find(v=>v.descriptor.index===i);if(!c)return ui({insideDestination:t,inHomeList:s,displacedBy:o,destination:n});const d=kr(e,t),u=t.indexOf(c),f=d.slice(u);return{displaced:$n({afterDragging:f,destination:n,displacedBy:o,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function Ot(e,t){return!!t.effected[e]}var Jm=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return Ot(a,o)?e?l:l-1:e?l+1:l},Zm=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const o=r.index,a=e?o+1:o-1,i=n[0].descriptor.index,l=n[n.length-1].descriptor.index,s=t?l:l+1;return a<i||a>s?null:a},eg=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:o,insideDestination:a,previousImpact:i,viewport:l,afterCritical:s})=>{const c=i.at;if(c||Y(),c.type==="REORDER"){const u=Zm({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:a});return u==null?null:br({draggable:n,insideDestination:a,destination:o,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:u})}const d=Jm({isMovingForward:e,destination:o,displaced:i.displaced,draggables:r,combine:c.combine,afterCritical:s});return d==null?null:br({draggable:n,insideDestination:a,destination:o,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:d})},tg=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const o=!!(e.visible[n]||e.invisible[n]);return Ot(n,t)?o?Ge:un(r.point):o?r.point:Ge},ng=({afterCritical:e,impact:t,draggables:n})=>{const r=Mr(t);r||Y();const o=r.draggableId,a=n[o].page.borderBox.center,i=tg({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return Ke(a,i)};const Xl=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,rg=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,ma=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,di=({axis:e,moveRelativeTo:t,isMoving:n})=>Gt(e.line,t.marginBox[e.end]+Xl(e,n),ma(e,t.marginBox,n)),fi=({axis:e,moveRelativeTo:t,isMoving:n})=>Gt(e.line,t.marginBox[e.start]-rg(e,n),ma(e,t.marginBox,n)),og=({axis:e,moveInto:t,isMoving:n})=>Gt(e.line,t.contentBox[e.start]+Xl(e,n),ma(e,t.contentBox,n));var ag=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o})=>{const a=dn(r.descriptor.id,n),i=t.page,l=r.axis;if(!a.length)return og({axis:l,moveInto:r.page,isMoving:i});const{displaced:s,displacedBy:c}=e,d=s.all[0];if(d){const f=n[d];if(Ot(d,o))return fi({axis:l,moveRelativeTo:f.page,isMoving:i});const g=gr(f.page,c.point);return fi({axis:l,moveRelativeTo:g,isMoving:i})}const u=a[a.length-1];if(u.descriptor.id===t.descriptor.id)return i.borderBox.center;if(Ot(u.descriptor.id,o)){const f=gr(u.page,un(o.displacedBy.point));return di({axis:l,moveRelativeTo:f,isMoving:i})}return di({axis:l,moveRelativeTo:u.page,isMoving:i})},Lo=(e,t)=>{const n=e.frame;return n?Ke(t,n.scroll.diff.displacement):t};const ig=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:o})=>{const a=t.page.borderBox.center,i=e.at;return!n||!i?a:i.type==="REORDER"?ag({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o}):ng({impact:e,draggables:r,afterCritical:o})};var $r=e=>{const t=ig(e),n=e.droppable;return n?Lo(n,t):t},Ql=(e,t)=>{const n=at(t,e.scroll.initial),r=un(n);return{frame:pt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function mi(e,t){return e.map(n=>t[n])}function lg(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var sg=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:o})=>{const a=Ql(t,Ke(t.scroll.current,o)),i=n.frame?ca(n,Ke(n.frame.scroll.current,o)):n,l=e.displaced,s=$n({afterDragging:mi(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),c=$n({afterDragging:mi(l.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),d={},u={},f=[l,s,c];return l.all.forEach(v=>{const h=lg(v,f);if(h){u[v]=h;return}d[v]=!0}),{...e,displaced:{all:l.all,invisible:d,visible:u}}},cg=(e,t)=>Ke(e.scroll.diff.displacement,t),ga=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=cg(n,e),o=at(r,t.page.borderBox.center);return Ke(t.client.borderBox.center,o)},Jl=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:o,onlyOnMainAxis:a=!1})=>{const i=at(n,e.page.borderBox.center),s={target:Bn(e.page.borderBox,i),destination:t,withDroppableDisplacement:o,viewport:r};return a?qm(s):Kl(s)},ug=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:o,viewport:a,previousPageBorderBoxCenter:i,previousClientSelection:l,afterCritical:s})=>{if(!n.isEnabled)return null;const c=dn(n.descriptor.id,r),d=fn(t,n),u=jm({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:o})||eg({isMovingForward:e,isInHomeList:d,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:o,viewport:a,afterCritical:s});if(!u)return null;const f=$r({impact:u,draggable:t,droppable:n,draggables:r,afterCritical:s});if(Jl({draggable:t,destination:n,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:ga({pageBorderBoxCenter:f,draggable:t,viewport:a}),impact:u,scrollJumpRequest:null};const v=at(f,i),h=sg({impact:u,viewport:a,destination:n,draggables:r,maxScrollChange:v});return{clientSelection:l,impact:h,scrollJumpRequest:v}};const tt=e=>{const t=e.subject.active;return t||Y(),t};var dg=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:o})=>{const a=n.subject.active;if(!a)return null;const i=n.axis,l=ft(a[i.start],a[i.end]),s=Nr(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>Ul(o.frame)(tt(d))).filter(d=>{const u=tt(d);return e?a[i.crossAxisEnd]<u[i.crossAxisEnd]:u[i.crossAxisStart]<a[i.crossAxisStart]}).filter(d=>{const u=tt(d),f=ft(u[i.start],u[i.end]);return l(u[i.start])||l(u[i.end])||f(a[i.start])||f(a[i.end])}).sort((d,u)=>{const f=tt(d)[i.crossAxisStart],g=tt(u)[i.crossAxisStart];return e?f-g:g-f}).filter((d,u,f)=>tt(d)[i.crossAxisStart]===tt(f[0])[i.crossAxisStart]);if(!s.length)return null;if(s.length===1)return s[0];const c=s.filter(d=>ft(tt(d)[i.start],tt(d)[i.end])(t[i.line]));return c.length===1?c[0]:c.length>1?c.sort((d,u)=>tt(d)[i.start]-tt(u)[i.start])[0]:s.sort((d,u)=>{const f=si(t,ci(tt(d))),g=si(t,ci(tt(u)));return f!==g?f-g:tt(d)[i.start]-tt(u)[i.start]})[0]};const gi=(e,t)=>{const n=e.page.borderBox.center;return Ot(e.descriptor.id,t)?at(n,t.displacedBy.point):n},fg=(e,t)=>{const n=e.page.borderBox;return Ot(e.descriptor.id,t)?Bn(n,un(t.displacedBy.point)):n};var mg=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:o})=>r.filter(i=>Kl({target:fg(i,o),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,l)=>{const s=Mn(e,Lo(n,gi(i,o))),c=Mn(e,Lo(n,gi(l,o)));return s<c?-1:c<s?1:i.descriptor.index-l.descriptor.index})[0]||null,Ln=ze(function(t,n){const r=n[t.line];return{value:r,point:Gt(t.line,r)}});const gg=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Gt(r.line,t[r.line]);const o=e.subject.page.contentBox[r.size],s=dn(e.descriptor.id,n).reduce((c,d)=>c+d.client.marginBox[r.size],0)+t[r.line]-o;return s<=0?null:Gt(r.line,s)},Zl=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),es=(e,t,n)=>{const r=e.frame;fn(t,e)&&Y(),e.subject.withPlaceholder&&Y();const o=Ln(e.axis,t.displaceBy).point,a=gg(e,o,n),i={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const d=nn({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:d}}const l=a?Ke(r.scroll.max,a):r.scroll.max,s=Zl(r,l),c=nn({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:s});return{...e,subject:c,frame:s}},pg=e=>{const t=e.subject.withPlaceholder;t||Y();const n=e.frame;if(!n){const i=nn({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const r=t.oldFrameMaxScroll;r||Y();const o=Zl(n,r),a=nn({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:a,frame:o}};var vg=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:o,destination:a,viewport:i,afterCritical:l})=>{if(!t){if(n.length)return null;const u={displaced:kn,displacedBy:Gl,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},f=$r({impact:u,draggable:r,droppable:a,draggables:o,afterCritical:l}),g=fn(r,a)?a:es(a,r,o);return Jl({draggable:r,destination:g,newPageBorderBoxCenter:f,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}const s=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],c=(()=>{const u=t.descriptor.index;return t.descriptor.id===r.descriptor.id||s?u:u+1})(),d=Ln(a.axis,r.displaceBy);return br({draggable:r,insideDestination:n,destination:a,viewport:i,displacedBy:d,last:kn,index:c})},hg=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:o,droppables:a,viewport:i,afterCritical:l})=>{const s=dg({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:i});if(!s)return null;const c=dn(s.descriptor.id,o),d=mg({pageBorderBoxCenter:t,viewport:i,destination:s,insideDestination:c,afterCritical:l}),u=vg({previousPageBorderBoxCenter:t,destination:s,draggable:n,draggables:o,moveRelativeTo:d,insideDestination:c,viewport:i,afterCritical:l});if(!u)return null;const f=$r({impact:u,draggable:n,droppable:s,draggables:o,afterCritical:l});return{clientSelection:ga({pageBorderBoxCenter:f,draggable:n,viewport:i}),impact:u,scrollJumpRequest:null}},it=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const bg=(e,t)=>{const n=it(e);return n?t[n]:null};var xg=({state:e,type:t})=>{const n=bg(e.impact,e.dimensions.droppables),r=!!n,o=e.dimensions.droppables[e.critical.droppable.id],a=n||o,i=a.axis.direction,l=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const s=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:u,droppables:f}=e.dimensions;return l?ug({isMovingForward:s,previousPageBorderBoxCenter:d,draggable:c,destination:a,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):hg({isMovingForward:s,previousPageBorderBoxCenter:d,draggable:c,isOver:a,draggables:u,droppables:f,viewport:e.viewport,afterCritical:e.afterCritical})};function Ht(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function ts(e){const t=ft(e.top,e.bottom),n=ft(e.left,e.right);return function(o){return t(o.y)&&n(o.x)}}function yg(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Cg({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,o=n.map(a=>{const i=a.axis,l=Gt(a.axis.line,e.center[i.line],a.page.borderBox.center[i.crossAxisLine]);return{id:a.descriptor.id,distance:Mn(r,l)}}).sort((a,i)=>i.distance-a.distance);return o[0]?o[0].id:null}function Sg({pageBorderBox:e,draggable:t,droppables:n}){const r=Nr(n).filter(o=>{if(!o.isEnabled)return!1;const a=o.subject.active;if(!a||!yg(e,a))return!1;if(ts(a)(e.center))return!0;const i=o.axis,l=a.center[i.crossAxisLine],s=e[i.crossAxisStart],c=e[i.crossAxisEnd],d=ft(a[i.crossAxisStart],a[i.crossAxisEnd]),u=d(s),f=d(c);return!u&&!f?!0:u?s<l:c>l});return r.length?r.length===1?r[0].descriptor.id:Cg({pageBorderBox:e,draggable:t,candidates:r}):null}const ns=(e,t)=>pt(Bn(e,t));var wg=(e,t)=>{const n=e.frame;return n?ns(t,n.scroll.diff.value):t};function rs({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Dg({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Ig=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:o,viewport:a,afterCritical:i})=>{const l=n.axis,s=Ln(n.axis,t.displaceBy),c=s.value,d=e[l.start],u=e[l.end],g=kr(t,r).find(h=>{const p=h.descriptor.id,b=h.page.borderBox.center[l.line],x=Ot(p,i),S=rs({displaced:o,id:p});return x?S?u<=b:d<b-c:S?u<=b+c:d<b})||null,v=Dg({draggable:t,closest:g,inHomeList:fn(t,n)});return br({draggable:t,insideDestination:r,destination:n,viewport:a,last:o,displacedBy:s,index:v})};const Eg=4;var Pg=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:o,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const i=r.axis,l=Ln(r.axis,e.displaceBy),s=l.value,c=t[i.start],d=t[i.end],f=kr(e,o).find(v=>{const h=v.descriptor.id,p=v.page.borderBox,x=p[i.size]/Eg,S=Ot(h,a),y=rs({displaced:n.displaced,id:h});return S?y?d>p[i.start]+x&&d<p[i.end]-x:c>p[i.start]-s+x&&c<p[i.end]-s-x:y?d>p[i.start]+s+x&&d<p[i.end]+s-x:c>p[i.start]+x&&c<p[i.end]-x});return f?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},os=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:o,viewport:a,afterCritical:i})=>{const l=ns(t.page.borderBox,e),s=Sg({pageBorderBox:l,draggable:t,droppables:r});if(!s)return Vm;const c=r[s],d=dn(c.descriptor.id,n),u=wg(c,l);return Pg({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:o,destination:c,insideDestination:d,afterCritical:i})||Ig({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:c,insideDestination:d,last:o.displaced,viewport:a,afterCritical:i})},pa=(e,t)=>({...e,[t.descriptor.id]:t});const Rg=({previousImpact:e,impact:t,droppables:n})=>{const r=it(e),o=it(t);if(!r||r===o)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const i=pg(a);return pa(n,i)};var Ng=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:o})=>{const a=Rg({previousImpact:r,impact:o,droppables:n}),i=it(o);if(!i)return a;const l=n[i];if(fn(e,l)||l.subject.withPlaceholder)return a;const s=es(l,e,t);return pa(a,s)},Pn=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:o,scrollJumpRequest:a})=>{const i=r||e.viewport,l=n||e.dimensions,s=t||e.current.client.selection,c=at(s,e.initial.client.selection),d={offset:c,selection:s,borderBoxCenter:Ke(e.initial.client.borderBoxCenter,c)},u={selection:Ke(d.selection,i.scroll.current),borderBoxCenter:Ke(d.borderBoxCenter,i.scroll.current),offset:Ke(d.offset,i.scroll.diff.value)},f={client:d,page:u};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:i,current:f};const g=l.draggables[e.critical.draggable.id],v=o||os({pageOffset:u.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),h=Ng({draggable:g,impact:v,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:f,dimensions:{draggables:l.draggables,droppables:h},impact:v,viewport:i,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function Mg(e,t){return e.map(n=>t[n])}var as=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:o})=>{const a=e.displaced,i=Mg(a.all,n),l=$n({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:a});return{...e,displaced:l}},is=({impact:e,draggable:t,droppable:n,draggables:r,viewport:o,afterCritical:a})=>{const i=$r({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return ga({pageBorderBoxCenter:i,draggable:t,viewport:o})},ls=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Y();const r=e.impact,o=n||e.viewport,a=t||e.dimensions,{draggables:i,droppables:l}=a,s=i[e.critical.draggable.id],c=it(r);c||Y();const d=l[c],u=as({impact:r,viewport:o,destination:d,draggables:i}),f=is({impact:u,draggable:s,droppable:d,draggables:i,viewport:o,afterCritical:e.afterCritical});return Pn({impact:u,clientSelection:f,state:e,dimensions:a,viewport:o})},kg=e=>({index:e.index,droppableId:e.droppableId}),ss=({draggable:e,home:t,draggables:n,viewport:r})=>{const o=Ln(t.axis,e.displaceBy),a=dn(t.descriptor.id,n),i=a.indexOf(e);i===-1&&Y();const l=a.slice(i+1),s=l.reduce((f,g)=>(f[g.descriptor.id]=!0,f),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:o,effected:s};return{impact:{displaced:$n({afterDragging:l,destination:t,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:kg(e.descriptor)}},afterCritical:c}},$g=(e,t)=>({draggables:e.draggables,droppables:pa(e.droppables,t)}),Og=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=gr(e.client,t),o=pr(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:o}},Tg=e=>{const t=e.frame;return t||Y(),t},Ag=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(o=>{const a=o.descriptor.droppableId,i=t[a],s=Tg(i).scroll.diff.value,c=Ke(r,s);return Og({draggable:o,offset:c,initialWindowScroll:n.scroll.initial})})},_g=({state:e,published:t})=>{const n=t.modified.map(b=>{const x=e.dimensions.droppables[b.droppableId];return ca(x,b.scroll)}),r={...e.dimensions.droppables,...Yl(n)},o=zl(Ag({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...o};t.removals.forEach(b=>{delete a[b]});const i={droppables:r,draggables:a},l=it(e.impact),s=l?i.droppables[l]:null,c=i.draggables[e.critical.draggable.id],d=i.droppables[e.critical.droppable.id],{impact:u,afterCritical:f}=ss({draggable:c,home:d,draggables:a,viewport:e.viewport}),g=s&&s.isCombineEnabled?e.impact:u,v=os({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:g,viewport:e.viewport,afterCritical:f}),h={...e,phase:"DRAGGING",impact:v,onLiftImpact:u,dimensions:i,afterCritical:f,forceShouldAnimate:!1};return e.phase==="COLLECTING"?h:{...h,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const jo=e=>e.movementMode==="SNAP",yo=(e,t,n)=>{const r=$g(e.dimensions,t);return!jo(e)||n?Pn({state:e,dimensions:r}):ls({state:e,dimensions:r})};function Co(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const pi={phase:"IDLE",completed:null,shouldFlush:!1};var Fg=(e=pi,t)=>{if(t.type==="FLUSH")return{...pi,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Y();const{critical:n,clientSelection:r,viewport:o,dimensions:a,movementMode:i}=t.payload,l=a.draggables[n.draggable.id],s=a.droppables[n.droppable.id],c={selection:r,borderBoxCenter:l.client.borderBox.center,offset:Ge},d={client:c,page:{selection:Ke(c.selection,o.scroll.initial),borderBoxCenter:Ke(c.selection,o.scroll.initial),offset:Ke(c.selection,o.scroll.diff.value)}},u=Nr(a.droppables).every(h=>!h.isFixedOnPage),{impact:f,afterCritical:g}=ss({draggable:l,home:s,draggables:a.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:a,initial:d,current:d,isWindowScrollAllowed:u,impact:f,afterCritical:g,onLiftImpact:f,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Y(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Y(),_g({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ht(e)||Y();const{client:n}=t.payload;return Mt(n,e.current.client.selection)?e:Pn({state:e,clientSelection:n,impact:jo(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Co(e);Ht(e)||Y();const{id:n,newScroll:r}=t.payload,o=e.dimensions.droppables[n];if(!o)return e;const a=ca(o,r);return yo(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ht(e)||Y();const{id:n,isEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||Y(),o.isEnabled===r&&Y();const a={...o,isEnabled:r};return yo(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ht(e)||Y();const{id:n,isCombineEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||Y(),o.isCombineEnabled===r&&Y();const a={...o,isCombineEnabled:r};return yo(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ht(e)||Y(),e.isWindowScrollAllowed||Y();const n=t.payload.newScroll;if(Mt(e.viewport.scroll.current,n))return Co(e);const r=Ql(e.viewport,n);return jo(e)?ls({state:e,viewport:r}):Pn({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ht(e))return e;const n=t.payload.maxScroll;if(Mt(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Y();const n=xg({state:e,type:t.type});return n?Pn({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Y(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:o}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Y(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Ie(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Bg=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),Lg=e=>({type:"LIFT",payload:e}),jg=e=>({type:"INITIAL_PUBLISH",payload:e}),Vg=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Hg=()=>({type:"COLLECTION_STARTING",payload:null}),Wg=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Yg=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),zg=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),cs=e=>({type:"MOVE",payload:e}),Gg=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),Ug=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),qg=()=>({type:"MOVE_UP",payload:null}),Kg=()=>({type:"MOVE_DOWN",payload:null}),Xg=()=>({type:"MOVE_RIGHT",payload:null}),Qg=()=>({type:"MOVE_LEFT",payload:null}),va=()=>({type:"FLUSH",payload:null}),Jg=e=>({type:"DROP_ANIMATE",payload:e}),ha=e=>({type:"DROP_COMPLETE",payload:e}),us=e=>({type:"DROP",payload:e}),Zg=e=>({type:"DROP_PENDING",payload:e}),ds=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var ep=e=>({getState:t,dispatch:n})=>r=>o=>{if(!Ie(o,"LIFT")){r(o);return}const{id:a,clientSelection:i,movementMode:l}=o.payload,s=t();s.phase==="DROP_ANIMATING"&&n(ha({completed:s.completed})),t().phase!=="IDLE"&&Y(),n(va()),n(Bg({draggableId:a,movementMode:l}));const d={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:u,dimensions:f,viewport:g}=e.startPublishing(d);n(jg({critical:u,dimensions:f,clientSelection:i,movementMode:l,viewport:g}))},tp=e=>()=>t=>n=>{Ie(n,"INITIAL_PUBLISH")&&e.dragging(),Ie(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Ie(n,"FLUSH")||Ie(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const ba={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},On={opacity:{drop:0,combining:.7},scale:{drop:.75}},fs={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Vt=`${fs.outOfTheWay}s ${ba.outOfTheWay}`,Rn={fluid:`opacity ${Vt}`,snap:`transform ${Vt}, opacity ${Vt}`,drop:e=>{const t=`${e}s ${ba.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Vt}`,placeholder:`height ${Vt}, width ${Vt}, margin ${Vt}`},vi=e=>Mt(e,Ge)?void 0:`translate(${e.x}px, ${e.y}px)`,Vo={moveTo:vi,drop:(e,t)=>{const n=vi(e);if(n)return t?`${n} scale(${On.scale.drop})`:n}},{minDropTime:Ho,maxDropTime:ms}=fs,np=ms-Ho,hi=1500,rp=.6;var op=({current:e,destination:t,reason:n})=>{const r=Mn(e,t);if(r<=0)return Ho;if(r>=hi)return ms;const o=r/hi,a=Ho+np*o,i=n==="CANCEL"?a*rp:a;return Number(i.toFixed(2))},ap=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:o})=>{const{draggables:a,droppables:i}=n,l=it(e),s=l?i[l]:null,c=i[t.descriptor.droppableId],d=is({impact:e,draggable:t,draggables:a,afterCritical:o,droppable:s||c,viewport:r});return at(d,t.client.borderBox.center)},ip=({draggables:e,reason:t,lastImpact:n,home:r,viewport:o,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:as({draggables:e,impact:a,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:kn},didDropInsideDroppable:!0};const lp=({getState:e,dispatch:t})=>n=>r=>{if(!Ie(r,"DROP")){n(r);return}const o=e(),a=r.payload.reason;if(o.phase==="COLLECTING"){t(Zg({reason:a}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&Y(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Y();const l=o.critical,s=o.dimensions,c=s.draggables[o.critical.draggable.id],{impact:d,didDropInsideDroppable:u}=ip({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),f=u?ua(d):null,g=u?Mr(d):null,v={index:l.draggable.index,droppableId:l.droppable.id},h={draggableId:c.descriptor.id,type:c.descriptor.type,source:v,reason:a,mode:o.movementMode,destination:f,combine:g},p=ap({impact:d,draggable:c,dimensions:s,viewport:o.viewport,afterCritical:o.afterCritical}),b={critical:o.critical,afterCritical:o.afterCritical,result:h,impact:d};if(!(!Mt(o.current.client.offset,p)||!!h.combine)){t(ha({completed:b}));return}const S=op({current:o.current.client.offset,destination:p,reason:a});t(Jg({newHomeClientOffset:p,dropDuration:S,completed:b}))};var gs=()=>({x:window.pageXOffset,y:window.pageYOffset});function sp(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function cp({onWindowScroll:e}){function t(){e(gs())}const n=Nn(t),r=sp(n);let o=Nt;function a(){return o!==Nt}function i(){a()&&Y(),o=dt(window,[r])}function l(){a()||Y(),n.cancel(),o(),o=Nt}return{start:i,stop:l,isActive:a}}const up=e=>Ie(e,"DROP_COMPLETE")||Ie(e,"DROP_ANIMATE")||Ie(e,"FLUSH"),dp=e=>{const t=cp({onWindowScroll:n=>{e.dispatch(Gg({newScroll:n}))}});return n=>r=>{!t.isActive()&&Ie(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&up(r)&&t.stop(),n(r)}};var fp=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),o=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return o.wasCalled=()=>t,o},mp=()=>{const e=[],t=o=>{const a=e.findIndex(l=>l.timerId===o);a===-1&&Y();const[i]=e.splice(a,1);i.callback()};return{add:o=>{const a=setTimeout(()=>t(a)),i={timerId:a,callback:o};e.push(i)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const gp=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,pp=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,vp=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},yn=(e,t)=>{t()},Zn=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function So(e,t,n,r){if(!e){n(r(t));return}const o=fp(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}var hp=(e,t)=>{const n=mp();let r=null;const o=(u,f)=>{r&&Y(),yn("onBeforeCapture",()=>{const g=e().onBeforeCapture;g&&g({draggableId:u,mode:f})})},a=(u,f)=>{r&&Y(),yn("onBeforeDragStart",()=>{const g=e().onBeforeDragStart;g&&g(Zn(u,f))})},i=(u,f)=>{r&&Y();const g=Zn(u,f);r={mode:f,lastCritical:u,lastLocation:g.source,lastCombine:null},n.add(()=>{yn("onDragStart",()=>So(e().onDragStart,g,t,ur.onDragStart))})},l=(u,f)=>{const g=ua(f),v=Mr(f);r||Y();const h=!vp(u,r.lastCritical);h&&(r.lastCritical=u);const p=!gp(r.lastLocation,g);p&&(r.lastLocation=g);const b=!pp(r.lastCombine,v);if(b&&(r.lastCombine=v),!h&&!p&&!b)return;const x={...Zn(u,r.mode),combine:v,destination:g};n.add(()=>{yn("onDragUpdate",()=>So(e().onDragUpdate,x,t,ur.onDragUpdate))})},s=()=>{r||Y(),n.flush()},c=u=>{r||Y(),r=null,yn("onDragEnd",()=>So(e().onDragEnd,u,t,ur.onDragEnd))};return{beforeCapture:o,beforeStart:a,start:i,update:l,flush:s,drop:c,abort:()=>{if(!r)return;const u={...Zn(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(u)}}},bp=(e,t)=>{const n=hp(e,t);return r=>o=>a=>{if(Ie(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Ie(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),o(a),n.start(l,a.payload.movementMode);return}if(Ie(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),o(a),n.drop(l);return}if(o(a),Ie(a,"FLUSH")){n.abort();return}const i=r.getState();i.phase==="DRAGGING"&&n.update(i.critical,i.impact)}};const xp=e=>t=>n=>{if(!Ie(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Y(),e.dispatch(ha({completed:r.completed}))},yp=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return o=>a=>{if((Ie(a,"FLUSH")||Ie(a,"DROP_COMPLETE")||Ie(a,"DROP_ANIMATION_FINISHED"))&&r(),o(a),!Ie(a,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(ds())}};n=requestAnimationFrame(()=>{n=null,t=dt(window,[i])})}};var Cp=e=>()=>t=>n=>{(Ie(n,"DROP_COMPLETE")||Ie(n,"FLUSH")||Ie(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},Sp=e=>{let t=!1;return()=>n=>r=>{if(Ie(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Ie(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Ie(r,"DROP_COMPLETE")){t=!1;const o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const wp=e=>Ie(e,"DROP_COMPLETE")||Ie(e,"DROP_ANIMATE")||Ie(e,"FLUSH");var Dp=e=>t=>n=>r=>{if(wp(r)){e.stop(),n(r);return}if(Ie(r,"INITIAL_PUBLISH")){n(r);const o=t.getState();o.phase!=="DRAGGING"&&Y(),e.start(o);return}n(r),e.scroll(t.getState())};const Ip=e=>t=>n=>{if(t(n),!Ie(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(us({reason:r.reason})))},Ep=Ml;var Pp=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:o,autoScroller:a})=>Nl(Fg,Ep(Ef(tp(n),Cp(e),ep(e),lp,xp,yp,Ip,Dp(a),dp,Sp(t),bp(r,o))));const wo=()=>({additions:{},removals:{},modified:{}});function Rp({registry:e,callbacks:t}){let n=wo(),r=null;const o=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:s,removals:c,modified:d}=n,u=Object.keys(s).map(v=>e.draggable.getById(v).getDimension(Ge)).sort((v,h)=>v.descriptor.index-h.descriptor.index),f=Object.keys(d).map(v=>{const p=e.droppable.getById(v).callbacks.getScrollWhileDragging();return{droppableId:v,scroll:p}}),g={additions:u,removals:Object.keys(c),modified:f};n=wo(),t.publish(g)}))};return{add:s=>{const c=s.descriptor.id;n.additions[c]=s,n.modified[s.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],o()},remove:s=>{const c=s.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],o()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=wo())}}}var ps=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const o=at({x:t,y:e},{x:r,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},vs=()=>{const e=document.documentElement;return e||Y(),e},hs=()=>{const e=vs();return ps({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Np=()=>{const e=gs(),t=hs(),n=e.y,r=e.x,o=vs(),a=o.clientWidth,i=o.clientHeight,l=r+a,s=n+i;return{frame:pt({top:n,left:r,right:l,bottom:s}),scroll:{initial:e,current:e,max:t,diff:{value:Ge,displacement:Ge}}}},Mp=({critical:e,scrollOptions:t,registry:n})=>{const r=Np(),o=r.scroll.current,a=e.droppable,i=n.droppable.getAllByType(a.type).map(d=>d.callbacks.getDimensionAndWatchScroll(o,t)),l=n.draggable.getAllByType(e.draggable.type).map(d=>d.getDimension(o));return{dimensions:{draggables:zl(l),droppables:Yl(i)},critical:e,viewport:r}};function bi(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var kp=(e,t)=>{let n=null;const r=Rp({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=(f,g)=>{e.droppable.exists(f)||Y(),n&&t.updateDroppableIsEnabled({id:f,isEnabled:g})},a=(f,g)=>{n&&(e.droppable.exists(f)||Y(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:g}))},i=(f,g)=>{n&&(e.droppable.exists(f)||Y(),t.updateDroppableScroll({id:f,newScroll:g}))},l=(f,g)=>{n&&e.droppable.getById(f).callbacks.scroll(g)},s=()=>{if(!n)return;r.stop();const f=n.critical.droppable;e.droppable.getAllByType(f.type).forEach(g=>g.callbacks.dragStopped()),n.unsubscribe(),n=null},c=f=>{n||Y();const g=n.critical.draggable;f.type==="ADDITION"&&bi(e,g,f.value)&&r.add(f.value),f.type==="REMOVAL"&&bi(e,g,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:i,startPublishing:f=>{n&&Y();const g=e.draggable.getById(f.draggableId),v=e.droppable.getById(g.descriptor.droppableId),h={draggable:g.descriptor,droppable:v.descriptor},p=e.subscribe(c);return n={critical:h,unsubscribe:p},Mp({critical:h,registry:e,scrollOptions:f.scrollOptions})},stopPublishing:s}},bs=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",$p=e=>{window.scrollBy(e.x,e.y)};const Op=ze(e=>Nr(e).filter(t=>!(!t.isEnabled||!t.frame))),Tp=(e,t)=>Op(t).find(r=>(r.frame||Y(),ts(r.frame.pageMarginBox)(e)))||null;var Ap=({center:e,destination:t,droppables:n})=>{if(t){const o=n[t];return o.frame?o:null}return Tp(e,n)};const Tn={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var _p=(e,t,n=()=>Tn)=>{const r=n(),o=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:a}},xs=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},xa=1,Fp=(e,t,n=()=>Tn)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return xa;const a=1-xs({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=r.maxPixelScroll*r.ease(a);return Math.ceil(i)},Bp=(e,t,n)=>{const r=n(),o=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,i=t,l=a,c=Date.now()-i;if(c>=a)return e;if(c<o)return xa;const d=xs({startOfRange:o,endOfRange:l,current:c}),u=e*r.ease(d);return Math.ceil(u)},xi=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const a=Fp(e,t,o);return a===0?0:r?Math.max(Bp(a,n,o),xa):a},yi=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=_p(e,r,a);return t[r.end]<t[r.start]?xi({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*xi({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a})},Lp=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,o=t.width>e.width;return!o&&!r?n:o&&r?null:{x:o?0:n.x,y:r?0:n.y}};const jp=Wl(e=>e===0?0:e);var ys=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=yi({container:t,distanceToEdges:i,dragStartTime:e,axis:da,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),s=yi({container:t,distanceToEdges:i,dragStartTime:e,axis:ql,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),c=jp({x:s,y:l});if(Mt(c,Ge))return null;const d=Lp({container:t,subject:n,proposedScroll:c});return d?Mt(d,Ge)?null:d:null};const Vp=Wl(e=>e===0?0:e>0?1:-1),ya=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const o=Ke(t,r),a={x:e(o.x,n.x),y:e(o.y,n.y)};return Mt(a,Ge)?null:a}})(),Cs=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=Vp(n),a=ya({max:r,current:t,change:o});return!a||o.x!==0&&a.x===0||o.y!==0&&a.y===0},Ca=(e,t)=>Cs({current:e.scroll.current,max:e.scroll.max,change:t}),Hp=(e,t)=>{if(!Ca(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return ya({current:r,max:n,change:t})},Sa=(e,t)=>{const n=e.frame;return n?Cs({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Wp=(e,t)=>{const n=e.frame;return!n||!Sa(e,t)?null:ya({current:n.scroll.current,max:n.scroll.max,change:t})};var Yp=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=ys({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return i&&Ca(e,i)?i:null},zp=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=e.frame;if(!i)return null;const l=ys({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return l&&Sa(e,l)?l:null},Ci=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:o,getAutoScrollerOptions:a})=>{const i=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const u=e.viewport,f=Yp({dragStartTime:t,viewport:u,subject:s,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(f){r(f);return}}const c=Ap({center:i,destination:it(e.impact),droppables:e.dimensions.droppables});if(!c)return;const d=zp({dragStartTime:t,droppable:c,subject:s,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:a});d&&o(c.descriptor.id,d)},Gp=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Tn})=>{const r=Nn(e),o=Nn(t);let a=null;const i=c=>{a||Y();const{shouldUseTimeDampening:d,dragStartTime:u}=a;Ci({state:c,scrollWindow:r,scrollDroppable:o,dragStartTime:u,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:c=>{a&&Y();const d=Date.now();let u=!1;const f=()=>{u=!0};Ci({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),a={dragStartTime:d,shouldUseTimeDampening:u},u&&i(c)},stop:()=>{a&&(r.cancel(),o.cancel(),a=null)},scroll:i}},Up=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,s)=>{const c=Ke(l.current.client.selection,s);e({client:c})},o=(l,s)=>{if(!Sa(l,s))return s;const c=Wp(l,s);if(!c)return t(l.descriptor.id,s),null;const d=at(s,c);return t(l.descriptor.id,d),at(s,d)},a=(l,s,c)=>{if(!l||!Ca(s,c))return c;const d=Hp(s,c);if(!d)return n(c),null;const u=at(c,d);return n(u),at(c,u)};return l=>{const s=l.scrollJumpRequest;if(!s)return;const c=it(l.impact);c||Y();const d=o(l.dimensions.droppables[c],s);if(!d)return;const u=l.viewport,f=a(l.isWindowScrollAllowed,u,d);f&&r(l,f)}},qp=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const o=Gp({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=Up({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:s=>{if(!(r().disabled||s.phase!=="DRAGGING")){if(s.movementMode==="FLUID"){o.scroll(s);return}s.scrollJumpRequest&&a(s)}},start:o.start,stop:o.stop}};const rn="data-rfd",on=(()=>{const e=`${rn}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Wo=(()=>{const e=`${rn}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Kp=(()=>{const e=`${rn}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Si={contextId:`${rn}-scroll-container-context-id`},Xp=e=>t=>`[${t}="${e}"]`,Cn=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Qp="pointer-events: none;";var Jp=e=>{const t=Xp(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(on.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Qp,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Rn.outOfTheWay};
    `;return{selector:t(Wo.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),o={selector:t(Kp.contextId),styles:{always:"overflow-anchor: none;"}},i=[r,n,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Cn(i,"always"),resting:Cn(i,"resting"),dragging:Cn(i,"dragging"),dropAnimating:Cn(i,"dropAnimating"),userCancel:Cn(i,"userCancel")}};const lt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect,Do=()=>{const e=document.querySelector("head");return e||Y(),e},wi=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Zp(e,t){const n=Ce(()=>Jp(e),[e]),r=m.useRef(null),o=m.useRef(null),a=ne(ze(u=>{const f=o.current;f||Y(),f.textContent=u}),[]),i=ne(u=>{const f=r.current;f||Y(),f.textContent=u},[]);lt(()=>{!r.current&&!o.current||Y();const u=wi(t),f=wi(t);return r.current=u,o.current=f,u.setAttribute(`${rn}-always`,e),f.setAttribute(`${rn}-dynamic`,e),Do().appendChild(u),Do().appendChild(f),i(n.always),a(n.resting),()=>{const g=v=>{const h=v.current;h||Y(),Do().removeChild(h),v.current=null};g(r),g(o)}},[t,i,a,n.always,n.resting,e]);const l=ne(()=>a(n.dragging),[a,n.dragging]),s=ne(u=>{if(u==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),c=ne(()=>{o.current&&a(n.resting)},[a,n.resting]);return Ce(()=>({dragging:l,dropping:s,resting:c}),[l,s,c])}function Ss(e,t){return Array.from(e.querySelectorAll(t))}var ws=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Or(e){return e instanceof ws(e).HTMLElement}function ev(e,t){const n=`[${on.contextId}="${e}"]`,r=Ss(document,n);if(!r.length)return null;const o=r.find(a=>a.getAttribute(on.draggableId)===t);return!o||!Or(o)?null:o}function tv(e){const t=m.useRef({}),n=m.useRef(null),r=m.useRef(null),o=m.useRef(!1),a=ne(function(f,g){const v={id:f,focus:g};return t.current[f]=v,function(){const p=t.current;p[f]!==v&&delete p[f]}},[]),i=ne(function(f){const g=ev(e,f);g&&g!==document.activeElement&&g.focus()},[e]),l=ne(function(f,g){n.current===f&&(n.current=g)},[]),s=ne(function(){r.current||o.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&i(f)}))},[i]),c=ne(function(f){n.current=null;const g=document.activeElement;g&&g.getAttribute(on.draggableId)===f&&(n.current=f)},[]);return lt(()=>(o.current=!0,function(){o.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),Ce(()=>({register:a,tryRecordFocus:c,tryRestoreFocusRecorded:s,tryShiftRecord:l}),[a,c,s,l])}function nv(){const e={draggables:{},droppables:{}},t=[];function n(u){return t.push(u),function(){const g=t.indexOf(u);g!==-1&&t.splice(g,1)}}function r(u){t.length&&t.forEach(f=>f(u))}function o(u){return e.draggables[u]||null}function a(u){const f=o(u);return f||Y(),f}const i={register:u=>{e.draggables[u.descriptor.id]=u,r({type:"ADDITION",value:u})},update:(u,f)=>{const g=e.draggables[f.descriptor.id];g&&g.uniqueId===u.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[u.descriptor.id]=u)},unregister:u=>{const f=u.descriptor.id,g=o(f);g&&u.uniqueId===g.uniqueId&&(delete e.draggables[f],e.droppables[u.descriptor.droppableId]&&r({type:"REMOVAL",value:u}))},getById:a,findById:o,exists:u=>!!o(u),getAllByType:u=>Object.values(e.draggables).filter(f=>f.descriptor.type===u)};function l(u){return e.droppables[u]||null}function s(u){const f=l(u);return f||Y(),f}const c={register:u=>{e.droppables[u.descriptor.id]=u},unregister:u=>{const f=l(u.descriptor.id);f&&u.uniqueId===f.uniqueId&&delete e.droppables[u.descriptor.id]},getById:s,findById:l,exists:u=>!!l(u),getAllByType:u=>Object.values(e.droppables).filter(f=>f.descriptor.type===u)};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:c,subscribe:n,clean:d}}function rv(){const e=Ce(nv,[]);return m.useEffect(()=>function(){e.clean()},[e]),e}var wa=$e.createContext(null),xr=()=>{const e=document.body;return e||Y(),e};const ov={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},av=e=>`rfd-announcement-${e}`;function iv(e){const t=Ce(()=>av(e),[e]),n=m.useRef(null);return m.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),pe(a.style,ov),xr().appendChild(a),function(){setTimeout(function(){const s=xr();s.contains(a)&&s.removeChild(a),a===n.current&&(n.current=null)})}},[t]),ne(o=>{const a=n.current;if(a){a.textContent=o;return}},[])}const lv={separator:"::"};function Da(e,t=lv){const n=$e.useId();return Ce(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function sv({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function cv({contextId:e,text:t}){const n=Da("hidden-text",{separator:"-"}),r=Ce(()=>sv({contextId:e,uniqueId:n}),[n,e]);return m.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",xr().appendChild(a),function(){const l=xr();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var Tr=$e.createContext(null);function Ds(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),t}function uv(){let e=null;function t(){return!!e}function n(i){return i===e}function r(i){e&&Y();const l={abandon:i};return e=l,l}function o(){e||Y(),e=null}function a(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:n,claim:r,release:o,tryAbandon:a}}function An(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const dv=9,fv=13,Ia=27,Is=32,mv=33,gv=34,pv=35,vv=36,hv=37,bv=38,xv=39,yv=40,Cv={[fv]:!0,[dv]:!0};var Es=e=>{Cv[e.keyCode]&&e.preventDefault()};const Ar=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),Ps=0,Di=5;function Sv(e,t){return Math.abs(t.x-e.x)>=Di||Math.abs(t.y-e.y)>=Di}const Ii={type:"IDLE"};function wv({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:o=>{const{button:a,clientX:i,clientY:l}=o;if(a!==Ps)return;const s={x:i,y:l},c=n();if(c.type==="DRAGGING"){o.preventDefault(),c.actions.move(s);return}c.type!=="PENDING"&&Y();const d=c.point;if(!Sv(d,s))return;o.preventDefault();const u=c.actions.fluidLift(s);r({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:o=>{const a=n();if(a.type!=="DRAGGING"){e();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:o=>{n().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(n().type==="PENDING"){e();return}if(o.keyCode===Ia){o.preventDefault(),e();return}Es(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const a=n();if(a.type==="IDLE"&&Y(),a.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Ar,fn:e}]}function Dv(e){const t=m.useRef(Ii),n=m.useRef(Nt),r=Ce(()=>({eventName:"mousedown",fn:function(u){if(u.defaultPrevented||u.button!==Ps||u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)return;const f=e.findClosestDraggableId(u);if(!f)return;const g=e.tryGetLock(f,i,{sourceEvent:u});if(!g)return;u.preventDefault();const v={x:u.clientX,y:u.clientY};n.current(),c(g,v)}}),[e]),o=Ce(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const u=e.findClosestDraggableId(d);if(!u)return;const f=e.findOptionsForDraggable(u);f&&(f.shouldRespectForcePress||e.canGetLock(u)&&d.preventDefault())}}),[e]),a=ne(function(){const u={passive:!1,capture:!0};n.current=dt(window,[o,r],u)},[o,r]),i=ne(()=>{t.current.type!=="IDLE"&&(t.current=Ii,n.current(),a())},[a]),l=ne(()=>{const d=t.current;i(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[i]),s=ne(function(){const u={capture:!0,passive:!1},f=wv({cancel:l,completed:i,getPhase:()=>t.current,setPhase:g=>{t.current=g}});n.current=dt(window,f,u)},[l,i]),c=ne(function(u,f){t.current.type!=="IDLE"&&Y(),t.current={type:"PENDING",point:f,actions:u},s()},[s]);lt(function(){return a(),function(){n.current()}},[a])}function Iv(){}const Ev={[gv]:!0,[mv]:!0,[vv]:!0,[pv]:!0};function Pv(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===Ia){o.preventDefault(),n();return}if(o.keyCode===Is){o.preventDefault(),r();return}if(o.keyCode===yv){o.preventDefault(),e.moveDown();return}if(o.keyCode===bv){o.preventDefault(),e.moveUp();return}if(o.keyCode===xv){o.preventDefault(),e.moveRight();return}if(o.keyCode===hv){o.preventDefault(),e.moveLeft();return}if(Ev[o.keyCode]){o.preventDefault();return}Es(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Ar,fn:n}]}function Rv(e){const t=m.useRef(Iv),n=Ce(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==Is)return;const i=e.findClosestDraggableId(a);if(!i)return;const l=e.tryGetLock(i,d,{sourceEvent:a});if(!l)return;a.preventDefault();let s=!0;const c=l.snapLift();t.current();function d(){s||Y(),s=!1,t.current(),r()}t.current=dt(window,Pv(c,d),{capture:!0,passive:!1})}}),[e]),r=ne(function(){const a={passive:!1,capture:!0};t.current=dt(window,[n],a)},[n]);lt(function(){return r(),function(){t.current()}},[r])}const Io={type:"IDLE"},Nv=120,Mv=.15;function kv({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Ia&&n.preventDefault(),e()}},{eventName:Ar,fn:e}]}function $v({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:a,clientY:i}=r.touches[0],l={x:a,y:i};r.preventDefault(),o.actions.move(l)}},{eventName:"touchend",fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const o=n();o.type==="IDLE"&&Y();const a=r.touches[0];if(!a||!(a.force>=Mv))return;const l=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){l&&e();return}if(l){if(o.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Ar,fn:e}]}function Ov(e){const t=m.useRef(Io),n=m.useRef(Nt),r=ne(function(){return t.current},[]),o=ne(function(g){t.current=g},[]),a=Ce(()=>({eventName:"touchstart",fn:function(g){if(g.defaultPrevented)return;const v=e.findClosestDraggableId(g);if(!v)return;const h=e.tryGetLock(v,l,{sourceEvent:g});if(!h)return;const p=g.touches[0],{clientX:b,clientY:x}=p,S={x:b,y:x};n.current(),u(h,S)}}),[e]),i=ne(function(){const g={capture:!0,passive:!1};n.current=dt(window,[a],g)},[a]),l=ne(()=>{const f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),o(Io),n.current(),i())},[i,o]),s=ne(()=>{const f=t.current;l(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[l]),c=ne(function(){const g={capture:!0,passive:!1},v={cancel:s,completed:l,getPhase:r},h=dt(window,$v(v),g),p=dt(window,kv(v),g);n.current=function(){h(),p()}},[s,r,l]),d=ne(function(){const g=r();g.type!=="PENDING"&&Y();const v=g.actions.fluidLift(g.point);o({type:"DRAGGING",actions:v,hasMoved:!1})},[r,o]),u=ne(function(g,v){r().type!=="IDLE"&&Y();const h=setTimeout(d,Nv);o({type:"PENDING",point:v,actions:g,longPressTimerId:h}),c()},[c,r,o,d]);lt(function(){return i(),function(){n.current();const v=r();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),o(Io))}},[r,i,o]),lt(function(){return dt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Tv=["input","button","textarea","select","option","optgroup","video","audio"];function Rs(e,t){if(t==null)return!1;if(Tv.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Rs(e,t.parentElement)}function Av(e,t){const n=t.target;return Or(n)?Rs(e,n):!1}var _v=e=>pt(e.getBoundingClientRect()).center;function Fv(e){return e instanceof ws(e).Element}const Bv=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function Ns(e,t){return e==null?null:e[Bv](t)?e:Ns(e.parentElement,t)}function Lv(e,t){return e.closest?e.closest(t):Ns(e,t)}function jv(e){return`[${on.contextId}="${e}"]`}function Vv(e,t){const n=t.target;if(!Fv(n))return null;const r=jv(e),o=Lv(n,r);return!o||!Or(o)?null:o}function Hv(e,t){const n=Vv(e,t);return n?n.getAttribute(on.draggableId):null}function Wv(e,t){const n=`[${Wo.contextId}="${e}"]`,o=Ss(document,n).find(a=>a.getAttribute(Wo.id)===t);return!o||!Or(o)?null:o}function Yv(e){e.preventDefault()}function er({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function Ms({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const o=n.draggable.findById(r);return!(!o||!o.options.isEnabled||!bs(t.getState(),r))}function zv({lockAPI:e,contextId:t,store:n,registry:r,draggableId:o,forceSensorStop:a,sourceEvent:i}){if(!Ms({lockAPI:e,store:n,registry:r,draggableId:o}))return null;const s=r.draggable.getById(o),c=Wv(t,s.descriptor.id);if(!c||i&&!s.options.canDragInteractiveElements&&Av(c,i))return null;const d=e.claim(a||Nt);let u="PRE_DRAG";function f(){return s.options.shouldRespectForcePress}function g(){return e.isActive(d)}function v(C,D){er({expected:C,phase:u,isLockActive:g,shouldWarn:!0})&&n.dispatch(D())}const h=v.bind(null,"DRAGGING");function p(C){function D(){e.release(),u="COMPLETED"}u!=="PRE_DRAG"&&(D(),Y()),n.dispatch(Lg(C.liftActionArgs)),u="DRAGGING";function I(E,R={shouldBlockNextClick:!1}){if(C.cleanup(),R.shouldBlockNextClick){const P=dt(window,[{eventName:"click",fn:Yv,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}D(),n.dispatch(us({reason:E}))}return{isActive:()=>er({expected:"DRAGGING",phase:u,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:f,drop:E=>I("DROP",E),cancel:E=>I("CANCEL",E),...C.actions}}function b(C){const D=Nn(E=>{h(()=>cs({client:E}))});return{...p({liftActionArgs:{id:o,clientSelection:C,movementMode:"FLUID"},cleanup:()=>D.cancel(),actions:{move:D}}),move:D}}function x(){const C={moveUp:()=>h(qg),moveRight:()=>h(Xg),moveDown:()=>h(Kg),moveLeft:()=>h(Qg)};return p({liftActionArgs:{id:o,clientSelection:_v(c),movementMode:"SNAP"},cleanup:Nt,actions:C})}function S(){er({expected:"PRE_DRAG",phase:u,isLockActive:g,shouldWarn:!0})&&e.release()}return{isActive:()=>er({expected:"PRE_DRAG",phase:u,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:b,snapLift:x,abort:S}}const Gv=[Dv,Rv,Ov];function Uv({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:o}){const a=[...o?Gv:[],...r||[]],i=m.useState(()=>uv())[0],l=ne(function(p,b){An(p)&&!An(b)&&i.tryAbandon()},[i]);lt(function(){let p=t.getState();return t.subscribe(()=>{const x=t.getState();l(p,x),p=x})},[i,t,l]),lt(()=>i.tryAbandon,[i.tryAbandon]);const s=ne(h=>Ms({lockAPI:i,registry:n,store:t,draggableId:h}),[i,n,t]),c=ne((h,p,b)=>zv({lockAPI:i,registry:n,contextId:e,store:t,draggableId:h,forceSensorStop:p||null,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null}),[e,i,n,t]),d=ne(h=>Hv(e,h),[e]),u=ne(h=>{const p=n.draggable.findById(h);return p?p.options:null},[n.draggable]),f=ne(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(va()))},[i,t]),g=ne(()=>i.isClaimed(),[i]),v=Ce(()=>({canGetLock:s,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:u,tryReleaseLock:f,isLockClaimed:g}),[s,c,d,u,f,g]);for(let h=0;h<a.length;h++)a[h](v)}const qv=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ji.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Kv=e=>({...Tn,...e.autoScrollerOptions,durationDampening:{...Tn.durationDampening,...e.autoScrollerOptions}});function Sn(e){return e.current||Y(),e.current}function Xv(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:o,dragHandleUsageInstructions:a}=e,i=m.useRef(null),l=Ds(e),s=ne(()=>qv(l.current),[l]),c=ne(()=>Kv(l.current),[l]),d=iv(t),u=cv({contextId:t,text:a}),f=Zp(t,o),g=ne(P=>{Sn(i).dispatch(P)},[]),v=Ce(()=>Qa({publishWhileDragging:Vg,updateDroppableScroll:Wg,updateDroppableIsEnabled:Yg,updateDroppableIsCombineEnabled:zg,collectionStarting:Hg},g),[g]),h=rv(),p=Ce(()=>kp(h,v),[h,v]),b=Ce(()=>qp({scrollWindow:$p,scrollDroppable:p.scrollDroppable,getAutoScrollerOptions:c,...Qa({move:cs},g)}),[p.scrollDroppable,g,c]),x=tv(t),S=Ce(()=>Pp({announce:d,autoScroller:b,dimensionMarshal:p,focusMarshal:x,getResponders:s,styleMarshal:f}),[d,b,p,x,s,f]);i.current=S;const y=ne(()=>{const P=Sn(i);P.getState().phase!=="IDLE"&&P.dispatch(va())},[]),C=ne(()=>{const P=Sn(i).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),D=Ce(()=>({isDragging:C,tryAbort:y}),[C,y]);n(D);const I=ne(P=>bs(Sn(i).getState(),P),[]),E=ne(()=>Ht(Sn(i).getState()),[]),R=Ce(()=>({marshal:p,focus:x,contextId:t,canLift:I,isMovementAllowed:E,dragHandleUsageInstructionsId:u,registry:h}),[t,p,u,x,I,E,h]);return Uv({contextId:t,store:S,registry:h,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),m.useEffect(()=>y,[y]),$e.createElement(Tr.Provider,{value:R},$e.createElement(Cm,{context:wa,store:S},e.children))}function Qv(){return $e.useId()}function Jv(e){const t=Qv(),n=e.dragHandleUsageInstructions||ur.dragHandleUsageInstructions;return $e.createElement(Rm,null,r=>$e.createElement(Xv,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Ei={dragging:5e3,dropAnimating:4500},Zv=(e,t)=>t?Rn.drop(t.duration):e?Rn.snap:Rn.fluid,eh=(e,t)=>{if(e)return t?On.opacity.drop:On.opacity.combining},th=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function nh(e){const n=e.dimension.client,{offset:r,combineWith:o,dropping:a}=e,i=!!o,l=th(e),s=!!a,c=s?Vo.drop(r,i):Vo.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Zv(l,a),transform:c,opacity:eh(i,s),zIndex:s?Ei.dropAnimating:Ei.dragging,pointerEvents:"none"}}function rh(e){return{transform:Vo.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function oh(e){return e.type==="DRAGGING"?nh(e):rh(e)}function ah(e,t,n=Ge){const r=window.getComputedStyle(t),o=t.getBoundingClientRect(),a=Fl(o,r),i=pr(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},s={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:s,client:a,page:i}}function ih(e){const t=Da("draggable"),{descriptor:n,registry:r,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:l}=e,s=Ce(()=>({canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:l}),[a,l,i]),c=ne(g=>{const v=o();return v||Y(),ah(n,v,g)},[n,o]),d=Ce(()=>({uniqueId:t,descriptor:n,options:s,getDimension:c}),[n,c,s,t]),u=m.useRef(d),f=m.useRef(!0);lt(()=>(r.draggable.register(u.current),()=>r.draggable.unregister(u.current)),[r.draggable]),lt(()=>{if(f.current){f.current=!1;return}const g=u.current;u.current=d,r.draggable.update(d,g)},[d,r.draggable])}var Ea=$e.createContext(null);function yr(e){const t=m.useContext(e);return t||Y(),t}function lh(e){e.preventDefault()}const sh=e=>{const t=m.useRef(null),n=ne((D=null)=>{t.current=D},[]),r=ne(()=>t.current,[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:i}=yr(Tr),{type:l,droppableId:s}=yr(Ea),c=Ce(()=>({id:e.draggableId,index:e.index,type:l,droppableId:s}),[e.draggableId,e.index,l,s]),{children:d,draggableId:u,isEnabled:f,shouldRespectForcePress:g,canDragInteractiveElements:v,isClone:h,mapped:p,dropAnimationFinished:b}=e;if(!h){const D=Ce(()=>({descriptor:c,registry:i,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:f}),[c,i,r,v,g,f]);ih(D)}const x=Ce(()=>f?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":u,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:lh}:null,[o,a,u,f]),S=ne(D=>{p.type==="DRAGGING"&&p.dropping&&D.propertyName==="transform"&&ji.flushSync(b)},[b,p]),y=Ce(()=>{const D=oh(p),I=p.type==="DRAGGING"&&p.dropping?S:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":u,style:D,onTransitionEnd:I},dragHandleProps:x}},[o,x,u,p,S,n]),C=Ce(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return $e.createElement($e.Fragment,null,d(y,p.snapshot,C))};var ks=(e,t)=>e===t,$s=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const ch=e=>e.combine?e.combine.draggableId:null,uh=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function dh(){const e=ze((o,a)=>({x:o,y:a})),t=ze((o,a,i=null,l=null,s=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!s,dropAnimation:s,mode:o,draggingOver:i,combineWith:l,combineTargetFor:null})),n=ze((o,a,i,l,s=null,c=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:c,mode:a,offset:o,dimension:i,forceShouldAnimate:d,snapshot:t(a,l,s,c,null)}}));return(o,a)=>{if(An(o)){if(o.critical.draggable.id!==a.draggableId)return null;const i=o.current.client.offset,l=o.dimensions.draggables[a.draggableId],s=it(o.impact),c=uh(o.impact),d=o.forceShouldAnimate;return n(e(i.x,i.y),o.movementMode,l,a.isClone,s,c,d)}if(o.phase==="DROP_ANIMATING"){const i=o.completed;if(i.result.draggableId!==a.draggableId)return null;const l=a.isClone,s=o.dimensions.draggables[a.draggableId],c=i.result,d=c.mode,u=$s(c),f=ch(c),v={duration:o.dropDuration,curve:ba.drop,moveTo:o.newHomeClientOffset,opacity:f?On.opacity.drop:null,scale:f?On.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:s,dropping:v,draggingOver:u,combineWith:f,mode:d,forceShouldAnimate:null,snapshot:t(d,l,u,f,v)}}}return null}}function Os(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const fh={mapped:{type:"SECONDARY",offset:Ge,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Os(null)}};function mh(){const e=ze((i,l)=>({x:i,y:l})),t=ze(Os),n=ze((i,l=null,s)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:l,shouldAnimateDisplacement:s,snapshot:t(l)}})),r=i=>i?n(Ge,i,!0):null,o=(i,l,s,c)=>{const d=s.displaced.visible[i],u=!!(c.inVirtualList&&c.effected[i]),f=Mr(s),g=f&&f.draggableId===i?l:null;if(!d){if(!u)return r(g);if(s.displaced.invisible[i])return null;const p=un(c.displacedBy.point),b=e(p.x,p.y);return n(b,g,!0)}if(u)return r(g);const v=s.displacedBy.point,h=e(v.x,v.y);return n(h,g,d.shouldAnimate)};return(i,l)=>{if(An(i))return i.critical.draggable.id===l.draggableId?null:o(l.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const s=i.completed;return s.result.draggableId===l.draggableId?null:o(l.draggableId,s.result.draggableId,s.impact,s.afterCritical)}return null}}const gh=()=>{const e=dh(),t=mh();return(r,o)=>e(r,o)||t(r,o)||fh},ph={dropAnimationFinished:ds},vh=_l(gh,ph,null,{context:wa,areStatePropsEqual:ks})(sh);function Ts(e){return yr(Ea).isUsingCloneFor===e.draggableId&&!e.isClone?null:$e.createElement(vh,e)}function hh(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return $e.createElement(Ts,pe({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const As=e=>t=>e===t,bh=As("scroll"),xh=As("auto"),Pi=(e,t)=>t(e.overflowX)||t(e.overflowY),yh=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Pi(n,bh)||Pi(n,xh)},Ch=()=>!1,_s=e=>e==null?null:e===document.body?Ch()?e:null:e===document.documentElement?null:yh(e)?e:_s(e.parentElement);var Yo=e=>({x:e.scrollLeft,y:e.scrollTop});const Fs=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Fs(e.parentElement):!1;var Sh=e=>{const t=_s(e),n=Fs(e);return{closestScrollable:t,isFixedOnPage:n}},wh=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:o,client:a,page:i,closest:l})=>{const s=(()=>{if(!l)return null;const{scrollSize:f,client:g}=l,v=ps({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:g,scrollSize:f,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:v,diff:{value:Ge,displacement:Ge}}}})(),c=o==="vertical"?da:ql,d=nn({page:i,withPlaceholder:null,axis:c,frame:s});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:a,page:i,frame:s,subject:d}};const Dh=(e,t)=>{const n=Bl(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,i=o+t.scrollWidth,s=la({top:r,right:i,bottom:a,left:o},n.border);return sa({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})};var Ih=({ref:e,descriptor:t,env:n,windowScroll:r,direction:o,isDropDisabled:a,isCombineEnabled:i,shouldClipSubject:l})=>{const s=n.closestScrollable,c=Dh(e,s),d=pr(c,r),u=(()=>{if(!s)return null;const g=Bl(s),v={scrollHeight:s.scrollHeight,scrollWidth:s.scrollWidth};return{client:g,page:pr(g,r),scroll:Yo(s),scrollSize:v,shouldClipSubject:l}})();return wh({descriptor:t,isEnabled:!a,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:o,client:c,page:d,closest:u})};const Eh={passive:!1},Ph={passive:!0};var Ri=e=>e.shouldPublishImmediately?Eh:Ph;const tr=e=>e&&e.env.closestScrollable||null;function Rh(e){const t=m.useRef(null),n=yr(Tr),r=Da("droppable"),{registry:o,marshal:a}=n,i=Ds(e),l=Ce(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),s=m.useRef(l),c=Ce(()=>ze((y,C)=>{t.current||Y();const D={x:y,y:C};a.updateDroppableScroll(l.id,D)}),[l.id,a]),d=ne(()=>{const y=t.current;return!y||!y.env.closestScrollable?Ge:Yo(y.env.closestScrollable)},[]),u=ne(()=>{const y=d();c(y.x,y.y)},[d,c]),f=Ce(()=>Nn(u),[u]),g=ne(()=>{const y=t.current,C=tr(y);if(y&&C||Y(),y.scrollOptions.shouldPublishImmediately){u();return}f()},[f,u]),v=ne((y,C)=>{t.current&&Y();const D=i.current,I=D.getDroppableRef();I||Y();const E=Sh(I),R={ref:I,descriptor:l,env:E,scrollOptions:C};t.current=R;const P=Ih({ref:I,descriptor:l,env:E,windowScroll:y,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),k=E.closestScrollable;return k&&(k.setAttribute(Si.contextId,n.contextId),k.addEventListener("scroll",g,Ri(R.scrollOptions))),P},[n.contextId,l,g,i]),h=ne(()=>{const y=t.current,C=tr(y);return y&&C||Y(),Yo(C)},[]),p=ne(()=>{const y=t.current;y||Y();const C=tr(y);t.current=null,C&&(f.cancel(),C.removeAttribute(Si.contextId),C.removeEventListener("scroll",g,Ri(y.scrollOptions)))},[g,f]),b=ne(y=>{const C=t.current;C||Y();const D=tr(C);D||Y(),D.scrollTop+=y.y,D.scrollLeft+=y.x},[]),x=Ce(()=>({getDimensionAndWatchScroll:v,getScrollWhileDragging:h,dragStopped:p,scroll:b}),[p,v,h,b]),S=Ce(()=>({uniqueId:r,descriptor:l,callbacks:x}),[x,l,r]);lt(()=>(s.current=S.descriptor,o.droppable.register(S),()=>{t.current&&p(),o.droppable.unregister(S)}),[x,l,p,S,a,o.droppable]),lt(()=>{t.current&&a.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),lt(()=>{t.current&&a.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Eo(){}const Ni={width:0,height:0,margin:Am},Nh=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?Ni:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Mh=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=Nh({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Rn.placeholder:null}},kh=e=>{const t=m.useRef(null),n=ne(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:o,onClose:a,contextId:i}=e,[l,s]=m.useState(e.animate==="open");m.useEffect(()=>l?r!=="open"?(n(),s(!1),Eo):t.current?Eo:(t.current=setTimeout(()=>{t.current=null,s(!1)}),n):Eo,[r,l,n]);const c=ne(u=>{u.propertyName==="height"&&(o(),r==="close"&&a())},[r,a,o]),d=Mh({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return $e.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":i,onTransitionEnd:c,ref:e.innerRef})};var $h=$e.memo(kh);class Oh extends $e.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const Th=e=>{const t=m.useContext(Tr);t||Y();const{contextId:n,isMovementAllowed:r}=t,o=m.useRef(null),a=m.useRef(null),{children:i,droppableId:l,type:s,mode:c,direction:d,ignoreContainerClipping:u,isDropDisabled:f,isCombineEnabled:g,snapshot:v,useClone:h,updateViewportMaxScroll:p,getContainerForClone:b}=e,x=ne(()=>o.current,[]),S=ne((k=null)=>{o.current=k},[]);ne(()=>a.current,[]);const y=ne((k=null)=>{a.current=k},[]),C=ne(()=>{r()&&p({maxScroll:hs()})},[r,p]);Rh({droppableId:l,type:s,mode:c,direction:d,isDropDisabled:f,isCombineEnabled:g,ignoreContainerClipping:u,getDroppableRef:x});const D=Ce(()=>$e.createElement(Oh,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:k,data:$,animate:_})=>$e.createElement($h,{placeholder:$,onClose:k,innerRef:y,animate:_,contextId:n,onTransitionEnd:C})),[n,C,e.placeholder,e.shouldAnimatePlaceholder,y]),I=Ce(()=>({innerRef:S,placeholder:D,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,D,S]),E=h?h.dragging.draggableId:null,R=Ce(()=>({droppableId:l,type:s,isUsingCloneFor:E}),[l,E,s]);function P(){if(!h)return null;const{dragging:k,render:$}=h,_=$e.createElement(Ts,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(M,N)=>$(M,N,k));return nc.createPortal(_,b())}return $e.createElement(Ea.Provider,{value:R},i(I,v),P())};function Ah(){return document.body||Y(),document.body}const Mi={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Ah},Bs=e=>{let t={...e},n;for(n in Mi)e[n]===void 0&&(t={...t,[n]:Mi[n]});return t},Po=(e,t)=>e===t.droppable.type,ki=(e,t)=>t.draggables[e.draggable.id],_h=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ze(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=ze((a,i,l,s,c,d)=>{const u=c.descriptor.id;if(c.descriptor.droppableId===a){const v=d?{render:d,dragging:n(c.descriptor)}:null,h={isDraggingOver:l,draggingOverWith:l?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:h,useClone:v}}if(!i)return t;if(!s)return e;const g={isDraggingOver:l,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}});return(a,i)=>{const l=Bs(i),s=l.droppableId,c=l.type,d=!l.isDropDisabled,u=l.renderClone;if(An(a)){const f=a.critical;if(!Po(c,f))return t;const g=ki(f,a.dimensions),v=it(a.impact)===s;return r(s,d,v,v,g,u)}if(a.phase==="DROP_ANIMATING"){const f=a.completed;if(!Po(c,f.critical))return t;const g=ki(f.critical,a.dimensions);return r(s,d,$s(f.result)===s,it(f.impact)===s,g,u)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const f=a.completed;if(!Po(c,f.critical))return t;const g=it(f.impact)===s,v=!!(f.impact.at&&f.impact.at.type==="COMBINE"),h=f.critical.droppable.id===s;return g?v?e:t:h?e:t}return t}},Fh={updateViewportMaxScroll:Ug},Bh=_l(_h,Fh,(e,t,n)=>({...Bs(n),...e,...t}),{context:wa,areStatePropsEqual:ks})(Th),Lh=({task:e,col:t,idx:n,theme:r,isDragging:o,setShowFormTask:a})=>{const i=t.type==="REWARD";return w.jsx(hh,{draggableId:e.id,index:n,isDragDisabled:i,children:(l,s)=>w.jsx(jh,{provided:l,snapshot:s,theme:r,isRewardColumn:i,task:e,isDragging:o,setShowFormTask:a})},e.id)},jh=({provided:e,snapshot:t,isRewardColumn:n,task:r,theme:o,isDragging:a,setShowFormTask:i})=>{var h,p;const[l,s]=m.useState(!1),{tasksData:c,updateTaskStatus:d,refetchTasks:u,taskDetail:f,setTaskDetail:g}=At(),v=async b=>{s(!1);try{const x=await fetch(`${Pt()}/task/${b}`,{method:"DELETE"});x.ok?(ut.success({message:"Xóa task thành công!"}),u()):ut.error({message:"Xóa task không thành công:",description:x.statusText})}catch(x){No.error("Lỗi khi xóa task!"),console.error(x)}};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{ref:e==null?void 0:e.innerRef,...e==null?void 0:e.draggableProps,...e==null?void 0:e.dragHandleProps,className:`task-card group/task relative mb-3 transition-all duration-200 ${n?"cursor-not-allowed opacity-90":"cursor-pointer"} ${t!=null&&t.isDragging?"shadow-xl scale-105 ring-2 ring-[#00B4B6]/30 z-50 border-2 border-[#00B4B6]/50 rotate-1":"shadow-md hover:shadow-lg hover:scale-[1.01] hover:-translate-y-0.5"} ${t!=null&&t.isDragging?"":"drag-item-reset"}`,style:{...e==null?void 0:e.draggableProps.style,...t!=null&&t.isDragging?{transition:"none",zIndex:99999,cursor:"grabbing",position:"fixed",top:0,left:0,margin:0,transform:((h=e==null?void 0:e.draggableProps.style)==null?void 0:h.transform)||"none"}:{}},onClick:()=>{!(t!=null&&t.isDragging)&&!a&&(g&&g(r),i&&i(!0))},children:[w.jsx("div",{className:"absolute inset-0 rounded-xl blur opacity-0 group-hover/task:opacity-20 transition-opacity duration-200",style:{background:`linear-gradient(135deg, ${o.color}40, ${o.color}20)`}}),w.jsxs("div",{className:`relative bg-white rounded-xl p-2 sm:p-3 border transition-all duration-300 ${n?"border-purple-200 bg-purple-50/30":""} ${t!=null&&t.isDragging?"shadow-xl border-[#00B4B6]/50 bg-white/95 backdrop-blur-sm":"shadow-md border-gray-100/50 group-hover/task:shadow-lg group-hover/task:border-gray-200/70"}`,children:[n&&w.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"🏆"}),w.jsxs("div",{className:"space-y-1 sm:space-y-1.5",children:[w.jsx("div",{className:"flex items-start justify-between gap-2",children:w.jsx("h3",{className:`font-bold text-xs sm:text-sm line-clamp-2 transition-colors duration-150 flex-1 min-w-0 ${n?"text-purple-800":"text-gray-800 group-hover/task:text-gray-900"}`,children:r.title})}),r.description&&w.jsx("p",{className:"text-gray-500 text-xs line-clamp-2 leading-relaxed",children:r.description.length>20?r.description.slice(0,20)+"...":r.description}),r.reward&&w.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 font-semibold",children:[w.jsx("span",{children:"💰"}),w.jsxs("span",{className:"truncate",children:[r.reward.toLocaleString()," VNĐ"]})]})]}),w.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-100/50",children:[w.jsx(In,{size:"small","aria-label":"delete",color:"error",onClick:b=>{b.preventDefault(),b.stopPropagation(),s(!0)},sx:{color:"#777",top:-10,"&:hover":{color:"red",backgroundColor:"rgba(255, 0, 0, 0.1)"}},children:w.jsx(Ao,{})}),w.jsxs("div",{className:"text-xs text-gray-400 font-mono flex-shrink-0",children:["#",(p=r.id)==null?void 0:p.slice(-4)]})]})]})]}),w.jsx(Sr,{title:"Bạn có chắc muốn xóa công việc ?",open:l,onOk:()=>v(r.id),onCancel:()=>s(!1)})]})},Vh=[{gradient:"from-red-500 to-pink-500",bg:"bg-gradient-to-br from-red-50 to-pink-50",color:"#ef4444",lightColor:"rgba(239, 68, 68, 0.1)"},{gradient:"from-yellow-500 to-orange-500",bg:"bg-gradient-to-br from-yellow-50 to-orange-50",color:"#f59e0b",lightColor:"rgba(245, 158, 11, 0.1)"},{gradient:"from-green-500 to-teal-500",bg:"bg-gradient-to-br from-green-50 to-teal-50",color:"#10b981",lightColor:"rgba(16, 185, 129, 0.1)"},{gradient:"from-purple-500 to-indigo-500",bg:"bg-gradient-to-br from-purple-50 to-indigo-50",color:"#8b5cf6",lightColor:"rgba(139, 92, 246, 0.1)"}],Hh=({workspaceData:e})=>w.jsx("div",{className:"relative z-10 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 px-4 sm:px-6 pt-4 pb-3",children:w.jsx("div",{className:"flex items-center justify-center sm:justify-start gap-3",children:w.jsxs("div",{className:"group relative",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#00B4B6] to-teal-500 rounded-xl blur-md opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),w.jsxs("div",{className:"relative bg-gradient-to-r from-[#00B4B6] to-teal-500 rounded-xl shadow-lg px-4 sm:px-6 py-2 sm:py-3 flex items-center gap-2 text-white font-bold text-base sm:text-lg border border-white/10 backdrop-blur-sm",children:[w.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"}),w.jsx("span",{className:"truncate max-w-[200px] sm:max-w-none",children:e==null?void 0:e.name}),w.jsx("span",{style:{fontSize:10,fontWeight:300,fontStyle:"italic"},children:e==null?void 0:e.address}),w.jsx(Qd,{className:"ml-1 text-white text-base transform group-hover:scale-110 transition-transform duration-200 flex-shrink-0"})]})]})})}),Wh=({onDragStart:e,onDragUpdate:t,onDragEnd:n,isDragging:r,columns:o,setShowFormTask:a})=>{const{taskDetail:i,setTaskDetail:l}=At(),{workspaces:s,workspaceId:c,setWorkspaces:d}=$t(),[u,f]=m.useState(Wt.map(v=>v.title)),g=v=>{d(h=>h.map(p=>p.id===c?(console.log("SAME",c,v),{...p,column_open_name:v[0],column_in_progress_name:v[1],column_done_name:v[2],column_reward_name:v[3]}):p))};return m.useEffect(()=>{if(!s)return;const v=s.find(p=>p.id===c);if(!v)return;const h=[v.column_open_name,v.column_in_progress_name,v.column_done_name,v.column_reward_name];f(h),g(h)},[c]),m.useEffect(()=>{g(u)},[u]),w.jsx("div",{className:"relative z-10 px-4 sm:px-6 pt-3",children:w.jsx(Jv,{onDragStart:e,onDragUpdate:t,onDragEnd:n,children:w.jsx(ac,{gutter:[12,12],wrap:!1,className:"pb-6 overflow-x-auto",children:o.map((v,h)=>{const p=Vh[h];return w.jsx(ic,{className:"flex-shrink-0 min-w-[380px] sm:min-w-[260px] max-w-[420px] sm:max-w-[280px]",children:w.jsx(Bh,{droppableId:v.id,children:(b,x)=>w.jsx("div",{className:"group relative",children:w.jsx(bc,{title:w.jsxs("div",{className:"flex items-center justify-between !text-white !text-sm font-semibold",children:[w.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[w.jsx("div",{className:"w-2 h-2 bg-white/30 rounded-full flex-shrink-0",style:{backgroundColor:"rgba(255,255,255,0.3)"}}),w.jsx("span",{className:"truncate",children:u[h]}),w.jsx("div",{className:"bg-white/20 rounded-full px-2 py-0.5 text-xs font-bold border border-white/5 flex-shrink-0",children:v.tasks.length})]}),w.jsx(Yh,{type:v.type,setColNames:f,idx:h})]}),className:`relative w-full transition-all duration-300 ease-out !border-none shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 ${x.isDraggingOver?"scale-102 shadow-xl":"scale-100"} ${v.type==="REWARD"?"reward-column":""}`,style:{background:`linear-gradient(135deg, ${p.color} 0%, ${p.color}dd 100%)`,borderRadius:"20px",overflow:"hidden"},styles:{body:{background:`linear-gradient(135deg, ${p.color} 0%, ${p.color}dd 100%)`,padding:"12px",minHeight:"120px",border:"none"},Board:{background:`linear-gradient(135deg, ${p.color} 0%, ${p.color}dd 100%)`,borderRadius:"20px 20px 0 0",border:"none",boxShadow:"0 3px 8px rgba(0,0,0,0.05)"}},children:w.jsxs("div",{ref:b.innerRef,...b.droppableProps,className:`!outline-transparent min-h-[120px] transition-all duration-200 ease-in-out rounded-xl ${x.isDraggingOver?`${p.bg} border-2 border-dashed border-gray-200/50 p-2 transform scale-[1.01] backdrop-blur-sm`:"transform scale-100"}`,children:[v.tasks.map((S,y)=>w.jsx(Lh,{task:S,col:v,idx:y,theme:p,isDragging:r,setShowFormTask:a})),b.placeholder,h===0&&w.jsxs(tn,{block:!0,icon:w.jsx(xc,{}),className:"group/btn relative h-8 sm:h-10 !border-2 !border-dashed !border-white/40 hover:!border-white/70 !bg-transparent hover:!bg-white/20 !text-white hover:!text-white !font-semibold !rounded-xl !mt-3 transition-all duration-200 transform hover:scale-[1.01] backdrop-blur-sm",onClick:()=>{l(null),a(!0);const S=m.useContext(wr);if(S){const{setShowUpdateButton:y}=S;y(0)}else throw new Error("UpdateButtonContext not found")},children:[w.jsx("span",{className:"relative z-10 flex items-center gap-2 text-xs sm:text-sm",children:"Thêm thẻ mới"}),w.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-xl opacity-0 group-hover/btn:opacity-100 transition-opacity duration-200"})]})]})})})})},v.id)})})})})},Yh=({type:e,idx:t,setColNames:n})=>{const[r,o]=m.useState(!1),[a]=ot.useForm(),{workspaceId:i,workspaces:l,setWorkspaces:s}=$t(),c=()=>{o(!0)},d=()=>{o(!1)},u=async g=>{try{const v=await fetch(`${Pt()}/workspace/${i}/column_name`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,name:g})});if(!v.ok){const p=await v.text();throw new Error(`Lỗi cập nhật: ${v.status} - ${p}`)}const h=await v.json();ut.success({message:"Cập nhật thành công:",description:h}),n(p=>{const b=[...p];return b[t]=g,b})}catch{ut.error({message:"Lỗi khi cập nhật tên cột:"})}},f=()=>{a.validateFields().then(g=>{console.log("Form values:",g),o(!1),a.resetFields(),u(g.name)}).catch(g=>{console.log("Validate Failed:",g)})};return w.jsxs(w.Fragment,{children:[w.jsx(zd,{onClick:c,style:{fontSize:24,cursor:"pointer"},title:"More options"}),w.jsx(Sr,{title:"Nhập tên cột",open:r,onOk:f,onCancel:d,okText:"Xác nhận",cancelText:"Hủy",children:w.jsx(ot,{form:a,layout:"vertical",name:"form_in_modal",children:w.jsx(ot.Item,{label:"",name:"name",rules:[{required:!0,message:"Sửa tên cột!"}],children:w.jsx(Ko,{placeholder:"Nhập tên cột"})})})})]})},zh=({deleteConfirmModal:e,handleDeleteCancel:t,handleDeleteConfirm:n,deleteTaskMutation:r})=>w.jsx(Sr,{open:e.visible,onCancel:t,footer:null,title:null,width:"400px",centered:!0,className:"custom-modal",children:w.jsxs("div",{className:"text-center p-6",children:[w.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:w.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:w.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),w.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Xác nhận xóa task"}),w.jsxs("p",{className:"text-gray-600 mb-6",children:["Bạn có chắc chắn muốn xóa task"," ",w.jsxs("span",{className:"font-semibold text-gray-900",children:['"',e.taskTitle,'"']}),"? Hành động này không thể hoàn tác."]}),w.jsxs("div",{className:"flex gap-3 justify-center",children:[w.jsx(tn,{onClick:t,className:"px-6 py-2 h-10 rounded-lg border-2 border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 font-semibold transition-all duration-200",children:"Hủy bỏ"}),w.jsx(tn,{onClick:n,loading:r.isPending,danger:!0,className:"px-6 py-2 h-10 rounded-lg bg-red-500 hover:bg-red-600 border-red-500 hover:border-red-600 text-white font-semibold transition-all duration-200",children:"Xóa task"})]})]})}),Wt=[{id:"col-0",title:"Phân việc",type:"OPEN"},{id:"col-1",title:"Sản xuất",type:"IN_PROGRESS"},{id:"col-2",title:"Hoàn thiện",type:"DONE"},{id:"col-3",title:"Khoán thưởng",type:"REWARD"}];function ab(e){const t=Wt.find(n=>n.type===e);return t?t.title:void 0}function ib(){const e=m.useContext(wr);if(!e)throw new Error("UpdateButtonContext not found");const{showUpdateButton:t,setShowUpdateButton:n}=e,{workspaceId:r}=$t(),{data:o}=rc(r),{tasksData:a,updateTaskStatus:i,refetchTasks:l,taskDetail:s,setTaskDetail:c}=At(),d=oc(),u=m.useCallback(M=>Wt.map(N=>{var A;return{...N,tasks:((A=M[N.type])==null?void 0:A.tasks)||[]}}),[]),[f,g]=m.useState(()=>u(a||{}));m.useEffect(()=>{const M=u(a);g(M||{})},[a,u,t]);const[v,h]=m.useState(!1),[p,b]=m.useState(null),[x,S]=m.useState({visible:!1,taskId:null,taskTitle:""}),y=m.useCallback(()=>{h(!1),b(null),setTimeout(()=>{document.querySelectorAll("[data-rbd-draggable-context-id]").forEach(N=>{const A=N;A.style.transform="",A.style.transition="",A.style.zIndex="",A.style.pointerEvents="",A.classList.add("force-reset"),setTimeout(()=>{A.classList.remove("force-reset")},150)})},50)},[]),C=m.useCallback(M=>{const N=f.find(B=>{var L;return(L=B.tasks)==null?void 0:L.some(W=>W.id===M.draggableId)});if((N==null?void 0:N.type)==="REWARD"){No.warning("Không thể di chuyển task đã hoàn thành khoán thưởng!");return}h(!0),b(M.draggableId);const A=document.querySelector(`[data-rbd-draggable-id="${M.draggableId}"]`);if(A){const B=A;B.style.position="fixed",B.style.margin="0",B.style.zIndex="99999",B.style.pointerEvents="none",B.style.transition="none",B.style.transform="rotate(2deg) scale(1.02)",B.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.12), 0 3px 6px rgba(0, 0, 0, 0.08)",B.style.outline="none",B.style.border="none";const L=B.querySelector(".task-card");if(L){const W=L;W.style.border="2px solid #00B4B6",W.style.background="rgba(255, 255, 255, 0.95)",W.style.backdropFilter="blur(4px)",W.style.outline="none"}}},[f]),D=m.useCallback(M=>{var N;if((N=M.destination)!=null&&N.droppableId){const A=f.findIndex(B=>B.id===M.destination.droppableId);if(A!==-1&&Wt[A].type==="REWARD"&&!document.getElementById("drag-warning")){const L=document.createElement("div");L.id="drag-warning",L.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-[99999] bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg",L.textContent="⚠️ Không thể kéo công việc vào cột Khoán thưởng!",document.body.appendChild(L),setTimeout(()=>{L.parentNode&&L.parentNode.removeChild(L)},2e3)}}if(M.draggableId&&M.clientY!==void 0&&M.clientX!==void 0){const A=document.querySelector(`[data-rbd-draggable-id="${M.draggableId}"]`);if(A){const B=A;B.style.transform=`translate(${M.clientX}px, ${M.clientY}px) translate(-50%, -50%) rotate(2deg) scale(1.02)`}}},[f]),I=m.useCallback(M=>{n(0);const{source:N,destination:A}=M;if(y(),p){const j=document.querySelector(`[data-rbd-draggable-id="${p}"]`);if(j){const O=j;O.style.position="",O.style.margin="",O.style.zIndex="",O.style.pointerEvents="",O.style.transition="",O.style.transform="",O.style.boxShadow="",O.style.outline="",O.style.border="";const T=O.querySelector(".task-card");if(T){const F=T;F.style.border="",F.style.background="",F.style.backdropFilter="",F.style.outline=""}}}if(!A)return;const B=f.findIndex(j=>j.id===N.droppableId),L=f.findIndex(j=>j.id===A.droppableId);if(B===-1||L===-1||B===L&&N.index===A.index)return;if(Wt[L].type==="REWARD"){if(Wt[B].type!=="DONE"){No.warning("Chỉ có thể kéo task từ cột 'Hoàn thiện' vào cột 'Khoán thưởng'! Task phải hoàn thành trước khi được khoán thưởng.");return}return}(()=>{const j=[...f];if(B===L){const O=[...j[B].tasks],[T]=O.splice(N.index,1);O.splice(A.index,0,T),j[B]={...j[B],tasks:O}}else{const O=[...j[B].tasks],[T]=O.splice(N.index,1),F=[...j[L].tasks];F.splice(A.index,0,T),j[B]={...j[B],tasks:O},j[L]={...j[L],tasks:F};const V=Wt[L].type;T.id&&i(T.id,V)}g(j)})()},[f,y,p,i]);m.useEffect(()=>{a&&g(u(a))},[a,u]),m.useEffect(()=>()=>{y()},[y]);const[E,R]=m.useState(!1),{setWorkspaces:P}=$t(),k=m.useCallback(()=>{R(!1),c(null),l()},[l]),$=m.useCallback(()=>{x.taskId&&(d.mutate(x.taskId),S({visible:!1,taskId:null,taskTitle:""}),P(M=>M.filter(N=>N.id!==x.taskId)))},[x.taskId,d]),_=m.useCallback(()=>{S({visible:!1,taskId:null,taskTitle:""})},[]);return w.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[w.jsx(Hh,{workspaceData:o}),w.jsx(Wh,{onDragStart:C,onDragUpdate:D,onDragEnd:I,isDragging:v,columns:f,setShowFormTask:R}),w.jsx(Cf,{open:E,onCancel:()=>{R(!1)},initialValues:s,onSuccess:k,users:o==null?void 0:o.users,updateTaskStatus:i}),w.jsx(zh,{deleteConfirmModal:x,handleDeleteCancel:_,handleDeleteConfirm:$,deleteTaskMutation:x})]})}export{df as J,ib as M,zd as R,_o as a,tu as b,au as c,Vh as d,Wt as f,ab as g,Uc as w};
