<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Login - ADMAKE</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<style>
    body, html {
      height: 100%;
      margin: 0;
    }
    .center-container {
      display: flex;
      justify-content: center; /* căn giữa ngang */
      align-items: center;     /* căn giữa dọc */
      height: 100vh;           /* chiều cao 100% viewport */
      
      background-image: url("{{ url_for('static', filename='backGround.png') }}");
      background-repeat: no-repeat;      /* không lặp lại ảnh */
      background-size: cover;            /* phóng to ảnh phủ hết div, giữ tỉ lệ */
      background-position: center; 
  }
</style>

























































































<link as="image" as_="script" href="/ADMAKE.svg" rel="prefetch"/>
<link as="image" as_="script" href="/alarm-svgrepo-com.svg" rel="prefetch"/>
<link as="image" as_="script" href="/avatar-default.svg" rel="prefetch"/>
<link as="image" as_="script" href="/backGround.png" rel="prefetch"/>
<link as="image" as_="script" href="/cart-shopping-fast-svgrepo-com.svg" rel="prefetch"/>
<link as="script" as_="script" href="/chat.html" rel="prefetch"/>
<link as="script" as_="script" href="/dashboard.html" rel="prefetch"/>
<link as="image" as_="script" href="/holiday-island-tourism-svgrepo-com.svg" rel="prefetch"/>
<link as="script" as_="script" href="/login.html" rel="prefetch"/>
<link as="image" as_="script" href="/logo.jpg" rel="prefetch"/>
<link as="image" as_="script" href="/logo.svg" rel="prefetch"/>
<link as="image" as_="script" href="/pay-svgrepo-com.svg" rel="prefetch"/>
<link as="script" as_="script" href="/point.html" rel="prefetch"/>
<link as="image" as_="script" href="/remove-bookmark-svgrepo-com.svg" rel="prefetch"/>
<link as="image" as_="script" href="/task-done-svgrepo-com.svg" rel="prefetch"/>
<link as="script" as_="script" href="/assets/auth.service-BJaBkZaz.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/chat-Hn2UfQXD.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/dashboard-Dv6Gx3Fw.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/data-CXSlgMIh.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/FormUser-B_TsbcPi.js" rel="prefetch"/>
<link as="style" as_="script" href="/assets/Group-CAw9rZq-.css" rel="prefetch"/>
<link as="script" as_="script" href="/assets/Group-DXcPVGQQ.js" rel="prefetch"/>
<link as="style" as_="script" href="/assets/index-BqCf9Nq6.css" rel="prefetch"/>
<link as="script" as_="script" href="/assets/index-BSQ6F1bJ.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/index-CDURMZb3.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/index-Dh1JOjvH.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/index-DuW4GlHp.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/index-lcVGoJR8.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/index-LLhx6BPt.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/Input-D0qPFWeO.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/login-CADZNV_d.js" rel="prefetch"/>
<link as="style" as_="script" href="/assets/Managerment-DXyWt9De.css" rel="prefetch"/>
<link as="script" as_="script" href="/assets/Managerment-U7eZv_To.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/page-B0gGZB_m.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/page-BHq-3usE.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/page-Bv-APW-2.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/page-C0GQ_z9V.js" rel="prefetch"/>
<link as="style" as_="script" href="/assets/page-CW-Azc8I.css" rel="prefetch"/>
<link as="script" as_="script" href="/assets/page-DST1LzQT.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/page-DUrTm9ME.js" rel="prefetch"/>
<link as="style" as_="script" href="/assets/point-BdOndhxL.css" rel="prefetch"/>
<link as="script" as_="script" href="/assets/point-CE2IeZrR.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/QRCode-D0DbIo1A.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/SalaryBoard-3PMHtWhV.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/TableBody-D9_fULjk.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/TableHead-CveSiX9D.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/TableRow-DfY2b6T0.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/Tabs-CRHU9vvV.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/TitlePanel-D2lnCVYI.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/useDebounce-Cb8VIBJ2.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/useUpdateButtonTask-pIy8nA2y.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/useVariants-CmUL1xvu.js" rel="prefetch"/>
<link as="script" as_="script" href="/auth.service-BJaBkZaz.js" rel="prefetch"/>
<link as="script" as_="script" href="/chat-Hn2UfQXD.js" rel="prefetch"/>
<link as="script" as_="script" href="/dashboard-Dv6Gx3Fw.js" rel="prefetch"/>
<link as="script" as_="script" href="/data-CXSlgMIh.js" rel="prefetch"/>
<link as="script" as_="script" href="/FormUser-B_TsbcPi.js" rel="prefetch"/>
<link as="style" as_="script" href="/Group-CAw9rZq-.css" rel="prefetch"/>
<link as="script" as_="script" href="/Group-DXcPVGQQ.js" rel="prefetch"/>
<link as="style" as_="script" href="/index-BqCf9Nq6.css" rel="prefetch"/>
<link as="script" as_="script" href="/index-BSQ6F1bJ.js" rel="prefetch"/>
<link as="script" as_="script" href="/index-CDURMZb3.js" rel="prefetch"/>
<link as="script" as_="script" href="/index-Dh1JOjvH.js" rel="prefetch"/>
<link as="script" as_="script" href="/index-DuW4GlHp.js" rel="prefetch"/>
<link as="script" as_="script" href="/index-lcVGoJR8.js" rel="prefetch"/>
<link as="script" as_="script" href="/index-LLhx6BPt.js" rel="prefetch"/>
<link as="script" as_="script" href="/Input-D0qPFWeO.js" rel="prefetch"/>
<link as="script" as_="script" href="/login-CADZNV_d.js" rel="prefetch"/>
<link as="style" as_="script" href="/Managerment-DXyWt9De.css" rel="prefetch"/>
<link as="script" as_="script" href="/Managerment-U7eZv_To.js" rel="prefetch"/>
<link as="script" as_="script" href="/page-B0gGZB_m.js" rel="prefetch"/>
<link as="script" as_="script" href="/page-BHq-3usE.js" rel="prefetch"/>
<link as="script" as_="script" href="/page-Bv-APW-2.js" rel="prefetch"/>
<link as="script" as_="script" href="/page-C0GQ_z9V.js" rel="prefetch"/>
<link as="style" as_="script" href="/page-CW-Azc8I.css" rel="prefetch"/>
<link as="script" as_="script" href="/page-DST1LzQT.js" rel="prefetch"/>
<link as="script" as_="script" href="/page-DUrTm9ME.js" rel="prefetch"/>
<link as="style" as_="script" href="/point-BdOndhxL.css" rel="prefetch"/>
<link as="script" as_="script" href="/point-CE2IeZrR.js" rel="prefetch"/>
<link as="script" as_="script" href="/QRCode-D0DbIo1A.js" rel="prefetch"/>
<link as="script" as_="script" href="/SalaryBoard-3PMHtWhV.js" rel="prefetch"/>
<link as="script" as_="script" href="/TableBody-D9_fULjk.js" rel="prefetch"/>
<link as="script" as_="script" href="/TableHead-CveSiX9D.js" rel="prefetch"/>
<link as="script" as_="script" href="/TableRow-DfY2b6T0.js" rel="prefetch"/>
<link as="script" as_="script" href="/Tabs-CRHU9vvV.js" rel="prefetch"/>
<link as="script" as_="script" href="/TitlePanel-D2lnCVYI.js" rel="prefetch"/>
<link as="script" as_="script" href="/useDebounce-Cb8VIBJ2.js" rel="prefetch"/>
<link as="script" as_="script" href="/useUpdateButtonTask-pIy8nA2y.js" rel="prefetch"/>
<link as="script" as_="script" href="/useVariants-CmUL1xvu.js" rel="prefetch"/>
</head>
<body>
<div class="center-container">
<div class="bg-white p-8 rounded-lg shadow-md w-full max-w-sm min-w-[400px]">
<div class="flex items-center justify-center pb-5">
<img alt="logo" class="w-13 h-13" src="{{ url_for('static', filename='logo.jpg') }}" style="position: relative; width:60px;height:60px;border-radius: 30px;top:15px"/>
<img alt="ADMAKE" class="h-8" src="{{ url_for('static', filename='ADMAKE.svg') }}"/>
</div>
<form action="https://quanly.admake.vn/dashboard" method="POST" style="max-width: 250px; display:flex; flex-direction: column; gap:20px;margin-top: 20px;">
<input name="username" placeholder="Tên đăng nhập" required="" style="max-width: 250px; font-size:16px; padding:10px 20px; border-radius: 20px; border: 1px solid #ccc;" type="text"/>
<div style="position: relative; max-width: 250px">
<input id="password" name="password" placeholder="Mật khẩu" required="" style="max-width: 250px; font-size:16px;  padding:10px 20px; border-radius: 20px;  border: 1px solid #ccc;" type="password"/>
<i class="bi bi-eye-slash" id="togglePassword" style="position: absolute; right: 30px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
</div>
<button style="background-color: #00B5B4; width: 250px;border:none; font-size:16px; padding:10px 20px;border-radius: 20px;" type="submit">Đăng nhập</button>
</form>
</div>
</div>
<script>
    const togglePassword = document.querySelector('#togglePassword');
    const password = document.querySelector('#password');

    togglePassword.addEventListener('click', function () {
      const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
      password.setAttribute('type', type);
      this.classList.toggle('bi-eye');
      this.classList.toggle('bi-eye-slash');
    });


    

  </script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const loginForm = document.querySelector('form');

    loginForm.addEventListener('submit', function(event) {
      event.preventDefault();  // ngăn submit mặc định form reload trang

      fetch('/login', {
        method: 'POST',
        body: new FormData(loginForm),
        credentials: 'include',  // Cho phép gửi cookie
        mode: 'cors'
      })
        .then(resp => resp.json())
        .then(data => {
          if (data.access_token) {
            sessionStorage.setItem('accessToken', data.access_token);
            window.location.href = '/dashboard';  // redirect bằng JS
          } else {
            console.error('Không nhận được access token:', data);
            alert('Sai thông tin đăng nhập, vui lòng kiểm tra lại.');
          }
        })
        .catch(error => {
          console.error('Lỗi khi gửi request:', error);
          alert('Lỗi đăng nhập, vui lòng thử lại sau.');
        });
    });
  });
  </script>
</body>
</html>
