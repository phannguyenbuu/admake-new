<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Login - ADMAKE</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<style>
    body, html {
      height: 100%;
      margin: 0;
    }
    .center-container {
      display: flex;
      justify-content: center; /* căn giữa ngang */
      align-items: center;     /* căn giữa dọc */
      height: 100vh;           /* chiều cao 100% viewport */
      
      background-image: url("{{ url_for('static', filename='backGround.png') }}");
      background-repeat: no-repeat;      /* không lặp lại ảnh */
      background-size: cover;            /* phóng to ảnh phủ hết div, giữ tỉ lệ */
      background-position: center; 
  }
</style>

























































































<link as="image" as_="script" href="/ADMAKE.svg" rel="prefetch"/>
<link as="image" as_="script" href="/alarm-svgrepo-com.svg" rel="prefetch"/>
<link as="image" as_="script" href="/avatar-default.svg" rel="prefetch"/>
<link as="image" as_="script" href="/backGround.png" rel="prefetch"/>
<link as="image" as_="script" href="/cart-shopping-fast-svgrepo-com.svg" rel="prefetch"/>
<link as="script" as_="script" href="/chat.html" rel="prefetch"/>
<link as="script" as_="script" href="/dashboard.html" rel="prefetch"/>
<link as="image" as_="script" href="/holiday-island-tourism-svgrepo-com.svg" rel="prefetch"/>
<link as="script" as_="script" href="/login.html" rel="prefetch"/>
<link as="image" as_="script" href="/logo.jpg" rel="prefetch"/>
<link as="image" as_="script" href="/logo.svg" rel="prefetch"/>
<link as="image" as_="script" href="/pay-svgrepo-com.svg" rel="prefetch"/>
<link as="script" as_="script" href="/point.html" rel="prefetch"/>
<link as="image" as_="script" href="/remove-bookmark-svgrepo-com.svg" rel="prefetch"/>
<link as="image" as_="script" href="/task-done-svgrepo-com.svg" rel="prefetch"/>
<link as="script" as_="script" href="/assets/auth.service-tSISp_eD.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/chat-BdIvO35p.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/dashboard-DraHWQgc.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/data-CPsB5MIC.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/FormUser-CDLGl6bA.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/Group-B1aUSX76.js" rel="prefetch"/>
<link as="style" as_="script" href="/assets/Group-CAw9rZq-.css" rel="prefetch"/>
<link as="script" as_="script" href="/assets/index-BxiFpuTM.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/index-BXkSRU4L.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/index-Cap1xg2r.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/index-G2JzgBnY.js" rel="prefetch"/>
<link as="style" as_="script" href="/assets/index-jddZ_HR7.css" rel="prefetch"/>
<link as="script" as_="script" href="/assets/index-lO3kp6tU.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/index-XfXREmxy.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/Input-DSnf2H6W.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/login-DzmtP85O.js" rel="prefetch"/>
<link as="style" as_="script" href="/assets/Managerment-DXyWt9De.css" rel="prefetch"/>
<link as="script" as_="script" href="/assets/Managerment-D_6KgY8S.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/page-B2kPF0iE.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/page-BI4EWT-U.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/page-CAs3funs.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/page-cg3dmT1o.js" rel="prefetch"/>
<link as="style" as_="script" href="/assets/page-CW-Azc8I.css" rel="prefetch"/>
<link as="script" as_="script" href="/assets/page-DdOXANhv.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/page-Dk896CTt.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/point-B5yZUK5e.js" rel="prefetch"/>
<link as="style" as_="script" href="/assets/point-BdOndhxL.css" rel="prefetch"/>
<link as="script" as_="script" href="/assets/QRCode-ErAtAN_7.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/SalaryBoard-DWNHy28C.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/TableBody-4t_8Zkcv.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/TableHead-DB-yJyn9.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/TableRow-B6GOTQXu.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/Tabs-Tb2LyDHU.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/TitlePanel-DSY2STKI.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/useDebounce-giiMz1PM.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/useUpdateButtonTask-18yspviZ.js" rel="prefetch"/>
<link as="script" as_="script" href="/assets/useVariants-CB3YNYoQ.js" rel="prefetch"/>
<link as="script" as_="script" href="/auth.service-tSISp_eD.js" rel="prefetch"/>
<link as="script" as_="script" href="/chat-BdIvO35p.js" rel="prefetch"/>
<link as="script" as_="script" href="/dashboard-DraHWQgc.js" rel="prefetch"/>
<link as="script" as_="script" href="/data-CPsB5MIC.js" rel="prefetch"/>
<link as="script" as_="script" href="/FormUser-CDLGl6bA.js" rel="prefetch"/>
<link as="script" as_="script" href="/Group-B1aUSX76.js" rel="prefetch"/>
<link as="style" as_="script" href="/Group-CAw9rZq-.css" rel="prefetch"/>
<link as="script" as_="script" href="/index-BxiFpuTM.js" rel="prefetch"/>
<link as="script" as_="script" href="/index-BXkSRU4L.js" rel="prefetch"/>
<link as="script" as_="script" href="/index-Cap1xg2r.js" rel="prefetch"/>
<link as="script" as_="script" href="/index-G2JzgBnY.js" rel="prefetch"/>
<link as="style" as_="script" href="/index-jddZ_HR7.css" rel="prefetch"/>
<link as="script" as_="script" href="/index-lO3kp6tU.js" rel="prefetch"/>
<link as="script" as_="script" href="/index-XfXREmxy.js" rel="prefetch"/>
<link as="script" as_="script" href="/Input-DSnf2H6W.js" rel="prefetch"/>
<link as="script" as_="script" href="/login-DzmtP85O.js" rel="prefetch"/>
<link as="style" as_="script" href="/Managerment-DXyWt9De.css" rel="prefetch"/>
<link as="script" as_="script" href="/Managerment-D_6KgY8S.js" rel="prefetch"/>
<link as="script" as_="script" href="/page-B2kPF0iE.js" rel="prefetch"/>
<link as="script" as_="script" href="/page-BI4EWT-U.js" rel="prefetch"/>
<link as="script" as_="script" href="/page-CAs3funs.js" rel="prefetch"/>
<link as="script" as_="script" href="/page-cg3dmT1o.js" rel="prefetch"/>
<link as="style" as_="script" href="/page-CW-Azc8I.css" rel="prefetch"/>
<link as="script" as_="script" href="/page-DdOXANhv.js" rel="prefetch"/>
<link as="script" as_="script" href="/page-Dk896CTt.js" rel="prefetch"/>
<link as="script" as_="script" href="/point-B5yZUK5e.js" rel="prefetch"/>
<link as="style" as_="script" href="/point-BdOndhxL.css" rel="prefetch"/>
<link as="script" as_="script" href="/QRCode-ErAtAN_7.js" rel="prefetch"/>
<link as="script" as_="script" href="/SalaryBoard-DWNHy28C.js" rel="prefetch"/>
<link as="script" as_="script" href="/TableBody-4t_8Zkcv.js" rel="prefetch"/>
<link as="script" as_="script" href="/TableHead-DB-yJyn9.js" rel="prefetch"/>
<link as="script" as_="script" href="/TableRow-B6GOTQXu.js" rel="prefetch"/>
<link as="script" as_="script" href="/Tabs-Tb2LyDHU.js" rel="prefetch"/>
<link as="script" as_="script" href="/TitlePanel-DSY2STKI.js" rel="prefetch"/>
<link as="script" as_="script" href="/useDebounce-giiMz1PM.js" rel="prefetch"/>
<link as="script" as_="script" href="/useUpdateButtonTask-18yspviZ.js" rel="prefetch"/>
<link as="script" as_="script" href="/useVariants-CB3YNYoQ.js" rel="prefetch"/>
</head>
<body>
<div class="center-container">
<div class="bg-white p-8 rounded-lg shadow-md w-full max-w-sm min-w-[400px]">
<div class="flex items-center justify-center pb-5">
<img alt="logo" class="w-13 h-13" src="{{ url_for('static', filename='logo.jpg') }}" style="position: relative; width:60px;height:60px;border-radius: 30px;top:15px"/>
<img alt="ADMAKE" class="h-8" src="{{ url_for('static', filename='ADMAKE.svg') }}"/>
</div>
<form action="https://quanly.admake.vn/dashboard" method="POST" style="max-width: 250px; display:flex; flex-direction: column; gap:20px;margin-top: 20px;">
<input name="username" placeholder="Tên đăng nhập" required="" style="max-width: 250px; font-size:16px; padding:10px 20px; border-radius: 20px; border: 1px solid #ccc;" type="text"/>
<div style="position: relative; max-width: 250px">
<input id="password" name="password" placeholder="Mật khẩu" required="" style="max-width: 250px; font-size:16px;  padding:10px 20px; border-radius: 20px;  border: 1px solid #ccc;" type="password"/>
<i class="bi bi-eye-slash" id="togglePassword" style="position: absolute; right: 30px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
</div>
<button style="background-color: #00B5B4; width: 250px;border:none; font-size:16px; padding:10px 20px;border-radius: 20px;" type="submit">Đăng nhập</button>
</form>
</div>
</div>
<script>
    const togglePassword = document.querySelector('#togglePassword');
    const password = document.querySelector('#password');

    togglePassword.addEventListener('click', function () {
      const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
      password.setAttribute('type', type);
      this.classList.toggle('bi-eye');
      this.classList.toggle('bi-eye-slash');
    });


    

  </script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const loginForm = document.querySelector('form');

    loginForm.addEventListener('submit', function(event) {
      event.preventDefault();  // ngăn submit mặc định form reload trang

      fetch('/login', {
        method: 'POST',
        body: new FormData(loginForm),
        credentials: 'include',  // Cho phép gửi cookie
        mode: 'cors'
      })
        .then(resp => resp.json())
        .then(data => {
          if (data.access_token) {
            sessionStorage.setItem('accessToken', data.access_token);
            window.location.href = '/dashboard';  // redirect bằng JS
          } else {
            console.error('Không nhận được access token:', data);
            alert('Sai thông tin đăng nhập, vui lòng kiểm tra lại.');
          }
        })
        .catch(error => {
          console.error('Lỗi khi gửi request:', error);
          alert('Lỗi đăng nhập, vui lòng thử lại sau.');
        });
    });
  });
  </script>
</body>
</html>
