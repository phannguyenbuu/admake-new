import{l as o,v as a}from"./index-DSXg4j8h.js";const s=a(),c={login:async t=>{try{const e=await o.post(`${s}/auth/login`,t);console.log("response",e);const r=e.access_token;if(!r)throw new Error("No access token");return sessionStorage.setItem("accessToken",r),e}catch(e){throw console.error("Login error: ",e),e}},me:()=>{const t=sessionStorage.getItem("accessToken")||"";return o.get(`${s}/auth/me`,{headers:{Authorization:`Bearer ${t}`}})},update:t=>{const e=sessionStorage.getItem("accessToken")||"";return o.put(`${s}/auth/me`,t,{headers:{Authorization:`Bearer ${e}`}})},updateAvatar:t=>{const e=sessionStorage.getItem("accessToken")||"";return o.putForm(`${s}/auth/me/avatar`,t,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e}`}})}};export{c as A};
