import{r as o,g as Ct,m as St,f as Nt,u as Xt,i as Qt,C as qe,az as Yt,j as kt,c as ie,bp as Jt,be as Zt,aq as es,aB as ts,b8 as $t,aa as ss,am as ns,I as ye,d as je,s as e,bU as Tt,bV as rs,bW as _t,bX as os,bY as as,bZ as is,b_ as ls,b$ as cs,c0 as xe,c1 as Mt,c2 as ds,c3 as hs,q as Y,c4 as ms,S as L,x as us,t as X,n as xs,c5 as gs,X as ue,b9 as Ot,Z as fs,B as K,v as oe,a0 as ps,a1 as bs,c6 as vs,Q as ne,V as ys,a3 as ze,bb as we,ba as js,c7 as ws,c8 as ve,c9 as Cs,ca as Ss,R as Ae,cb as Ns}from"./index-DSXg4j8h.js";import{A as ks}from"./auth.service-C0FhehAn.js";import{u as $s,G as Ts,C as _s}from"./Group-SNpTRPqr.js";import{f as Ms,r as Os,R as Es,h as Bs,j as zs,k as Is,P as Rs,u as Ps,e as Ls,I as Ie,a as Et,F as ae}from"./index-DbPdFFKV.js";import{M as Bt,D as Ue}from"./index-5sgN3aGs.js";import{M as Z,C as As,s as Oe,T as Re,b as ce,R as zt,c as It}from"./Add-C2G_wMcD.js";import{C as Hs,f as Ds,c as Fs,R as Ws,a as Xe,u as Vs,t as Gs}from"./Managerment-Cp9ZJmWD.js";import{U as Ks,a as qs}from"./useUpdateButtonTask-BBMvU65e.js";import{d as Pe}from"./DeleteConfirm-fc_XuyEG.js";import{T as Us,a as Xs,b as lt,c as he,d as Qs}from"./TableRow-Cizu5ALW.js";import{T as Ys,C as ct}from"./TableHead-iPSXEUXg.js";import{T as me}from"./Send-D2xSmM1Y.js";import{F as dt}from"./JobAsset-D7TWggFq.js";import{B as Ve}from"./Button-BC5GB06O.js";import{R as Ee}from"./UserOutlined-ixKGLiYK.js";import{R as de,a as Js,g as ht}from"./dashboard-MTfjOaBh.js";import"./QRCode-1UIPng5S.js";import"./Tabs-D63ZjrfH.js";import"./Popper-D2DKWiam.js";import"./index-BfPcpEh8.js";const Ge=o.createContext({}),Zs=s=>{const{antCls:t,componentCls:n,iconCls:r,avatarBg:a,avatarColor:i,containerSize:l,containerSizeLG:c,containerSizeSM:g,textFontSize:d,textFontSizeLG:m,textFontSizeSM:f,iconFontSize:y,iconFontSizeLG:x,iconFontSizeSM:p,borderRadius:v,borderRadiusLG:T,borderRadiusSM:N,lineWidth:h,lineType:k}=s,b=(w,M,B,j)=>({width:w,height:w,borderRadius:"50%",fontSize:M,[`&${n}-square`]:{borderRadius:j},[`&${n}-icon`]:{fontSize:B,[`> ${r}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Nt(s)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:`${Xt(h)} ${k} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),b(l,d,y,v)),{"&-lg":Object.assign({},b(c,m,x,T)),"&-sm":Object.assign({},b(g,f,p,N)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},en=s=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:r,groupSpace:a}=s;return{[`${t}-group`]:{display:"inline-flex",[t]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:r}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:a}}}},tn=s=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:r,fontSize:a,fontSizeLG:i,fontSizeXL:l,fontSizeHeading3:c,marginXS:g,marginXXS:d,colorBorderBg:m}=s;return{containerSize:t,containerSizeLG:n,containerSizeSM:r,textFontSize:a,textFontSizeLG:a,textFontSizeSM:a,iconFontSize:Math.round((i+l)/2),iconFontSizeLG:c,iconFontSizeSM:a,groupSpace:d,groupOverlapping:-g,groupBorderColor:m}},Rt=Ct("Avatar",s=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=s,r=St(s,{avatarBg:n,avatarColor:t});return[Zs(r),en(r)]},tn);var sn=function(s,t){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(n[r[a]]=s[r[a]]);return n};const Pt=o.forwardRef((s,t)=>{const{prefixCls:n,shape:r,size:a,src:i,srcSet:l,icon:c,className:g,rootClassName:d,style:m,alt:f,draggable:y,children:x,crossOrigin:p,gap:v=4,onError:T}=s,N=sn(s,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","style","alt","draggable","children","crossOrigin","gap","onError"]),[h,k]=o.useState(1),[b,w]=o.useState(!1),[M,B]=o.useState(!0),j=o.useRef(null),C=o.useRef(null),$=Qt(t,j),{getPrefixCls:u,avatar:O}=o.useContext(qe),D=o.useContext(Ge),G=()=>{if(!C.current||!j.current)return;const W=C.current.offsetWidth,A=j.current.offsetWidth;W!==0&&A!==0&&v*2<A&&k(A-v*2<W?(A-v*2)/W:1)};o.useEffect(()=>{w(!0)},[]),o.useEffect(()=>{B(!0),k(1)},[i]),o.useEffect(G,[v]);const J=()=>{(T==null?void 0:T())!==!1&&B(!1)},S=Yt(W=>{var A,se;return(se=(A=a??(D==null?void 0:D.size))!==null&&A!==void 0?A:W)!==null&&se!==void 0?se:"default"}),I=Object.keys(typeof S=="object"?S||{}:{}).some(W=>["xs","sm","md","lg","xl","xxl"].includes(W)),_=Ms(I),H=o.useMemo(()=>{if(typeof S!="object")return{};const W=Os.find(se=>_[se]),A=S[W];return A?{width:A,height:A,fontSize:A&&(c||x)?A/2:18}:{}},[_,S]),E=u("avatar",n),R=kt(E),[z,F,Ce]=Rt(E,R),ge=ie({[`${E}-lg`]:S==="large",[`${E}-sm`]:S==="small"}),fe=o.isValidElement(i),ee=r||(D==null?void 0:D.shape)||"circle",Se=ie(E,ge,O==null?void 0:O.className,`${E}-${ee}`,{[`${E}-image`]:fe||i&&M,[`${E}-icon`]:!!c},Ce,R,g,d,F),Ne=typeof S=="number"?{width:S,height:S,fontSize:c?S/2:18}:{};let te;if(typeof i=="string"&&M)te=o.createElement("img",{src:i,draggable:y,srcSet:l,onError:J,alt:f,crossOrigin:p});else if(fe)te=i;else if(c)te=c;else if(b||h!==1){const W=`scale(${h})`,A={msTransform:W,WebkitTransform:W,transform:W};te=o.createElement(Es,{onResize:G},o.createElement("span",{className:`${E}-string`,ref:C,style:Object.assign({},A)},x))}else te=o.createElement("span",{className:`${E}-string`,style:{opacity:0},ref:C},x);return z(o.createElement("span",Object.assign({},N,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Ne),H),O==null?void 0:O.style),m),className:Se,ref:$}),te))}),Be=s=>s?typeof s=="function"?s():s:null,nn=s=>{const{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:a,innerPadding:i,boxShadowSecondary:l,colorTextHeading:c,borderRadiusLG:g,zIndexPopup:d,titleMarginBottom:m,colorBgElevated:f,popoverBg:y,titleBorderBottom:x,innerContentPadding:p,titlePadding:v}=s;return[{[t]:Object.assign(Object.assign({},Nt(s)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":f,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:y,backgroundClip:"padding-box",borderRadius:g,boxShadow:l,padding:i},[`${t}-title`]:{minWidth:r,marginBottom:m,color:c,fontWeight:a,borderBottom:x,padding:v},[`${t}-inner-content`]:{color:n,padding:p}})},Bs(s,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:s.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},rn=s=>{const{componentCls:t}=s;return{[t]:Zt.map(n=>{const r=s[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}})}},on=s=>{const{lineWidth:t,controlHeight:n,fontHeight:r,padding:a,wireframe:i,zIndexPopupBase:l,borderRadiusLG:c,marginXS:g,lineType:d,colorSplit:m,paddingSM:f}=s,y=n-r,x=y/2,p=y/2-t,v=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},zs(s)),Is({contentRadius:c,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:g,titlePadding:i?`${x}px ${v}px ${p}px`:0,titleBorderBottom:i?`${t}px ${d} ${m}`:"none",innerContentPadding:i?`${f}px ${v}px`:0})},Lt=Ct("Popover",s=>{const{colorBgElevated:t,colorText:n}=s,r=St(s,{popoverBg:t,popoverColor:n});return[nn(r),rn(r),Jt(r,"zoom-big")]},on,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var an=function(s,t){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(n[r[a]]=s[r[a]]);return n};const At=({title:s,content:t,prefixCls:n})=>!s&&!t?null:o.createElement(o.Fragment,null,s&&o.createElement("div",{className:`${n}-title`},s),t&&o.createElement("div",{className:`${n}-inner-content`},t)),ln=s=>{const{hashId:t,prefixCls:n,className:r,style:a,placement:i="top",title:l,content:c,children:g}=s,d=Be(l),m=Be(c),f=ie(t,n,`${n}-pure`,`${n}-placement-${i}`,r);return o.createElement("div",{className:f,style:a},o.createElement("div",{className:`${n}-arrow`}),o.createElement(Rs,Object.assign({},s,{className:t,prefixCls:n}),g||o.createElement(At,{prefixCls:n,title:d,content:m})))},cn=s=>{const{prefixCls:t,className:n}=s,r=an(s,["prefixCls","className"]),{getPrefixCls:a}=o.useContext(qe),i=a("popover",t),[l,c,g]=Lt(i);return l(o.createElement(ln,Object.assign({},r,{prefixCls:i,hashId:c,className:ie(n,g)})))};var dn=function(s,t){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(n[r[a]]=s[r[a]]);return n};const hn=o.forwardRef((s,t)=>{var n,r;const{prefixCls:a,title:i,content:l,overlayClassName:c,placement:g="top",trigger:d="hover",children:m,mouseEnterDelay:f=.1,mouseLeaveDelay:y=.1,onOpenChange:x,overlayStyle:p={},styles:v,classNames:T}=s,N=dn(s,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:h,className:k,style:b,classNames:w,styles:M}=es("popover"),B=h("popover",a),[j,C,$]=Lt(B),u=h(),O=ie(c,C,$,k,w.root,T==null?void 0:T.root),D=ie(w.body,T==null?void 0:T.body),[G,J]=Ps(!1,{value:(n=s.open)!==null&&n!==void 0?n:s.visible,defaultValue:(r=s.defaultOpen)!==null&&r!==void 0?r:s.defaultVisible}),S=(R,z)=>{J(R,!0),x==null||x(R,z)},I=R=>{R.keyCode===ss.ESC&&S(!1,R)},_=R=>{S(R)},H=Be(i),E=Be(l);return j(o.createElement(Ls,Object.assign({placement:g,trigger:d,mouseEnterDelay:f,mouseLeaveDelay:y},N,{prefixCls:B,classNames:{root:O,body:D},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},M.root),b),p),v==null?void 0:v.root),body:Object.assign(Object.assign({},M.body),v==null?void 0:v.body)},ref:t,open:G,onOpenChange:_,overlay:H||E?o.createElement(At,{prefixCls:B,title:H,content:E}):null,transitionName:ts(u,"zoom-big",N.transitionName),"data-popover-inject":!0}),$t(m,{onKeyDown:R=>{var z,F;o.isValidElement(m)&&((F=m==null?void 0:(z=m.props).onKeyDown)===null||F===void 0||F.call(z,R)),I(R)}})))}),Ht=hn;Ht._InternalPanelDoNotUseOrYouWillBeFired=cn;const mt=s=>{const{size:t,shape:n}=o.useContext(Ge),r=o.useMemo(()=>({size:s.size||t,shape:s.shape||n}),[s.size,s.shape,t,n]);return o.createElement(Ge.Provider,{value:r},s.children)},mn=s=>{var t,n,r,a;const{getPrefixCls:i,direction:l}=o.useContext(qe),{prefixCls:c,className:g,rootClassName:d,style:m,maxCount:f,maxStyle:y,size:x,shape:p,maxPopoverPlacement:v,maxPopoverTrigger:T,children:N,max:h}=s,k=i("avatar",c),b=`${k}-group`,w=kt(k),[M,B,j]=Rt(k,w),C=ie(b,{[`${b}-rtl`]:l==="rtl"},j,w,g,d,B),$=ns(N).map((D,G)=>$t(D,{key:`avatar-key-${G}`})),u=(h==null?void 0:h.count)||f,O=$.length;if(u&&u<O){const D=$.slice(0,u),G=$.slice(u,O),J=(h==null?void 0:h.style)||y,S=((t=h==null?void 0:h.popover)===null||t===void 0?void 0:t.trigger)||T||"hover",I=((n=h==null?void 0:h.popover)===null||n===void 0?void 0:n.placement)||v||"top",_=Object.assign(Object.assign({content:G},h==null?void 0:h.popover),{classNames:{root:ie(`${b}-popover`,(a=(r=h==null?void 0:h.popover)===null||r===void 0?void 0:r.classNames)===null||a===void 0?void 0:a.root)},placement:I,trigger:S});return D.push(o.createElement(Ht,Object.assign({key:"avatar-popover-key",destroyOnHidden:!0},_),o.createElement(Pt,{style:J},`+${O-u}`))),M(o.createElement(mt,{shape:p,size:x},o.createElement("div",{className:C,style:m},D)))}return M(o.createElement(mt,{shape:p,size:x},o.createElement("div",{className:C,style:m},$)))},Dt=Pt;Dt.Group=mn;var un={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},xn=function(t,n){return o.createElement(ye,je({},t,{ref:n,icon:un}))},Ke=o.forwardRef(xn),gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"},fn=function(t,n){return o.createElement(ye,je({},t,{ref:n,icon:gn}))},pn=o.forwardRef(fn),bn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},vn=function(t,n){return o.createElement(ye,je({},t,{ref:n,icon:bn}))},yn=o.forwardRef(vn),jn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},wn=function(t,n){return o.createElement(ye,je({},t,{ref:n,icon:jn}))},Cn=o.forwardRef(wn),Sn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 00-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z"}}]},name:"question",theme:"outlined"},Nn=function(t,n){return o.createElement(ye,je({},t,{ref:n,icon:Sn}))},kn=o.forwardRef(Nn);const Ft=o.createContext(null);function Qe(){return o.useContext(Ft)}const $n=typeof Symbol=="function"&&Symbol.for,Tn=$n?Symbol.for("mui.nested"):"__THEME_NESTED__";function _n(s,t){return typeof t=="function"?t(s):{...s,...t}}function Mn(s){const{children:t,theme:n}=s,r=Qe(),a=o.useMemo(()=>{const i=r===null?{...n}:_n(r,n);return i!=null&&(i[Tn]=r!==null),i},[n,r]);return e.jsx(Ft.Provider,{value:a,children:t})}function On(s){const t=Tt(),n=rs()||"",{modularCssLayers:r}=s;let a="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?a="":typeof r=="string"?a=r.replace(/mui(?!\.)/g,a):a=`@layer ${a};`,_t(()=>{var c,g;const i=document.querySelector("head");if(!i)return;const l=i.firstChild;if(a){if(l&&((c=l.hasAttribute)!=null&&c.call(l,"data-mui-layer-order"))&&l.getAttribute("data-mui-layer-order")===n)return;const d=document.createElement("style");d.setAttribute("data-mui-layer-order",n),d.textContent=a,i.prepend(d)}else(g=i.querySelector(`style[data-mui-layer-order="${n}"]`))==null||g.remove()},[a,n]),a?e.jsx(os,{styles:a}):null}const ut={};function xt(s,t,n,r=!1){return o.useMemo(()=>{const a=s&&t[s]||t;if(typeof n=="function"){const i=n(a),l=s?{...t,[s]:i}:i;return r?()=>l:l}return s?{...t,[s]:n}:{...t,...n}},[s,t,n,r])}function Wt(s){const{children:t,theme:n,themeId:r}=s,a=Tt(ut),i=Qe()||ut,l=xt(r,a,n),c=xt(r,i,n,!0),g=(r?l[r]:l).direction==="rtl",d=On(l);return e.jsx(Mn,{theme:c,children:e.jsx(as.Provider,{value:l,children:e.jsx(is,{value:g,children:e.jsxs(ls,{value:r?l[r].components:l.components,children:[d,t]})})})})}const Ye="mode",Je="color-scheme",En="data-color-scheme";function Bn(s){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:a=Ye,colorSchemeStorageKey:i=Je,attribute:l=En,colorSchemeNode:c="document.documentElement",nonce:g}=s||{};let d="",m=l;if(l==="class"&&(m=".%s"),l==="data"&&(m="[data-%s]"),m.startsWith(".")){const y=m.substring(1);d+=`${c}.classList.remove('${y}'.replace('%s', light), '${y}'.replace('%s', dark));
      ${c}.classList.add('${y}'.replace('%s', colorScheme));`}const f=m.match(/\[([^[\]]+)\]/);if(f){const[y,x]=f[1].split("=");x||(d+=`${c}.removeAttribute('${y}'.replace('%s', light));
      ${c}.removeAttribute('${y}'.replace('%s', dark));`),d+=`
      ${c}.setAttribute('${y}'.replace('%s', colorScheme), ${x?`${x}.replace('%s', colorScheme)`:'""'});`}else d+=`${c}.setAttribute('${m}', colorScheme);`;return e.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?g:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${t}';
  const dark = localStorage.getItem('${i}-dark') || '${r}';
  const light = localStorage.getItem('${i}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${d}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function zn(){}const In=({key:s,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(n){if(typeof window>"u")return;if(!t)return n;let r;try{r=t.localStorage.getItem(s)}catch{}return r||n},set:n=>{if(t)try{t.localStorage.setItem(s,n)}catch{}},subscribe:n=>{if(!t)return zn;const r=a=>{const i=a.newValue;a.key===s&&n(i)};return t.addEventListener("storage",r),()=>{t.removeEventListener("storage",r)}}});function He(){}function gt(s){if(typeof window<"u"&&typeof window.matchMedia=="function"&&s==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Vt(s,t){if(s.mode==="light"||s.mode==="system"&&s.systemMode==="light")return t("light");if(s.mode==="dark"||s.mode==="system"&&s.systemMode==="dark")return t("dark")}function Rn(s){return Vt(s,t=>{if(t==="light")return s.lightColorScheme;if(t==="dark")return s.darkColorScheme})}function Pn(s){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:a=[],modeStorageKey:i=Ye,colorSchemeStorageKey:l=Je,storageWindow:c=typeof window>"u"?void 0:window,storageManager:g=In,noSsr:d=!1}=s,m=a.join(","),f=a.length>1,y=o.useMemo(()=>g==null?void 0:g({key:i,storageWindow:c}),[g,i,c]),x=o.useMemo(()=>g==null?void 0:g({key:`${l}-light`,storageWindow:c}),[g,l,c]),p=o.useMemo(()=>g==null?void 0:g({key:`${l}-dark`,storageWindow:c}),[g,l,c]),[v,T]=o.useState(()=>{const j=(y==null?void 0:y.get(t))||t,C=(x==null?void 0:x.get(n))||n,$=(p==null?void 0:p.get(r))||r;return{mode:j,systemMode:gt(j),lightColorScheme:C,darkColorScheme:$}}),[N,h]=o.useState(d||!f);o.useEffect(()=>{h(!0)},[]);const k=Rn(v),b=o.useCallback(j=>{T(C=>{if(j===C.mode)return C;const $=j??t;return y==null||y.set($),{...C,mode:$,systemMode:gt($)}})},[y,t]),w=o.useCallback(j=>{j?typeof j=="string"?j&&!m.includes(j)?console.error(`\`${j}\` does not exist in \`theme.colorSchemes\`.`):T(C=>{const $={...C};return Vt(C,u=>{u==="light"&&(x==null||x.set(j),$.lightColorScheme=j),u==="dark"&&(p==null||p.set(j),$.darkColorScheme=j)}),$}):T(C=>{const $={...C},u=j.light===null?n:j.light,O=j.dark===null?r:j.dark;return u&&(m.includes(u)?($.lightColorScheme=u,x==null||x.set(u)):console.error(`\`${u}\` does not exist in \`theme.colorSchemes\`.`)),O&&(m.includes(O)?($.darkColorScheme=O,p==null||p.set(O)):console.error(`\`${O}\` does not exist in \`theme.colorSchemes\`.`)),$}):T(C=>(x==null||x.set(n),p==null||p.set(r),{...C,lightColorScheme:n,darkColorScheme:r}))},[m,x,p,n,r]),M=o.useCallback(j=>{v.mode==="system"&&T(C=>{const $=j!=null&&j.matches?"dark":"light";return C.systemMode===$?C:{...C,systemMode:$}})},[v.mode]),B=o.useRef(M);return B.current=M,o.useEffect(()=>{if(typeof window.matchMedia!="function"||!f)return;const j=(...$)=>B.current(...$),C=window.matchMedia("(prefers-color-scheme: dark)");return C.addListener(j),j(C),()=>{C.removeListener(j)}},[f]),o.useEffect(()=>{if(f){const j=(y==null?void 0:y.subscribe(u=>{(!u||["light","dark","system"].includes(u))&&b(u||t)}))||He,C=(x==null?void 0:x.subscribe(u=>{(!u||m.match(u))&&w({light:u})}))||He,$=(p==null?void 0:p.subscribe(u=>{(!u||m.match(u))&&w({dark:u})}))||He;return()=>{j(),C(),$()}}},[w,b,m,t,c,f,y,x,p]),{...v,mode:N?v.mode:void 0,systemMode:N?v.systemMode:void 0,colorScheme:N?k:void 0,setMode:b,setColorScheme:w}}const Ln="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function An(s){const{themeId:t,theme:n={},modeStorageKey:r=Ye,colorSchemeStorageKey:a=Je,disableTransitionOnChange:i=!1,defaultColorScheme:l,resolveTheme:c}=s,g={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},d=o.createContext(void 0),m=()=>o.useContext(d)||g,f={},y={};function x(N){var rt,ot,at,it;const{children:h,theme:k,modeStorageKey:b=r,colorSchemeStorageKey:w=a,disableTransitionOnChange:M=i,storageManager:B,storageWindow:j=typeof window>"u"?void 0:window,documentNode:C=typeof document>"u"?void 0:document,colorSchemeNode:$=typeof document>"u"?void 0:document.documentElement,disableNestedContext:u=!1,disableStyleSheetGeneration:O=!1,defaultMode:D="system",forceThemeRerender:G=!1,noSsr:J}=N,S=o.useRef(!1),I=Qe(),_=o.useContext(d),H=!!_&&!u,E=o.useMemo(()=>k||(typeof n=="function"?n():n),[k]),R=E[t],z=R||E,{colorSchemes:F=f,components:Ce=y,cssVarPrefix:ge}=z,fe=Object.keys(F).filter(V=>!!F[V]).join(","),ee=o.useMemo(()=>fe.split(","),[fe]),Se=typeof l=="string"?l:l.light,Ne=typeof l=="string"?l:l.dark,te=F[Se]&&F[Ne]?D:((ot=(rt=F[z.defaultColorScheme])==null?void 0:rt.palette)==null?void 0:ot.mode)||((at=z.palette)==null?void 0:at.mode),{mode:W,setMode:A,systemMode:se,lightColorScheme:Ze,darkColorScheme:et,colorScheme:Kt,setColorScheme:tt}=Pn({supportedColorSchemes:ee,defaultLightColorScheme:Se,defaultDarkColorScheme:Ne,modeStorageKey:b,colorSchemeStorageKey:w,defaultMode:te,storageManager:B,storageWindow:j,noSsr:J});let Le=W,q=Kt;H&&(Le=_.mode,q=_.colorScheme);let ke=q||z.defaultColorScheme;z.vars&&!G&&(ke=z.defaultColorScheme);const pe=o.useMemo(()=>{var le;const V=((le=z.generateThemeVars)==null?void 0:le.call(z))||z.vars,P={...z,components:Ce,colorSchemes:F,cssVarPrefix:ge,vars:V};if(typeof P.generateSpacing=="function"&&(P.spacing=P.generateSpacing()),ke){const Q=F[ke];Q&&typeof Q=="object"&&Object.keys(Q).forEach(U=>{Q[U]&&typeof Q[U]=="object"?P[U]={...P[U],...Q[U]}:P[U]=Q[U]})}return c?c(P):P},[z,ke,Ce,F,ge]),be=z.colorSchemeSelector;_t(()=>{if(q&&$&&be&&be!=="media"){const V=be;let P=be;if(V==="class"&&(P=".%s"),V==="data"&&(P="[data-%s]"),V!=null&&V.startsWith("data-")&&!V.includes("%s")&&(P=`[${V}="%s"]`),P.startsWith("."))$.classList.remove(...ee.map(le=>P.substring(1).replace("%s",le))),$.classList.add(P.substring(1).replace("%s",q));else{const le=P.replace("%s",q).match(/\[([^\]]+)\]/);if(le){const[Q,U]=le[1].split("=");U||ee.forEach(Ut=>{$.removeAttribute(Q.replace(q,Ut))}),$.setAttribute(Q,U?U.replace(/"|'/g,""):"")}else $.setAttribute(P,q)}}},[q,be,$,ee]),o.useEffect(()=>{let V;if(M&&S.current&&C){const P=C.createElement("style");P.appendChild(C.createTextNode(Ln)),C.head.appendChild(P),window.getComputedStyle(C.body),V=setTimeout(()=>{C.head.removeChild(P)},1)}return()=>{clearTimeout(V)}},[q,M,C]),o.useEffect(()=>(S.current=!0,()=>{S.current=!1}),[]);const qt=o.useMemo(()=>({allColorSchemes:ee,colorScheme:q,darkColorScheme:et,lightColorScheme:Ze,mode:Le,setColorScheme:tt,setMode:A,systemMode:se}),[ee,q,et,Ze,Le,tt,A,se,pe.colorSchemeSelector]);let st=!0;(O||z.cssVariables===!1||H&&(I==null?void 0:I.cssVarPrefix)===ge)&&(st=!1);const nt=e.jsxs(o.Fragment,{children:[e.jsx(Wt,{themeId:R?t:void 0,theme:pe,children:h}),st&&e.jsx(cs,{styles:((it=pe.generateStyleSheets)==null?void 0:it.call(pe))||[]})]});return H?nt:e.jsx(d.Provider,{value:qt,children:nt})}const p=typeof l=="string"?l:l.light,v=typeof l=="string"?l:l.dark;return{CssVarsProvider:x,useColorScheme:m,getInitColorSchemeScript:N=>Bn({colorSchemeStorageKey:a,defaultLightColorScheme:p,defaultDarkColorScheme:v,modeStorageKey:r,...N})}}function Hn({theme:s,...t}){const n=xe in s?s[xe]:void 0;return e.jsx(Wt,{...t,themeId:n?xe:void 0,theme:n||s})}const $e={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:Dn}=An({themeId:xe,theme:()=>Mt({cssVariables:!0}),colorSchemeStorageKey:$e.colorSchemeStorageKey,modeStorageKey:$e.modeStorageKey,defaultColorScheme:{light:$e.defaultLightColorScheme,dark:$e.defaultDarkColorScheme},resolveTheme:s=>{const t={...s,typography:ds(s.palette,s.typography)};return t.unstable_sx=function(r){return hs({sx:r,theme:this})},t}}),Fn=Dn;function Wn({theme:s,...t}){const n=o.useMemo(()=>{if(typeof s=="function")return s;const r=xe in s?s[xe]:s;return"colorSchemes"in r?null:"vars"in r?s:{...s,vars:null}},[s]);return n?e.jsx(Hn,{theme:n,...t}):e.jsx(Fn,{theme:s,...t})}const Vn=()=>{const[s,t]=o.useState(!1),{notifyList:n,notifyDelete:r,setNotifyList:a,getNotifyList:i,isMobile:l}=Y(),[c,g]=o.useState(1);o.useRef(null);const[d,m]=o.useState({}),f=(N,h)=>{const b=N.currentTarget.getBoundingClientRect(),w=b.left+b.width/2,M=b.top+b.height/2,B=Math.hypot(N.clientX-w,N.clientY-M),j=200,C=1,$=1.05;let u=$-B/j*($-C);u<C&&(u=C),m(O=>({...O,[h]:u}))},y=(N,h)=>{N.currentTarget.style.backgroundColor="",m(k=>({...k,[h]:1}))},x=N=>{r(N),n.length===1&&t(!1),a(h=>h.filter(k=>k.id!==N))},p=()=>{i(),t(!0)},v=()=>t(!1),T={display:"flex",justifyContent:"space-between",gap:10,alignItems:"center",marginBottom:8,padding:10,paddingLeft:40,paddingRight:40,border:"1px solid #00B5B4",borderRadius:30,fontSize:12,transition:"background-color 0.6s ease, transform 0.2s ease",cursor:"pointer"};return e.jsxs(e.Fragment,{children:[e.jsx(Ve,{style:{background:"none",border:"none"},onClick:p,children:e.jsx("span",{className:"text-white font-semibold text-sm px-3 py-1.5 bg-red-600 rounded-full",children:n.length})}),e.jsx(ms,{open:s,onClose:v,"aria-labelledby":"notification-modal-title","aria-describedby":"notification-modal-description",children:e.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"20px",borderRadius:"8px",width:l?"90vw":"60vw",maxHeight:"80vh"},children:[n.length===0&&e.jsx("p",{children:"Kh√¥ng c√≥ th√¥ng b√°o n√†o"}),e.jsx(L,{height:"60vh",style:{overflowX:"hidden",overflowY:"auto"},children:e.jsx("ul",{children:n.map(N=>e.jsxs("li",{style:{...T,backgroundColor:"transparent",transform:`scale(${d[N.id??""]||1})`,transition:"transform 0.2s ease"},onMouseEnter:h=>h.currentTarget.style.backgroundColor="#76ffffff",onMouseMove:h=>f(h,N.id??""),onMouseLeave:h=>y(h,N.id??""),children:[e.jsxs("a",{href:N.target,children:[e.jsx("span",{children:N.text})," ",e.jsx("span",{style:{fontWeight:700,color:"#00B5B4"},children:N.description})]}),e.jsx(us,{"aria-label":"close",size:"small",onClick:()=>{X.success({message:"X√≥a th√¥ng b√°o th√†nh c√¥ng !"}),x(N.id??"")},children:e.jsx(Hs,{fontSize:"small",style:{color:"#00B5B4"}})})]},N.id))})}),e.jsx(Ve,{onClick:v,variant:"contained",style:{marginTop:10,borderRadius:20,backgroundColor:"#00B5B4"},children:"OK"})]})})]})},Gn=s=>new Promise(t=>{setTimeout(t,s)}),Kn="info/queryDetail";function qn(){return xs({queryKey:[Kn],queryFn:()=>ks.me()})}const Un=()=>{const{workspaceEl:s,setWorkspaceEl:t}=$s(),[n,r]=o.useState(!1),[a,i]=o.useState(""),[l,c]=o.useState([]),{refetch:g}=gs((s==null?void 0:s.id)??""),{userId:d,userRoleId:m,workspaces:f,isMobile:y}=Y();o.useEffect(()=>{c(f)},[f]);const x=b=>{if(i(b),!b)c(f);else{const w=f.filter(M=>M.name.toLowerCase().includes(b.toLowerCase()));c(w)}},p=b=>{const w=f.find(M=>M.id.toString()===b.key);w&&(console.log("Selected Group:",w),t(w),r(!0))},v=()=>{r(!1),t(null),g()},[T,N]=o.useState(!1),h={cursor:"pointer",position:"relative",top:-20,left:0,marginTop:0,height:25,width:80,fontWeight:700,color:"#fff",padding:"0px 20px",borderRadius:10,transition:"background-color 0.3s"},k=e.jsxs("div",{style:{padding:8},children:[e.jsx(Ie,{allowClear:!0,placeholder:"T√¨m ki·∫øm t√™n kh√°ch h√†ng",value:a,prefix:e.jsx(Et,{className:"!text-cyan-500 !text-xs sm:!text-sm"}),onChange:b=>x(b.target.value),style:{marginBottom:8}}),l&&e.jsx(Bt,{items:l==null?void 0:l.map(b=>({key:b.id,label:b.name})),onClick:p,style:{maxHeight:"50vh",overflowY:"auto"}})]});return e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{direction:"row",spacing:2,px:.5,sx:{backgroundColor:"#00B4B6",maxHeight:30,borderRadius:5},children:e.jsx(Ue,{overlay:k,trigger:["click"],children:e.jsx(ue,{sx:{width:100,height:25,top:2,position:"relative",borderRadius:10,backgroundColor:T?"rgba(255,255,255,0.5)":"none",transition:"background-color 1s ease",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontWeight:500,fontSize:12},onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),children:e.jsx("span",{style:h,children:"CHAT"})})})}),e.jsx(Z,{open:n,onOk:v,onCancel:v,footer:null,title:`${s==null?void 0:s.name}`,okText:"OK",cancelButtonProps:{style:{display:"none"}},style:{padding:0,minWidth:"96vw",minHeight:"82vh",top:60},children:e.jsx(Ts,{})})]})};var _e={exports:{}},Xn=_e.exports,ft;function Qn(){return ft||(ft=1,(function(s,t){(function(n,r){s.exports=r()})(Xn,(function(){return function(n,r){r.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}}))})(_e)),_e.exports}var Yn=Qn();const Jn=Ot(Yn);var Me={exports:{}},Zn=Me.exports,pt;function er(){return pt||(pt=1,(function(s,t){(function(n,r){s.exports=r()})(Zn,(function(){return function(n,r){r.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}}))})(Me)),Me.exports}var tr=er();const sr=Ot(tr);Pe.extend(Vs);Pe.extend(Gs);Pe.extend(Jn);Pe.extend(sr);const nr=[{key:"status",label:"Ti·∫øn tr√¨nh"},{key:"role",label:"Th√πng r√°c"}];function rr(){const[s,t]=o.useState(!1),[n,r]=o.useState("status"),[a,i]=o.useState([]),l=o.useContext(Ks),{userLeadId:c,workspaces:g,isMobile:d}=Y(),[m,f]=o.useState("");if(!l)throw new Error("UpdateButtonContext not found");const[y,x]=o.useState([]),{refetchTasks:p}=fs(),[v,T]=o.useState(!1),[N,h]=o.useState([]),[k,b]=o.useState(!1),[w,M]=o.useState(null),[B,j]=o.useState(null),[C]=ae.useForm(),$=async S=>{try{if(!(await fetch(`${oe()}/task/restore/${S}`,{method:"PUT"})).ok)throw new Error("Restore failed");X.success({message:"Kh√¥i ph·ª•c c√¥ng vi·ªác th√†nh c√¥ng"}),p(),O("trash")}catch(I){console.error(I),X.error({message:"Kh√¥i ph·ª•c c√¥ng vi·ªác th·∫•t b·∫°i"})}},u=(S,I,_)=>{f(S);let H=y;S&&(H=H.filter(E=>{var R,z,F;return((R=E==null?void 0:E.title)==null?void 0:R.toLowerCase().includes(S.toLowerCase()))||((z=E==null?void 0:E.workspace)==null?void 0:z.toLowerCase().includes(S.toLowerCase()))||((F=E==null?void 0:E.description)==null?void 0:F.toLowerCase().includes(S.toLowerCase()))}),h(H)),h(H)};async function O(S){const I=S==="trash"?`${oe()}/task/trash/inlead/${c}`:`${oe()}/task/inlead/${c}`;try{const _=await fetch(I,{method:"GET"});if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const H=await _.json();x(H),h(H)}catch(_){console.error("Failed to fetch tasks data:",_)}}const D=async()=>{try{if(!(await fetch(`${oe()}/task/trash/clear/inlead/${c}`,{method:"DELETE"})).ok)throw new Error("Clear trash failed");X.success({message:"ƒê√£ x√≥a tr·ªëng th√πng r√°c"}),t(!1),O("trash"),p()}catch(S){X.error({message:"X√≥a th·∫•t b·∫°i",description:String(S)})}};o.useEffect(()=>{v&&O(n)},[v,n]),o.useEffect(()=>{if(!N)return;const S=N.reduce((I,_)=>_!=null&&_.status?(I[_==null?void 0:_.status]||(I[_==null?void 0:_.status]=[]),I[_==null?void 0:_.status].push(_),I):[],{});i(Ds.map(I=>({...I,tasks:S[I.type]||[]})))},[N]);const G=()=>T(!1),J={items:nr,onClick:({key:S})=>{r(S==="status"?"status":"trash"),T(!0)}};return e.jsxs(e.Fragment,{children:[e.jsx(Ue,{menu:J,children:e.jsx(ue,{sx:{width:100,height:25,top:0,padding:1.8,position:"relative",borderRadius:10,backgroundColor:k?"rgba(255,255,255,0.5)":"#00B4B5",transition:"background-color 1s ease",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",color:"#fff",fontWeight:500,fontSize:12},onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:"L·ªäCH TR√åNH"})}),e.jsxs(Z,{title:n==="trash"?"TH√ôNG R√ÅC C√îNG VI·ªÜC":"B·∫¢NG C√îNG VI·ªÜC T·ªîNG H·ª¢P",open:v,onCancel:G,style:{minWidth:d?"320vw":"95vw",padding:0},footer:null,closable:!1,children:[n==="trash"?e.jsx(K,{danger:!0,type:"primary",style:{marginLeft:8},onClick:()=>t(!0),children:"X√≥a tr·ªëng th√πng r√°c"}):e.jsx(ae,{children:e.jsxs(L,{direction:d?"column":"row",spacing:2,style:{paddingBottom:2},children:[e.jsx(Ie,{allowClear:!0,placeholder:"T√¨m ki·∫øm c√¥ng vi·ªác",value:m,prefix:e.jsx(Et,{className:"!text-cyan-500 !text-xs sm:!text-sm"}),onChange:S=>u(S.target.value),style:{marginBottom:8,width:300}}),!1]})}),e.jsx("button",{onClick:G,style:{position:"fixed",top:64,right:d?10:60,zIndex:1e3,background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:"√ó"}),e.jsx(L,{direction:"row",spacing:1,style:{marginTop:5},children:a.map((S,I)=>{var E,R;const _=Fs[I],H=S.type==="REWARD";return e.jsxs(As,{style:{background:`linear-gradient(135deg, ${_.color} 0%, ${_.color}dd 100%)`,borderRadius:10,overflow:"hidden",width:"100%",boxShadow:"0 0 10px rgba(0,0,0,0.2)",height:"fit-content",padding:0},children:[e.jsx(or,{title:S.title,length:((E=S==null?void 0:S.tasks)==null?void 0:E.length)??0,mode:n}),(R=S==null?void 0:S.tasks)==null?void 0:R.map(z=>e.jsx(ar,{theme:_,isRewardColumn:H,task:z,mode:n,restoreTask:$},z.id))]},S.id)})})]}),e.jsxs(Z,{open:s,title:"‚ö†Ô∏è X√ìA Vƒ®NH VI·ªÑN",okText:"X√≥a vƒ©nh vi·ªÖn",okButtonProps:{danger:!0},cancelText:"H·ªßy",onCancel:()=>t(!1),onOk:D,children:[e.jsxs("p",{children:["T·∫•t c·∫£ c√¥ng vi·ªác trong ",e.jsx("b",{children:"Th√πng r√°c"})," s·∫Ω b·ªã"," ",e.jsx("b",{style:{color:"red"},children:"x√≥a vƒ©nh vi·ªÖn"})," v√†"," ",e.jsx("b",{children:"kh√¥ng th·ªÉ kh√¥i ph·ª•c"}),"."]}),e.jsx("p",{children:"B·∫°n c√≥ ch·∫Øc ch·∫Øn kh√¥ng?"})]})]})}const or=({title:s,length:t,mode:n})=>e.jsxs("div",{className:"flex items-center justify-between !text-white !text-sm font-semibold",style:{padding:8},children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:"w-2 h-2 bg-white/30 rounded-full flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s}),e.jsx("div",{className:"bg-white/20 rounded-full px-2 py-0.5 text-xs font-bold border border-white/5 flex-shrink-0",children:t})]}),e.jsx(Ws,{className:"cursor-pointer hover:bg-white/20 rounded-md p-1.5 transition-all duration-200 flex-shrink-0"})]}),ar=({isRewardColumn:s,task:t,theme:n,mode:r,restoreTask:a})=>e.jsxs("div",{className:"task-card group/task relative mb-3 transition-all duration-200",style:{transition:"none",cursor:"pointer",padding:1},onClick:()=>{if(r==="trash"){Z.confirm({title:"Kh√¥i ph·ª•c c√¥ng vi·ªác",content:"B·∫°n c√≥ ch·∫Øc mu·ªën kh√¥i ph·ª•c task n√†y kh√¥ng?",okText:"Kh√¥i ph·ª•c",cancelText:"H·ªßy",okButtonProps:{danger:!1},onOk:()=>a(t.id)});return}window.location.href=`/dashboard/work-tables/${t.workspace_id}`},children:[e.jsx("div",{className:"absolute inset-0 rounded-xl blur opacity-0 group-hover/task:opacity-20 transition-opacity duration-200",style:{background:`linear-gradient(135deg, ${n.color}40, ${n.color}20)`}}),e.jsxs("div",{className:`relative bg-white rounded-xl p-2 sm:p-3 border transition-all duration-300 

      shadow-md border-gray-100/50 group-hover/task:shadow-lg group-hover/task:border-gray-200/70`,children:[s&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"üèÜ"}),e.jsxs(L,{direction:"row",children:[(t==null?void 0:t.icon)&&e.jsx(ps,{src:`${bs()}/${t.icon}`,alt:"Task icon",sx:{width:100,height:70,borderRadius:0}}),e.jsxs("div",{className:"space-y-1 sm:space-y-1.5",children:[e.jsx("h3",{className:`font-bold text-xs sm:text-sm line-clamp-2 transition-colors duration-150 flex-1 min-w-0 ${s?"text-purple-800":"text-gray-800 group-hover/task:text-gray-900"}`,children:t.title}),e.jsxs("p",{children:[":: ",t.workspace," ::"]}),t.description&&e.jsx("p",{className:"text-gray-500 text-xs line-clamp-2 leading-relaxed",children:t.description}),t.reward&&t.reward!==0&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 font-semibold",children:[e.jsx("span",{children:"üí∞"}),e.jsxs("span",{className:"truncate",children:[t.reward.toLocaleString()," VNƒê"]})]}),(t==null?void 0:t.rate)&&(t==null?void 0:t.rate)>0&&e.jsx("div",{className:"text-xs text-gray-400 font-mono flex-shrink-0",children:[...Array(t.rate)].map((i,l)=>e.jsx(Xe,{style:{color:"orange"}},l))})]})]})]})]}),ir=Mt({typography:{fontSize:12,body1:{fontWeight:300}}}),lr=({questionOpen:s,onCancel:t,children:n})=>{const{userLeadId:r,isMobile:a}=Y(),{workpointSetting:i,setWorkpointSetting:l}=vs(),c=d=>{const{name:m,value:f,type:y,checked:x}=d.target;if(y==="checkbox")l(p=>p&&(m==="work_in_sunday"&&x?{...p,[m]:x,work_in_saturday_noon:!0}:{...p,[m]:x}));else if(y==="number"){const p=f===""?0:parseFloat(f);isNaN(p)||l(v=>v&&{...v,[m]:p})}else if(m.endsWith("_in_hour")||m.endsWith("_in_minute")||m.endsWith("_out_hour")||m.endsWith("_out_minute")){const[p]=f.split(":"),v=parseInt(p,10);isNaN(v)||l(T=>T&&{...T,[m]:v})}},g=d=>{if(d.preventDefault(),!i){console.error("Form state ch∆∞a ƒë∆∞·ª£c kh·ªüi t·∫°o");return}const m={morning_in_hour:i.morning_in_hour,morning_in_minute:i.morning_in_minute,morning_out_hour:i.morning_out_hour,morning_out_minute:i.morning_out_minute,noon_in_hour:i.noon_in_hour,noon_in_minute:i.noon_in_minute,noon_out_hour:i.noon_out_hour,noon_out_minute:i.noon_out_minute,work_in_saturday_noon:i.work_in_saturday_noon,work_in_sunday:i.work_in_sunday,multiply_in_night_overtime:i.multiply_in_night_overtime,multiply_in_sun_overtime:i.multiply_in_sun_overtime};fetch(`${oe()}/workpoint/setting/${r}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then(f=>{if(!f.ok)throw new Error("L·ªói khi c·∫≠p nh·∫≠t c·∫•u h√¨nh");return f.json()}).then(f=>{Oe.success("C·∫≠p nh·∫≠t th√†nh c√¥ng"),t()}).catch(f=>{Oe.error(f.message||"L·ªói m·∫°ng")})};return e.jsx(Z,{open:s,onCancel:t,footer:null,title:"K√≠ hi·ªáu & c·∫•u h√¨nh ph·∫ßn ch·∫•m c√¥ng",children:e.jsxs(Wn,{theme:ir,children:[e.jsxs(L,{direction:"row",spacing:1,p:2,children:[e.jsxs(L,{spacing:1,children:[e.jsxs(L,{direction:"row",spacing:1,children:[e.jsx(ue,{sx:{width:20,height:20,borderRadius:10,background:"none",border:"1px solid #000"}}),e.jsx(ne,{style:{whiteSpace:"nowrap"},children:"Ch∆∞a check-in"})]}),e.jsxs(L,{direction:"row",spacing:1,children:[e.jsx(ue,{sx:{width:20,height:20,borderRadius:10,background:"green"}}),e.jsx(ne,{children:"ƒê√£ check-in"})]}),e.jsxs(L,{direction:"row",spacing:1,children:[e.jsx(ue,{sx:{width:20,height:20,borderRadius:10,background:"red"}}),e.jsx(ne,{children:"ƒê√£ check-out"})]}),e.jsxs(L,{direction:"row",spacing:1,children:[e.jsx(ue,{sx:{width:20,height:20,borderRadius:10,background:"grey"}}),e.jsx(ne,{children:"Ngh·ªâ ph√©p"})]})]}),e.jsxs(L,{direction:"row",spacing:1,sx:{height:72},children:[e.jsxs(L,{sx:{background:"#999",borderRadius:8,width:30,pt:2},children:[e.jsx(ne,{color:"#fff",textAlign:"center",fontSize:10,fontWeight:300,children:"0.00"}),e.jsx(ne,{color:"#fff",textAlign:"center",fontSize:10,fontWeight:300,children:"0.00"})]}),e.jsxs(L,{sx:{},children:[e.jsx(ne,{style:{whiteSpace:"nowrap"},children:"T·ªïng gi·ªù l√†m h√†nh ch√≠nh"}),e.jsx(ne,{sx:{pt:3},children:"T·ªïng gi·ªù tƒÉng ca"})]})]})]}),e.jsxs(L,{component:"form",onSubmit:g,spacing:1,children:[e.jsx(Us,{component:ys,children:e.jsxs(Xs,{size:"small","aria-label":"work times table",children:[e.jsx(Ys,{children:e.jsxs(lt,{children:[e.jsx(he,{}),e.jsx(he,{children:"V√†o"}),e.jsx(he,{children:"Ra"})]})}),e.jsx(Qs,{children:["morning","noon"].map(d=>e.jsxs(lt,{sx:{"& > *":{borderBottom:"unset",padding:1}},children:[e.jsx(he,{children:a?d==="morning"?"S":"C":d==="morning"?"S√°ng":"Chi·ªÅu"}),e.jsx(he,{children:e.jsxs(L,{direction:"row",style:{maxWidth:a?120:""},children:[e.jsx(me,{type:"number",name:`${d}_in_hour`,value:i?i[`${d}_in_hour`]:"",onChange:c,inputProps:{min:0,max:23},label:"Gi·ªù v√†o",required:!0,style:{width:75}}),e.jsx(me,{type:"number",name:`${d}_in_minute`,value:i?i[`${d}_in_minute`]:"",onChange:c,inputProps:{min:0,max:59,step:1},label:"Ph√∫t v√†o",required:!0,style:{width:75,marginLeft:8}})]})}),e.jsx(he,{children:e.jsxs(L,{direction:"row",style:{maxWidth:a?120:""},children:[e.jsx(me,{type:"number",name:`${d}_out_hour`,value:i?i[`${d}_out_hour`]:"",onChange:c,inputProps:{min:0,max:23},label:"Gi·ªù ra",required:!0,style:{width:75}}),e.jsx(me,{type:"number",name:`${d}_out_minute`,value:i?i[`${d}_out_minute`]:"",onChange:c,inputProps:{min:0,max:59,step:1},label:"Ph√∫t ra",required:!0,style:{width:75,marginLeft:8}})]})})]},d))})]})}),e.jsxs(L,{direction:"column",spacing:2,children:[e.jsxs(L,{direction:"row",spacing:2,children:[e.jsx(dt,{control:e.jsx(ct,{name:"work_in_saturday_noon",checked:(i==null?void 0:i.work_in_saturday_noon)||!1,onChange:c}),style:{whiteSpace:"nowrap"},label:"L√†m chi·ªÅu th·ª© 7"}),e.jsx(dt,{control:e.jsx(ct,{name:"work_in_sunday",checked:(i==null?void 0:i.work_in_sunday)||!1,onChange:c}),style:{whiteSpace:"nowrap"},label:"L√†m ng√†y CN"})]}),e.jsxs(L,{direction:"row",spacing:2,children:[e.jsx(me,{label:"TƒÉng ca ƒë√™m",type:"number",name:"multiply_in_night_overtime",value:(i==null?void 0:i.multiply_in_night_overtime)||"",onChange:c,inputProps:{min:1,step:.1},placeholder:"Hours",style:{width:150}}),e.jsx(me,{label:"TƒÉng ca v√†o ng√†y ngh·ªâ",type:"number",name:"multiply_in_sun_overtime",value:(i==null?void 0:i.multiply_in_sun_overtime)||"",onChange:c,inputProps:{min:1,step:.1},placeholder:"Hours",style:{width:150}})]})]}),e.jsx(Ve,{variant:"contained",type:"submit",style:{backgroundColor:"#00B5B4"},children:"C·∫≠p nh·∫≠t"})]})]})})},{Header:cr}=ve;function dr(){const s=ze().pathname,t=we(),n=js(),[r,a]=o.useState(!1),{username:i,userId:l,userRole:c,userRoleId:g,userLeadId:d,workspaces:m,setWorkspaces:f,fullName:y}=Y(),[x,p]=o.useState(!1),{getNotifyList:v,notifyList:T}=Y(),{data:N,refetch:h}=qn(),{data:k,refetch:b}=ws({lead:d});o.useEffect(()=>{k&&(k.sort((j,C)=>j.pinned===C.pinned?new Date(C.updatedAt).getTime()-new Date(j.updatedAt).getTime():j.pinned?-1:1),f(k))},[k]);const w=()=>{p(!0)},M=()=>{p(!1)};o.useEffect(()=>{v();const j=setInterval(()=>{v()},6e4);return()=>clearInterval(j)},[v]);const B=()=>{localStorage.removeItem("Admake-User-Access"),sessionStorage.removeItem("accessToken"),n.clear(),h(),X.success({message:"ƒêƒÉng xu·∫•t th√†nh c√¥ng"}),window.location.href="https://quanly.admake.vn/login"};return e.jsx(e.Fragment,{children:e.jsxs(_s,{children:[e.jsxs(cr,{className:"flex items-center gap-1 justify-between !px-4 md:!px-8 !bg-white shadow-sm h-14 md:h-16 sticky top-0 z-30 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{children:e.jsx("img",{src:"/logo.jpg",alt:"logo",style:{width:40,height:"auto"}})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:"/ADMAKE.svg",alt:"ADMAKE",className:"h-8"})})]}),e.jsx(Un,{}),e.jsx(rr,{}),e.jsx("div",{onClick:w,className:"p-0 rounded-full hover:bg-gray-100 transition-all duration-200 flex items-center justify-center",children:e.jsx(kn,{className:"text-lg md:text-xl transition-colors duration-200"})}),e.jsxs("div",{className:"hidden md:flex items-center",children:[e.jsxs("span",{className:"text-gray-700 font-semibold text-sm px-3 py-1.5 bg-gray-100 rounded-full",children:[y||"Admin"," / ",c==null?void 0:c.name]}),e.jsx(Vn,{})]}),e.jsx("div",{className:"flex items-center",children:e.jsx(Ue,{menu:{items:[{key:"user",label:"Th√¥ng tin",icon:e.jsx(Ee,{}),onClick:()=>{t("/dashboard/infor")}},{key:"logout",label:"ƒêƒÉng xu·∫•t",icon:e.jsx(yn,{}),danger:!0,onClick:B}]},trigger:["click"],placement:"bottomRight",arrow:!0,children:e.jsx(Dt,{size:32,className:"md:!size-10 hover:scale-105 transition-transform duration-200 cursor-pointer shadow-md",style:{background:"linear-gradient(135deg, #06b6d4 0%, #0891b2 100%)",color:"#fff",border:"2px solid #e5e7eb"},icon:e.jsx(Ee,{})})})})]}),s==="/dashboard/workpoints"&&e.jsx(lr,{questionOpen:x,onCancel:M})]})})}const{Title:hr,Text:De}=Re;function Gt({open:s,onCancel:t,onCreate:n,setIsModalOpen:r}){we();const[a]=ae.useForm(),{userLeadId:i}=Y(),l=async c=>{try{const g=await fetch(`${oe()}/workspace/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c.name,lead:i,status:"FREE"})});if(!g.ok)throw new Error("L·ªói khi t·∫°o b·∫£ng c√¥ng vi·ªác");const d=await g.json();X.success({message:"T·∫°o b·∫£ng c√¥ng vi·ªác th√†nh c√¥ng!",description:c.name}),window.location.href=`${window.location.origin}/dashboard/work-tables/${d.id}`}catch(g){X.error({message:"T·∫°o b·∫£ng c√¥ng vi·ªác th·∫•t b·∫°i"}),console.error(g)}};return e.jsx(Z,{title:e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br from-[#00B4B6] to-[#0891b2] flex items-center justify-center shadow-lg",children:e.jsx(ce,{className:"!text-white !text-sm sm:!text-base "})}),e.jsxs("div",{children:[e.jsx(hr,{level:4,className:"!m-0 !text-gray-900 !font-bold !text-sm sm:!text-base",children:"T·∫°o b·∫£ng c√¥ng vi·ªác m·ªõi"}),e.jsx(De,{className:"!text-gray-500 !text-sm sm:!text-base",children:"T·∫°o b·∫£ng c√¥ng vi·ªác m·ªõi ƒë·ªÉ t·ªï ch·ª©c c√¥ng vi·ªác"})]})]}),open:s,onCancel:t,footer:null,width:600,centered:!0,className:"!rounded-3xl create-workspace-modal",styles:{content:{borderRadius:"24px",overflow:"hidden",padding:0,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)"},body:{padding:0,borderRadius:"24px"},header:{borderBottom:"1px solid #f1f3f4",padding:"24px 32px 20px",background:"linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%)",borderRadius:"24px 24px 0 0"},mask:{backdropFilter:"blur(12px)",backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-green-50 via-white to-green-50 border-b border-green-100",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx(De,{className:"text-green-600 text-base font-medium",children:"Th√¥ng tin b·∫£ng c√¥ng vi·ªác m·ªõi"})]})})}),e.jsx("div",{className:"p-8",children:e.jsxs(ae,{layout:"vertical",onFinish:l,form:a,autoComplete:"off",className:"space-y-6",children:[e.jsx(ae.Item,{name:"name",label:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-800 font-semibold text-base",children:"T√™n b·∫£ng c√¥ng vi·ªác"})," ",e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})]}),rules:[{required:!0,message:"Vui l√≤ng nh·∫≠p t√™n b·∫£ng c√¥ng vi·ªác"},{min:3,message:"T√™n b·∫£ng ph·∫£i c√≥ √≠t nh·∫•t 3 k√Ω t·ª±"},{max:50,message:"T√™n b·∫£ng kh√¥ng ƒë∆∞·ª£c qu√° 50 k√Ω t·ª±"}],className:"!mb-6",children:e.jsx(Ie,{placeholder:"Nh·∫≠p t√™n b·∫£ng c√¥ng vi·ªác...",className:"!h-12 !text-base !rounded-xl !border !border-gray-300 focus:!border-green-500 focus:!shadow-lg hover:!border-green-300 !transition-all !duration-200 !shadow-sm",size:"large",prefix:e.jsx(de,{className:"!text-green-500 !mr-2"})})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"!text-white !text-xs !font-bold",children:"‚ÑπÔ∏è"})}),e.jsxs("div",{children:[e.jsx(De,{className:"text-blue-800 font-medium text-sm block mb-1",children:"L∆∞u √Ω khi t·∫°o b·∫£ng c√¥ng vi·ªác:"}),e.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[e.jsx("li",{children:"‚Ä¢ B·∫°n c√≥ th·ªÉ ch·ªânh s·ª≠a ho·∫∑c x√≥a b·∫£ng sau n√†y"}),e.jsx("li",{children:"‚Ä¢ B·∫£ng m·ªõi s·∫Ω ƒë∆∞·ª£c t·∫°o v·ªõi tr·∫°ng th√°i ho·∫°t ƒë·ªông"})]})]})]})}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100",children:[e.jsx(K,{onClick:t,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !text-gray-700 hover:!bg-gray-50 !font-medium !text-xs sm:!text-sm !transition-all !duration-200 !shadow-sm hover:!shadow-md hover:!scale-105 !order-1 sm:!order-1 !drop-shadow-md !border-none",children:"‚ùå H·ªßy b·ªè"}),e.jsx(K,{type:"primary",htmlType:"submit",size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !bg-gradient-to-r !from-[#00B4B6] !to-[#0891b2] hover:!from-[#0891b2] hover:!to-[#00B4B6] !border-0 !shadow-lg hover:!shadow-xl !font-bold !text-xs sm:!text-sm !transition-all !duration-200 !transform hover:!scale-105 !order-2 sm:!order-2 !drop-shadow-md",icon:e.jsx(ce,{}),children:"T·∫°o b·∫£ng c√¥ng vi·ªác"})]})]})})]})})}const mr=["/dashboard/workpoints","/dashboard/work-tables","/dashboard/users","/dashboard/customers"],bt=["/dashboard/workpoints","/dashboard/users","/dashboard/supplier","/dashboard/customers"],ur=[{key:"/dashboard/workpoints",label:"Ch·∫•m c√¥ng",icon:e.jsx(zt,{}),path:"/dashboard/workpoints"},{key:"/dashboard/work-tables",label:"B·∫£ng c√¥ng vi·ªác",icon:e.jsx(de,{}),path:"/dashboard/work-tables"},{key:"/dashboard/users",label:"Qu·∫£n l√Ω nh√¢n s·ª±",icon:e.jsx(Js,{}),path:"/dashboard/users"},{key:"/dashboard/customers",label:"Qu·∫£n l√Ω kh√°ch h√†ng",icon:e.jsx(de,{}),path:"/dashboard/customers"}];function xr({mobileMenuItems:s,allMenuItems:t}){var k,b,w,M,B,j,C,$;const{pathname:n}=ze(),r=we(),[a,i]=o.useState(!1),[l,c]=o.useState(!1),[g,d]=o.useState(!1),[m,f]=o.useState(!1),{workspaces:y}=Y(),x=u=>t.find(O=>O.key===u)||s.find(O=>O.key===u),p=[{key:"/dashboard/workpoints",label:((k=x("/dashboard/workpoints"))==null?void 0:k.label)||"Ch·∫•m c√¥ng",icon:((b=x("/dashboard/workpoints"))==null?void 0:b.icon)||e.jsx(zt,{}),path:"/dashboard/workpoints"},{key:"/dashboard/users",label:((w=x("/dashboard/users"))==null?void 0:w.label)||"Qu·∫£n l√Ω nh√¢n s·ª±",icon:((M=x("/dashboard/users"))==null?void 0:M.icon)||e.jsx(Ee,{}),path:"/dashboard/users"},{key:"/dashboard/customers",label:((B=x("/dashboard/customers"))==null?void 0:B.label)||"Qu·∫£n l√Ω kh√°ch h√†ng",icon:((j=x("/dashboard/customers"))==null?void 0:j.icon)||e.jsx(de,{}),path:"/dashboard/customers"},{key:"/dashboard/supplier",label:((C=x("/dashboard/supplier"))==null?void 0:C.label)||"Qu·∫£n l√Ω th·∫ßu ph·ª•",icon:(($=x("/dashboard/supplier"))==null?void 0:$.icon)||e.jsx(Ee,{}),path:"/dashboard/supplier"}],v=t.filter(u=>u.key!=="/dashboard/work-tables"&&!bt.includes(u.key)),T=bt.some(u=>n.startsWith(u)),N=n.startsWith("/dashboard/work-tables"),h=v.some(u=>u.key!=="divider-1"&&n.startsWith(u.key));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mobile-menu-container fixed bottom-0 left-0 right-0 border-t border-gray-200 px-4 py-2 z-[9999] shadow-lg bg-white/95 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center justify-around",children:[e.jsx(Fe,{active:T,icon:e.jsx(pn,{}),label:"Nh√¢n s·ª±",onClick:()=>c(!0)}),e.jsx(Fe,{active:N,icon:e.jsx(de,{}),label:"B·∫£ng c√¥ng vi·ªác",onClick:()=>i(!0)}),e.jsx(Fe,{active:h,icon:e.jsx(Cn,{}),label:"M·ªü r·ªông",onClick:()=>d(!0)})]})}),e.jsx(We,{open:l,title:"Nh√¢n s·ª±",onClose:()=>c(!1),children:p.map(u=>e.jsx(vt,{icon:u.icon,label:u.label,onClick:()=>{r(u.path||u.key),c(!1)}},u.key))}),e.jsx(We,{open:a,title:"B·∫£ng c√¥ng vi·ªác",onClose:()=>i(!1),children:y.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-200",children:[e.jsx("p",{children:"Ch∆∞a c√≥ b·∫£ng c√¥ng vi·ªác n√†o"}),e.jsxs("button",{onClick:()=>{i(!1),f(!0)},className:"mt-4 px-4 py-2 bg-[#00B4B6] text-white rounded-lg inline-flex items-center gap-2",children:[e.jsx(ce,{})," T·∫°o b·∫£ng m·ªõi"]})]}):e.jsxs(e.Fragment,{children:[y.map(u=>e.jsxs("div",{className:"flex items-center gap-3 py-2 px-2 rounded-lg hover:bg-white/10 transition-all duration-200 cursor-pointer",onClick:()=>{r(`/dashboard/work-tables/${u.id}`),i(!1)},children:[e.jsx("div",{style:{padding:0,background:"none",border:"none",color:"yellow"},children:u.pinned&&e.jsx(Xe,{})}),e.jsx("span",{className:"text-sm font-semibold text-white truncate flex-1 min-w-0",style:{color:(u==null?void 0:u.status)==="FREE"?"yellow":"#fff"},children:u.name})]},u.id)),e.jsxs("button",{onClick:()=>{i(!1),f(!0)},className:"w-full p-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-100 hover:border-[#00B4B6] hover:text-white transition-colors cursor-pointer",children:[e.jsx(ce,{})," T·∫°o b·∫£ng m·ªõi"]})]})}),e.jsx(We,{open:g,title:"M·ªü r·ªông",onClose:()=>d(!1),children:v.map(u=>u.label==="---"?e.jsx("div",{className:"h-px bg-white/30 my-2"},u.key):e.jsx(vt,{icon:u.icon,label:u.label,onClick:()=>{r(u.key),d(!1)}},u.key))}),e.jsx("div",{className:"!z-[10001]",children:e.jsx(Gt,{open:m,onCancel:()=>f(!1),setIsModalOpen:f})})]})}function Fe({active:s,icon:t,label:n,onClick:r}){return e.jsxs("div",{className:`mobile-menu-item flex flex-col items-center cursor-pointer ${s?"active":""}`,onClick:r,children:[e.jsx("div",{className:`mobile-menu-icon w-12 h-12 rounded-full flex items-center justify-center ${s?"bg-[#00B4B6] text-white shadow-lg active":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.jsx("span",{className:"text-lg",children:t})}),e.jsx("span",{className:`mobile-menu-label text-xs mt-1 font-medium block text-center ${s?"text-[#00B4B6] active":"text-gray-600"}`,children:n})]})}function We({open:s,title:t,onClose:n,children:r}){return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[10000] flex items-end",onClick:a=>{a.target===a.currentTarget&&n()},children:e.jsxs("div",{className:"rounded-t-3xl w-full max-h-[70vh] overflow-hidden",style:{backgroundColor:"#00B5B4"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:"x"})]}),e.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto space-y-2",children:r})]})}):null}function vt({icon:s,label:t,onClick:n}){return e.jsxs("div",{className:"flex items-center gap-3 py-3 px-3 rounded-lg hover:bg-white/10 transition-all duration-200 cursor-pointer",onClick:n,children:[e.jsx("span",{className:"text-white text-lg",children:s}),e.jsx("span",{className:"text-sm font-semibold text-white truncate flex-1 min-w-0",children:t})]})}const{Title:gr,Text:yt}=Re;function fr({editModalVisible:s,closeEditModal:t,editForm:n,workspaceId:r,onSuccess:a}){const{mutate:i,isPending:l}=Cs(),c=g=>{fetch(`${oe()}/workspace/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g.name})}).then(d=>{if(!d.ok)throw new Error("Network response was not ok");return d.json()}).then(()=>{Oe.success("C·∫≠p nh·∫≠t workspace th√†nh c√¥ng!"),t(),n.resetFields(),a==null||a()}).catch(()=>{Oe.error("C√≥ l·ªói x·∫£y ra khi c·∫≠p nh·∫≠t workspace!")})};return e.jsx(Z,{title:e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#0891b2] to-[#00B4B6] flex items-center justify-center shadow-lg",children:e.jsx(It,{className:"!text-white !text-lg"})}),e.jsxs("div",{children:[e.jsx(gr,{level:4,className:"!m-0 !text-gray-900 !font-bold",children:"Ch·ªânh s·ª≠a b·∫£ng c√¥ng vi·ªác"}),e.jsx(yt,{className:"text-gray-500 text-sm",children:"C·∫≠p nh·∫≠t th√¥ng tin b·∫£ng c√¥ng vi·ªác"})]})]}),open:s,onCancel:t,footer:null,width:600,centered:!0,className:"!rounded-3xl edit-workspace-modal",styles:{content:{borderRadius:"24px",overflow:"hidden",padding:0,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)"},body:{padding:0,borderRadius:"24px"},header:{borderBottom:"1px solid #f1f3f4",padding:"24px 32px 20px",background:"linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%)",borderRadius:"24px 24px 0 0"},mask:{backdropFilter:"blur(12px)",backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-blue-50 via-white to-blue-50 border-b border-blue-100",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),e.jsx(yt,{className:"text-blue-600 text-base font-medium",children:"Th√¥ng tin b·∫£ng c√¥ng vi·ªác"})]})})}),e.jsx("div",{className:"p-8",children:e.jsxs(ae,{form:n,layout:"vertical",onFinish:c,className:"space-y-6",children:[e.jsx(ae.Item,{name:"name",label:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-800 font-semibold text-base",children:"T√™n b·∫£ng c√¥ng vi·ªác"})," ",e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})]}),rules:[{required:!0,message:"Vui l√≤ng nh·∫≠p t√™n b·∫£ng c√¥ng vi·ªác"}],className:"!mb-6",children:e.jsx(Ie,{placeholder:"Nh·∫≠p t√™n b·∫£ng c√¥ng vi·ªác...",className:"!h-12 !text-base !rounded-xl !border !border-gray-300 focus:!border-blue-500 focus:!shadow-lg hover:!border-blue-300 !transition-all !duration-200 !shadow-sm",size:"large"})}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100",children:[e.jsx(K,{onClick:t,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !text-gray-700 hover:!bg-gray-50 !font-medium !text-xs sm:!text-sm !transition-all !duration-200 !shadow-sm hover:!shadow-md hover:!scale-105 !order-1 sm:!order-1 !drop-shadow-md !border-none",children:"‚ùå H·ªßy b·ªè"}),e.jsx(K,{type:"primary",htmlType:"submit",loading:l,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !bg-gradient-to-r !from-[#00B4B6] !to-[#0891b2] hover:!from-[#0891b2] hover:!to-[#00B4B6] !border-0 !shadow-lg hover:!shadow-xl !font-bold !text-xs sm:!text-sm !transition-all !duration-200 !transform hover:!scale-105 !order-2 sm:!order-2 !drop-shadow-md",children:l?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ƒêang c·∫≠p nh·∫≠t..."]}):"‚úÖ C·∫≠p nh·∫≠t"})]})]})})]})})}const{Title:jt,Text:Te}=Re;function pr({deleteModalVisible:s,closeDeleteModal:t,deletingWorkspace:n,onSuccess:r,refetchWorkSpaces:a}){const{mutate:i,isPending:l}=Ss(),{workspaces:c,setWorkspaces:g}=Y(),d=o.useCallback(()=>{n!=null&&n.id&&fetch(`${oe()}/workspace/${n.id}`,{method:"DELETE"}).then(m=>(m.ok||X.error({message:"Failed to delete workspace"}),m.json())).then(()=>{typeof r=="function"&&r(),g(m=>m.filter(f=>f.id!==n.id)),typeof t=="function"&&t()}).catch(m=>{X.error({message:`Delete error: ${m}`})})},[i,t,n,r]);return e.jsx(Z,{title:e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center shadow-lg",children:e.jsx(Ke,{className:"!text-white !text-lg"})}),e.jsxs("div",{children:[e.jsx(jt,{level:4,className:"!m-0 !text-gray-900 !font-bold",children:"X√≥a b·∫£ng c√¥ng vi·ªác"}),e.jsx(Te,{className:"text-gray-500 text-sm",children:"X√°c nh·∫≠n x√≥a b·∫£ng c√¥ng vi·ªác"})]})]}),open:s,onCancel:t,footer:null,width:500,centered:!0,className:"!rounded-3xl delete-workspace-modal",styles:{content:{borderRadius:"24px",overflow:"hidden",padding:0,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)"},body:{padding:0,borderRadius:"24px"},header:{borderBottom:"1px solid #f1f3f4",padding:"24px 32px 20px",background:"linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%)",borderRadius:"24px 24px 0 0"},mask:{backdropFilter:"blur(12px)",backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-red-50 via-white to-red-50 border-b border-red-100",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),e.jsx(Te,{className:"text-red-600 text-base font-medium",children:"X√°c nh·∫≠n x√≥a"})]})})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-red-100 to-red-200 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Ke,{className:"!text-3xl !text-red-500"})}),e.jsx(jt,{level:3,className:"!text-gray-900 !font-bold !mb-3",children:"X√°c nh·∫≠n x√≥a b·∫£ng c√¥ng vi·ªác"}),e.jsxs("div",{className:"max-w-sm mx-auto mb-8",children:[e.jsxs(Te,{className:"text-gray-600 text-base leading-relaxed",children:["B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a b·∫£ng c√¥ng vi·ªác"," ",e.jsxs("div",{className:"font-semibold text-gray-900 bg-yellow-50 px-2 py-1 rounded-lg",children:['"',n==null?void 0:n.name,' ?"']})]}),e.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx(Te,{className:"text-red-600 text-sm font-medium",children:"‚ö†Ô∏è H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c v√† s·∫Ω x√≥a vƒ©nh vi·ªÖn t·∫•t c·∫£ d·ªØ li·ªáu li√™n quan."})})]}),e.jsxs("div",{className:"flex justify-center gap-4 pt-6 border-t border-gray-100",children:[e.jsx(K,{onClick:t,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !text-gray-700 hover:!bg-gray-50 !font-medium !text-xs sm:!text-sm !transition-all !duration-200 !shadow-sm hover:!shadow-md hover:!scale-105 !order-1 sm:!order-1 !drop-shadow-md !border-none",children:"‚ùå H·ªßy b·ªè"}),e.jsx(K,{danger:!0,loading:l,onClick:d,size:"large",className:"!h-9 sm:!h-10 !px-4 sm:!px-6 !rounded-lg !bg-gradient-to-r !from-red-500 !to-red-600 hover:!from-red-600 hover:!to-red-700 !border-0 !shadow-lg hover:!shadow-xl !font-bold !text-xs sm:!text-sm !transition-all !duration-200 !transform hover:!scale-105 !order-2 sm:!order-2 !drop-shadow-md",children:l?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ƒêang x√≥a..."]}):"X√≥a b·∫£ng c√¥ng vi·ªác"})]})]})})]})})}const{Title:br,Text:re}=Re;function vr({isTabletWorkspaceModalOpen:s,setIsTabletWorkspaceModalOpen:t,workSpaces:n,setIsOpenModalCreateSpace:r,onRefresh:a}){const{pathname:i}=ze(),l=we(),[c,g]=o.useState(!1),[d,m]=o.useState(null),[f]=ae.useForm(),[y,x]=o.useState(!1),[p,v]=o.useState(null),T=o.useCallback(w=>{m(w),f.setFieldsValue({name:w.name}),g(!0)},[f]),N=o.useCallback(w=>{v(w),x(!0)},[]),h=o.useCallback(()=>{g(!1),m(null),f.resetFields()},[f]),k=o.useCallback(()=>{x(!1),v(null)},[]),b=(w=>{X.success({message:"ƒê√£ x√≥a th√†nh c√¥ng",description:w})});return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#0891b2] to-[#0e7490] flex items-center justify-center shadow-lg",children:e.jsx(de,{className:"!text-white !text-lg"})}),e.jsxs("div",{children:[e.jsx(br,{level:4,className:"!m-0 !text-gray-900 !font-bold",children:"Qu·∫£n l√Ω b·∫£ng c√¥ng vi·ªác"}),e.jsx(re,{className:"text-gray-500 text-sm",children:"Ch·ªçn b·∫£ng c√¥ng vi·ªác ƒë·ªÉ l√†m vi·ªác"})]})]}),open:s,onCancel:()=>t(!1),footer:null,width:680,centered:!0,className:"!rounded-3xl workspace-modal",styles:{content:{borderRadius:"24px",overflow:"hidden",padding:0,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)"},body:{padding:0,borderRadius:"24px"},header:{borderBottom:"1px solid #f1f3f4",padding:"24px 32px 20px",background:"linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%)",borderRadius:"24px 24px 0 0"},mask:{backdropFilter:"blur(12px)",backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-gray-50 via-white to-gray-50 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#0891b2] animate-pulse"}),e.jsxs(re,{className:"text-gray-600 text-base font-medium",children:[(n==null?void 0:n.length)||0," b·∫£ng c√¥ng vi·ªác c√≥ s·∫µn"]})]})}),e.jsx(K,{type:"primary",icon:e.jsx(ce,{}),onClick:()=>r(!0),size:"large",className:"!bg-gradient-to-r !from-[#0891b2] !to-[#0e7490] !border-none !rounded-xl !shadow-lg hover:!shadow-xl !transition-all !duration-300 hover:!scale-105 !font-semibold !px-6",children:"T·∫°o b·∫£ng c√¥ng vi·ªác m·ªõi"})]})}),e.jsx("div",{className:"p-8",children:e.jsx("div",{className:"space-y-4 max-h-[420px] overflow-y-auto custom-scrollbar",children:(n==null?void 0:n.length)===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsx(de,{className:"!text-3xl !text-gray-400"})}),e.jsx(re,{className:"text-gray-700 text-lg font-semibold block mb-3",children:"Ch∆∞a c√≥ b·∫£ng c√¥ng vi·ªác n√†o"}),e.jsx(re,{className:"text-gray-500 text-base max-w-sm mx-auto leading-relaxed",children:"T·∫°o b·∫£ng c√¥ng vi·ªác ƒë·∫ßu ti√™n ƒë·ªÉ b·∫Øt ƒë·∫ßu t·ªï ch·ª©c v√† qu·∫£n l√Ω c√¥ng vi·ªác c·ªßa b·∫°n m·ªôt c√°ch hi·ªáu qu·∫£"}),e.jsx("div",{className:"mt-8",children:e.jsx(K,{type:"dashed",icon:e.jsx(ce,{}),onClick:()=>t(!0),size:"large",className:"!border-2 !border-dashed !border-[#0891b2] !text-[#0891b2] hover:!bg-[#0891b2]/5 !rounded-xl !font-medium !px-8",children:"T·∫°o b·∫£ng c√¥ng vi·ªác ƒë·∫ßu ti√™n"})})]}):n==null?void 0:n.map((w,M)=>e.jsxs("div",{className:`group relative flex items-center gap-5 p-5 rounded-2xl border-2 transition-all duration-300 cursor-pointer hover:shadow-xl hover:-translate-y-1 ${i===`/dashboard/work-tables/${w.id}`?"border-[#0891b2] bg-gradient-to-r from-[#0891b2]/8 to-[#0891b2]/4 shadow-lg shadow-[#0891b2]/20":"border-gray-200 hover:border-[#0891b2]/40 bg-white hover:bg-gradient-to-r hover:from-gray-50 hover:to-white"}`,style:{animationDelay:`${M*50}ms`},onClick:()=>{l(`/dashboard/work-tables/${w.id}`),t(!1)},children:[e.jsxs("div",{className:"relative w-20 h-16 rounded-xl overflow-hidden flex-shrink-0 shadow-md group-hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-[#0891b2] to-[#0e7490] flex items-center justify-center text-white text-xl font-bold relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx("span",{className:"relative",children:w.name&&w.name.charAt(0).toUpperCase()})]}),i===`/dashboard/work-tables/${w.id}`&&e.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 rounded-full bg-[#0891b2] border-2 border-white shadow-sm"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx(re,{className:`font-bold text-lg block truncate transition-colors duration-300 ${i===`/dashboard/work-tables/${w.id}`?"text-[#0891b2]":"text-gray-900 group-hover:text-[#0891b2]"}`,children:w.name})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"text-gray-500 text-sm font-medium",children:"B·∫£ng c√¥ng vi·ªác"}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),e.jsx(re,{className:"text-gray-400 text-xs",children:"C·∫≠p nh·∫≠t g·∫ßn ƒë√¢y"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx(K,{type:"text",icon:e.jsx(It,{}),size:"small",onClick:B=>{B.stopPropagation(),T(w)},className:"!text-blue-600 hover:!text-blue-700 hover:!bg-blue-50 !rounded-lg !px-3 !py-1 !h-8 !border !border-blue-200 hover:!border-blue-300 !shadow-sm hover:!shadow-md !transition-all !duration-200",title:"Ch·ªânh s·ª≠a workspace",children:e.jsx("span",{className:"text-xs font-medium",children:"S·ª≠a"})}),e.jsx(K,{type:"text",icon:e.jsx(Ke,{className:"!text-red-500 !text-sm"}),size:"small",danger:!0,onClick:B=>{B.stopPropagation(),N(w)},className:"!text-red-600 hover:!text-red-700 hover:!bg-red-50 !rounded-lg !px-3 !py-1 !h-8 !border !border-red-500 hover:!border-red-300 !shadow-sm hover:!shadow-md !transition-all !duration-200",title:"X√≥a workspace",children:e.jsx("span",{className:"text-xs font-medium",children:"X√≥a"})})]}),e.jsx("div",{className:`transition-all duration-300 ${i===`/dashboard/work-tables/${w.id}`?"text-[#0891b2] opacity-100":"text-gray-400 opacity-0 group-hover:opacity-100 group-hover:translate-x-1"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-[#0891b2]/0 to-[#0891b2]/0 group-hover:from-[#0891b2]/5 group-hover:to-transparent transition-all duration-300 pointer-events-none"})]},w.id))})}),e.jsx("div",{className:"px-8 py-6 bg-gradient-to-r from-gray-50 via-white to-gray-50 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsxs(re,{className:"text-gray-600 text-sm font-medium",children:["ƒê√£ t·∫£i ",(n==null?void 0:n.length)||0," b·∫£ng c√¥ng vi·ªác"]})]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(K,{onClick:()=>t(!1),size:"large",className:"!border-gray-300 !text-gray-600 hover:!border-gray-400 hover:!text-gray-700 !rounded-xl !font-medium !px-6 hover:!shadow-md !transition-all !duration-300",children:"ƒê√≥ng"})})]})})]})}),e.jsx(fr,{editModalVisible:c,closeEditModal:h,editForm:f,workspaceId:(d==null?void 0:d.id)||"",onSuccess:a}),e.jsx(pr,{deleteModalVisible:y,closeDeleteModal:k,deletingWorkspace:p||{},refetchWorkSpaces:a||(()=>{}),onSuccess:()=>b(p==null?void 0:p.name)})]})}const yr=()=>{const[s,t]=o.useState({width:typeof window<"u"?window.innerWidth:1024,height:typeof window<"u"?window.innerHeight:768});return o.useEffect(()=>{if(typeof window>"u")return;const n=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),s};function wt(){const{pathname:s}=ze(),t=we(),{width:n}=yr(),{workspaces:r,canViewPermission:a}=Y(),[i,l]=o.useState(!1),[c,g]=o.useState(!1),[d,m]=o.useState(new Set),f=n<=768,y=n>768&&n<=1024,x=ht(s),v=(()=>{const h=x.filter(k=>mr.includes(k.key));return h.length<3?ur.map(k=>{const b=h.find(w=>w.key===k.key);return{...k,label:(b==null?void 0:b.label)||k.label,icon:(b==null?void 0:b.icon)||k.icon}}):h.map(k=>({key:k.key,label:k.label,icon:k.icon,path:k.key}))})();if(f)return e.jsx(xr,{mobileMenuItems:v,allMenuItems:x});const T=()=>ht(s).filter(h=>h.key!=="/dashboard/infor").map(h=>h.key==="/dashboard/work-tables"&&!y&&(a!=null&&a.view_workspace)?{key:h.key,icon:h.icon,label:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:h.label}),e.jsx("div",{className:"w-6 h-6 rounded-md bg-cyan-500 hover:bg-cyan-600 flex items-center justify-center shadow-sm transition-all duration-200",onClick:b=>{b.stopPropagation(),g(!0)},children:e.jsx(ce,{className:"text-white text-xs font-bold"})})]}),children:(r||[]).map(b=>({id:b.id,key:`/dashboard/work-tables/${b.id}`,label:e.jsxs("div",{className:"flex items-center gap-3 py-1 px-2 rounded-lg hover:bg-white/10 transition-all duration-200",children:[e.jsx("div",{style:{padding:0,background:"none",border:"none",color:"yellow"},children:b.pinned&&e.jsx(Xe,{})}),e.jsx("span",{className:"text-sm font-semibold text-white truncate flex-1 min-w-0",style:{color:(b==null?void 0:b.status)==="FREE"?"yellow":"#fff"},children:b.name})]})}))}:{key:h.key,icon:h.icon,label:y?null:h.label}),N=({key:h})=>{h==="create-workspace"||h==="/dashboard/work-tables"&&y?g(!0):t(h)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-full w-full overflow-y-auto overflow-x-hidden custom-scrollbar px-2",children:e.jsx(Bt,{mode:"inline",selectedKeys:[s],openKeys:Array.from(d),onOpenChange:h=>m(new Set(h)),onClick:N,items:T(),theme:"light",className:"!border-none !bg-transparent !text-white !font-medium !w-full",style:{background:"transparent",border:"none",fontSize:"14px",fontWeight:"500",width:"100%",maxWidth:"100%"}})}),e.jsx("div",{className:"!z-[10001]",children:e.jsx(Gt,{open:i,setIsModalOpen:l,onCancel:()=>l(!1)})}),e.jsx(vr,{isTabletWorkspaceModalOpen:c,setIsTabletWorkspaceModalOpen:g,workSpaces:r||[],setIsOpenModalCreateSpace:l})]})}const{Sider:jr,Content:wr}=ve;function Cr(){const[s,t]=Ae.useState(!1),[n,r]=Ae.useState(!1);return Ae.useEffect(()=>{const a=()=>{t(window.innerWidth<1024),r(window.innerWidth<768)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e.jsx(ve,{className:"",style:{backgroundImage:"url(/backGround.png)",backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},children:e.jsxs(qs,{children:[e.jsx(dr,{}),e.jsxs(ve,{hasSider:!0,className:"",children:[!n&&e.jsxs(jr,{width:280,collapsedWidth:64,collapsible:!0,collapsed:s,onCollapse:t,style:{background:"#00B4B6",boxShadow:"2px 0 8px rgba(0, 180, 182, 0.15)",border:"none",padding:"0",height:"calc(100vh - 66px)",display:"flex",flexDirection:"column",justifyContent:"flex-start",zIndex:10,position:"fixed",left:0,top:66,bottom:0,overflow:"hidden"},className:"!fixed !left-0 !top-[66px] !bottom-0 !z-10 !opacity-90",trigger:null,children:[e.jsx("div",{className:"py-4 px-2"}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(wt,{})})]}),e.jsx(ve,{className:"bg-transparent flex flex-col !min-h-[calc(100vh-72px)]",children:e.jsxs(wr,{className:`flex flex-col md:px-2 min-h-full ${n?"pb-20":""}`,style:{marginLeft:!n&&!s?"280px":!n&&s?"64px":"0",transition:"margin-left 0.2s ease"},children:[e.jsx("div",{className:" px-6 pt-2"}),e.jsx("div",{className:"w-full h-full",children:e.jsx("div",{className:" rounded-2xl min-h-[300px] h-full",children:e.jsx(Ns,{})})})]})})]}),n&&e.jsx(wt,{})]})})}const Vr=()=>e.jsx(Cr,{}),Gr=async()=>(await Gn(2e3),null);export{Vr as Component,Vr as default,Gr as loader};
