import{O as u,q as l,R as a,v as h,s as e,z as f,E as p,A as m,G as x,H as j,J as v,K as g,U as P,P as E,L as R,M as G}from"./index-BpUPXcL_.js";import{u as k,G as w,C as L}from"./Group-ghZ8Y2Pc.js";import"./Send-Drl3n17p.js";import"./QRCode-DuTOs_t_.js";import"./useUpdateButtonTask-CBUuRP-7.js";import"./Button-BNeyAR28.js";import"./Tabs-BfWhfSd6.js";const U=()=>{const{workspaceEl:t,setWorkspaceEl:n}=k(),{id:s}=u(),{setUserRoleId:I}=l(),[d,o]=a.useState(!1),[c,i]=a.useState(!0);return a.useEffect(()=>{console.log("Param",t==null?void 0:t.role),s&&fetch(`${h()}/group/check-access/${s}/`).then(r=>{if(r.status===401||r.status===403)throw window.location.href="/login",new Error("Unauthorized");return r.json()}).then(r=>{r.valid?(o(!0),n(r.data)):(o(!1),window.location.href="/login"),i(!1)}).catch(()=>{o(!1),i(!1)})},[s]),c?e.jsx("div",{children:"Loading..."}):d?e.jsx(w,{}):e.jsx("div",{children:"Access denied or invalid token"})},W={path:"/",element:e.jsx(m,{children:e.jsx(x,{children:e.jsx(j,{children:e.jsx(v,{})})})}),errorElement:e.jsx(p,{}),children:[{path:"/chat/:id",element:e.jsx(L,{children:e.jsx(U,{})}),title:"Chat Group",ignoreInMenu:!0}]},C=f([W],{});g.createRoot(document.getElementById("root")).render(e.jsx(P,{children:e.jsx(E,{children:e.jsx(R,{fallbackElement:e.jsx(G,{}),future:{v7_startTransition:!0},router:C})})}));
