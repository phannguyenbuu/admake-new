import{r as i,q as v,s}from"./index-DwiI2IhC.js";import{u as T,b as N,U as A}from"./dashboard-TcPV1bdS.js";import{F as x}from"./FormUser-D1JGykAS.js";import{B as I}from"./Button-D9oAlcwx.js";import{T as k,a as z}from"./data-u7CbCEC5.js";import{c as _}from"./Add-19pJME5G.js";import"./index-udfmYiN-.js";import"./UserOutlined-C2X6IIvp.js";import"./JobAsset-CpQQT6M4.js";import"./DeleteConfirm-B-vFUD1g.js";import"./Button-CdbztWtG.js";import"./Send-kh9MbFaG.js";import"./index-CW0pHrm9.js";import"./Popper-DWsuAb0h.js";import"./index-CXPK8Dzd.js";import"./CaretUpOutlined-Dq7FnadQ.js";import"./QRCode-oaCYiJOe.js";import"./TitlePanel-eEfI5l9A.js";const te=()=>{var u,f;const[r,g]=i.useState({openCreate:!1,openUpdate:!1}),{userId:B,username:D,userRoleId:E,userRole:L,userLeadId:y,canViewPermission:l}=v(),[a,p]=i.useState({page:1,limit:10,lead:y,search:""}),[b,d]=i.useState(!1),w=T(a.search,500),{data:e,isLoading:j,refetch:C}=N({...a,search:w}),m=Array.isArray((u=e==null?void 0:e.data)==null?void 0:u.data)?e.data.data:Array.isArray(e==null?void 0:e.data)?e.data:[],S=Number(((f=e==null?void 0:e.data)==null?void 0:f.total)??(e==null?void 0:e.total)??m.length),c=async()=>{d(!0);try{await C()}finally{setTimeout(()=>{d(!1)},500)}};i.useEffect(()=>{console.log("CVS",l)},[l]);const[h,U]=i.useState(null),o=t=>()=>{g({...r,[t]:!r[t]})},R=t=>{p({...a,search:t,page:1})};return l!=null&&l.view_user?s.jsxs("div",{className:"min-h-screen p-2 w-full",children:[s.jsx(I,{toggle:o("openCreate"),refetch:c,title:"Thêm nhân sự",loading:b,onSearch:R}),s.jsx(k,{columns:z,dataSource:m,loading:j,rowSelection:{type:"radio",columnWidth:100,renderCell:(t,n)=>s.jsx(_,{className:"!text-cyan-600 !cursor-pointer !text-xl",onClick:()=>{U(n),o("openUpdate")()}})},pagination:{pageSize:a.limit,current:a.page,total:S,onChange:(t,n)=>{p({...a,page:t,limit:n})},showSizeChanger:!0,showTotal:(t,n)=>`${n[0]}-${n[1]} của ${t} nhân sự`,style:{paddingRight:"15px"},locale:{items_per_page:"/ Trang"}}}),r.openCreate&&s.jsxs("div",{className:"fixed inset-0 z-[50] flex justify-center items-center bg-black/30 px-2 overflow-y-auto min-h-screen py-6 hide-scrollbar",children:[s.jsx("style",{children:`
            .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}),s.jsx("div",{className:"w-full",children:s.jsx(x,{isAppend:!0,onCancel:o("openCreate"),onRefresh:()=>{o("openCreate")(),c()},isSupplier:!1})})]}),r.openUpdate&&h&&s.jsxs("div",{className:"fixed inset-0 z-[50] flex justify-center items-center bg-black/30 px-2 overflow-y-auto min-h-screen py-6 hide-scrollbar",children:[s.jsx("style",{children:`
            .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}),s.jsx("div",{className:"w-full",children:s.jsx(x,{isAppend:!1,onCancel:o("openUpdate"),onRefresh:()=>{o("openUpdate")(),c()},user:h,isSupplier:!1})})]})]}):s.jsx(A,{})},re=async()=>(await new Promise(r=>setTimeout(r,2e3)),{userId:1,name:"John Doe"});export{te as default,re as loader};
